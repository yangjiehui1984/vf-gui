!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=29)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(12);function o(t){var e=t.toString(16);return 4==e.length?"00"+e:1==e.length?"0"+e:e}function r(t,e,i){return 65536*t+256*e+i}function s(t){return{r:Math.floor(t/65536),g:Math.floor(t/256)%256,b:t%256}}e.log=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];console.log.apply(console,[t].concat(e))},e.setSourcePath=function(t){e.$getSourcePath=t},e.setDisplayObjectPath=function(t){e.$getUIDisplayObjectPath=t},e.getTexture=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t instanceof vf.Texture?t:null==t?t=void 0:null==t?t=void 0:vf.Texture.from(t)},e.getSheet=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t},e.getSound=function(t){return e.$getSourcePath&&(t=e.$getSourcePath(t)),t},e.getDisplayObject=function(t,i){return e.$getUIDisplayObjectPath&&(t=e.$getUIDisplayObjectPath(t,i)),t},e.getStage=function t(e){return e.$stage?e.$stage:e.parent instanceof n.Stage?e.parent:e.parent?t(e.parent):void 0},e.getDisplayPathById=function t(e,i){return void 0===i&&(i=[]),""===e.id?i:(i.push(e.id),e.parent?e.parent instanceof n.Stage?i:t(e.parent,i):i)},e.setRectangle=function(t,e,i,n,o){t.x=e,t.y=i,t.width=n,t.height=o},e.now=function(){if(void 0!==performance&&void 0!==performance.now)return performance.now.bind(performance)();var t=performance&&performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart:Date.now();return Date.now()-t},e.deepCopy=function t(e,i){if(void 0===e||"object"!=typeof e)return e;if(Array.isArray(e))return[].concat(e);if("object"==typeof e){var n=i||{};for(var o in e)n[o]=t(e[o],n[o]);return n}return e},e.hexToInt=function(t,e){if("number"==typeof t)return t;var i=parseInt(t.replace("#","0x"));return isNaN(i)?e:i},e.hexToRgba=function(t,e){var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return!!i&&"rgba("+parseInt(i[1],16)+","+parseInt(i[2],16)+","+parseInt(i[3],16)+","+e+")"},e.componentToHex=o,e.rgbToHex=function(t,e,i){return"#"+o(t)+o(e)+o(i)},e.rgbToNumber=r,e.rgbStrToNumber=function(t){var e=t.substring(4,t.length-1).split(",");return r(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]))},e.numberToRgb=s,e.hexToRgb=function(t){if(void 0===t&&(t=16777215),"number"==typeof t)return s(t);t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return e+e+i+i+n+n}));var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:{r:255,g:255,b:255}},e.Lerp=function(t,e,i){return i>1?i=1:i<0&&(i=0),t+(e-t)*i},e.Round=function(t,e){var i=Math.pow(10,e);return Math.round(t*i)/i},e.uid=function(){return vf.utils.uid()},e.getQueryVariable=function(t){var e=new URLSearchParams(location.search);if(e.has(t))return e.get(t)},e.getStringFunctionParam=function(t){var e={};e.key=t.substr(0,t.indexOf("("));var i=t.substr(t.indexOf("(")+1);return e.value=parseFloat(i.substr(0,i.lastIndexOf(")"))),e},e.isDeltaIdentity=function(t){return 1===t.a&&0===t.b&&0===t.c&&1===t.d},e.formatRelative=function(t,e){if(null==t)return NaN;if("number"==typeof t)return t;var i=t,n=i.indexOf("%");return-1==n?+i:.01*+i.substring(0,n)*e},e.pointDistance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},e.pointSub=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},e.pointPlus=function(t,e){return{x:t.x+e.x,y:t.y+e.y}},e.pointSignAngle=function(t,e){var i=t.x*e.y-e.x*t.y,n=t.x*e.x+t.y*e.y;return Math.atan2(i,n)*(360/(2*Math.PI))},e.getGuiClass=function(t){return vf.gui[t]},e.sayHello=function(){vf.utils.versionPrint("gui "+vf.gui.version,"https://vipkid-edu.github.io/vf-gui")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(32);e.ClickEvent=n.ClickEvent;var o=i(33);e.DragDropController=o;var r=i(16);e.DragEvent=r.DragEvent;var s=i(34);e.InputController=s;var a=i(17);e.MouseScrollEvent=a.MouseScrollEvent;var h=i(18);e.InteractionEvent=h.InteractionEvent;var u=i(10);e.TouchMouseEvent=u.TouchMouseEvent;var l=i(19);e.ComponentEvent=l;var c=i(35);e.GroupController=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=i(20),a=i(36),h=i(38),u=i(40),l=i(0),c=i(41),p=i(7),d=function(t){function e(){var e=t.call(this)||this;return e.plugs=new Map,e.dragThreshold=0,e.dragStopPropagation=!0,e._filterProxy={},e._filterMap=new Map,e._filterCount=0,e.grayscaleFilterValue=0,e.pixelPerfect=!0,e.attach={},e.container.name=e.constructor.name,e}return o(e,t),Object.defineProperty(e.prototype,"dragOption",{get:function(){return this.plugs.has(u.UIBaseDrag.key)?this.plugs.get(u.UIBaseDrag.key):new u.UIBaseDrag(this)},set:function(t){var e=this.dragOption;l.deepCopy(t,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactabled",{get:function(){return!!this.plugs.get(c.UIClick.key)},set:function(t){var e=this.plugs.get(c.UIClick.key);t?e||new c.UIClick(this):e&&e.release()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isClick",{get:function(){return console.error("[VF LOG] isClick 已弃用，请使用 interactabled 替换!"),this.interactabled},set:function(t){console.error("[VF LOG] isClick 已弃用，请使用 interactabled 替换!"),this.interactabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupName",{get:function(){return this._groupName},set:function(t){void 0===t&&r.GroupController.unRegistrerGroup(this),this._groupName!=t&&(this._groupName=t,r.GroupController.registrerGroup(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.container.alpha},set:function(t){this.container.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._blendMode&&(this._tint=t,this.container.children.forEach((function(e){e.tint&&(e.tint=t)})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){t!==this._blendMode&&(this._blendMode=t,this.container.children.forEach((function(e){e instanceof vf.Sprite&&(e.blendMode=t||vf.BLEND_MODES.NORMAL)})))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filter",{get:function(){if(this._filterCount!==p.Filter.list.size){this._filterCount=p.Filter.list.size;var t=this._filterProxy,e=this._filterMap;null==this.container.filters&&(this.container.filters=[]);var i=this.container.filters;p.Filter.list.forEach((function(n,o){if(!e.has(o)){var r=new n;e.set(o,r),i.push(r),Object.defineProperty(t,o,{get:function(){return r},set:function(t){if(null==t||""==t){var n=i.indexOf(r);n>=0&&i.splice(n,1),e.delete(o)}}})}}))}return this._filterProxy},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterBlur",{get:function(){return this.blurFilter?this.blurFilter.blur:0},set:function(t){var e=this.container;void 0===this.blurFilter&&(this.blurFilter=new vf.filters.BlurFilter(8,1,1),e.filters=[this.blurFilter]),this.blurFilter.blur=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"filterGrayscale",{get:function(){return 100*this.grayscaleFilterValue},set:function(t){var e=this.container;void 0===this.grayscaleFilter&&(this.grayscaleFilter=new vf.filters.ColorMatrixFilter,e.filters=[this.grayscaleFilter]),this.grayscaleFilterValue=t/100,this.grayscaleFilter.greyscale(this.grayscaleFilterValue,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return null==this._style&&(this._style=new a.CSSStyle(this)),this._style},set:function(t){var e=this.style;l.deepCopy(t,e),this.invalidateParentLayout()},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(t,e){this._style&&"none"!==this._style.display?h.updateDisplayLayout(this,t,e):this.updateTransform()},e.prototype.load=function(){this.initializeUIValues(),t.prototype.load.call(this)},e.prototype.release=function(){var i=this.container,n=this.$mask,o=this.$background,s=this._filterMap;i.filters=[],s.clear(),this._style&&(this._style.release(),this._style=void 0),n&&(i.mask=null,n instanceof e?n.release():n.parent&&n.parent.removeChild(n).destroy(),this.$mask=void 0),o&&o.parent&&(o.parent.removeChild(o).destroy(),this.$background=void 0),this.plugs.forEach((function(t){t.release()})),r.GroupController.unRegistrerGroup(this),t.prototype.release.call(this)},e.prototype.releaseAll=function(){for(this.offAll(),this.release();this.uiChildren.length>0;)this.uiChildren[0].uiChildren.length>0&&this.uiChildren[0].uiChildren[0].releaseAll(),this.uiChildren[0].releaseAll();this.uiChildren=[],this.container.removeAllListeners(),this.container.removeChildren()},e}(s.DisplayLayoutAbstract);e.DisplayObject=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(30),s=function(t){function e(e){var i=t.call(this)||this;return i._disabled=!0,e&&(i.disabled=!1),i}return o(e,t),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(t){t!=this._disabled&&(this._disabled=t)},enumerable:!0,configurable:!0}),e.prototype.update=function(t,e,i){this._disabled||(r.update(i),this.emit("update",t,e,i))},e.prototype.addUpdateEvent=function(t,e){return this.on("update",t,e)},e.prototype.removeUpdateEvent=function(t,e){return this.removeListener("update",t,e)},e}(vf.utils.EventEmitter);e.shared=new s(!0),e.tickerShared=e.shared,e.default=e.tickerShared},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Easing={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-e.Easing.Bounce.Out(1-t)},Out:function(t){var e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*e.Easing.Bounce.In(2*t):.5*e.Easing.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(0),a=i(1),h=function(t){function e(){var e=t.call(this)||this;return e._fillMode="no-repeat",e}return o(e,t),e.prototype.maskSprite=function(){return this._sprite},Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t,this.srcSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale9Grid",{get:function(){return this._scale9Grid},set:function(t){this._scale9Grid=t,this.scale9GridSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode=t,this._source=void 0,this.srcSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.anchorSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.anchorSystem()},enumerable:!0,configurable:!0}),e.prototype.release=function(){t.prototype.release.call(this),this.offAll(a.ComponentEvent.COMPLETE),this._sprite&&this._sprite.parent&&this._sprite.parent.removeChild(this._sprite).destroy()},e.prototype.measure=function(){},e.prototype.updateDisplayList=function(e,i){0===e&&0===i||this._sprite&&(t.prototype.updateDisplayList.call(this,e,i),this.scale9GridSystem(),this._sprite.width=e,this._sprite.height=i,this.anchorSystem())},e.prototype.srcSystem=function(){var t=this,e=this.container,i=this.src;if(void 0===i&&this._sprite&&this._sprite.parent&&(e.removeChild(this._sprite),this._sprite.destroy()),this._texture&&this._texture.removeAllListeners(),i!==this._source){this._source=i;var n=this._texture=s.getTexture(i);if(void 0===n)return;n.frame.width>1&&n.frame.height>1&&this.setMeasuredSize(n.frame.width,n.frame.height);var o=!1;n.once("update",(function(){o=!0,t.setMeasuredSize(n.frame.width,n.frame.height),t.invalidateSize(),t.emit(a.ComponentEvent.COMPLETE,t)}),this);var r=this._sprite;try{"no-repeat"===this.fillMode?r instanceof vf.Sprite?r.texture=n:r=new vf.Sprite(n):"repeat"===this.fillMode?r instanceof vf.TilingSprite?r.texture=n:r=new vf.TilingSprite(n):"scale"===this.fillMode&&(r instanceof vf.NineSlicePlane?r.texture=n:r=new vf.NineSlicePlane(n))}catch(t){r=vf.Sprite.from(n)}r&&null==r.parent&&(this._sprite=e.addChild(r)),o||(this.invalidateDisplayList(),this.invalidateParentLayout())}},e.prototype.scale9GridSystem=function(){if(void 0!==this._sprite&&void 0!==this.scale9Grid){var t=this._sprite,e=this.scale9Grid;t instanceof vf.TilingSprite?(t.tileScale.set(e[0],e[1]),t.tilePosition.set(e[2],e[3])):t instanceof vf.NineSlicePlane&&(void 0!==e[0]&&(t.leftWidth=e[0]),void 0!==e[1]&&(t.rightWidth=e[1]),void 0!==e[2]&&(t.topHeight=e[2]),void 0!==e[3]&&(t.bottomHeight=e[3]))}},e.prototype.anchorSystem=function(){if(void 0!==this._sprite){var t=this._sprite;this.anchorX&&(t.x=-Math.floor(t.width*this.anchorX)),this.anchorY&&(t.y=-Math.floor(t.height*this.anchorY))}},e}(r.DisplayObject);e.Image=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(0),s=i(4),a=i(14),h=i(13),u=i(8),l=i(9),c=s.Easing.Linear.None,p=function(t){function e(e){var i=t.call(this)||this;return i._valuesEnd=null,i._duration=1e3,i._easingFunction=c,i._easingReverse=c,i._startTime=0,i._delayTime=0,i._repeat=0,i._initRepeat=0,i._isPlaying=!1,i._yoyo=!1,i._reversed=!1,i._onStartCallbackFired=!1,i._isFinite=!0,i._prevTime=0,i._rendered=!1,i._reverseDelayTime=0,i.data={},i.id=r.uid(),i.object=e,i._valuesStart=Array.isArray(e)?[]:{},i._interpolationFunction=a.Interpolation.Linear,i}return o(e,t),e.fromTo=function(t,i,n){return new e(t).to(i,n)},e.to=function(t,i,n){return e.fromTo(t,i,n)},e.from=function(t,i,n){return e.fromTo(t,i,n)},e.prototype.setObject=function(t){this.object=t,this._valuesStart=Array.isArray(t)?[]:{}},Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._onStartCallbackFired},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"startTime",{get:function(){return this._startTime},set:function(t){this._startTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},set:function(t){this._duration="function"==typeof t?t(this._duration):t},enumerable:!0,configurable:!0}),e.prototype.reverse=function(t){var e=this._reversed;return this._reversed=void 0!==t?t:!e,this},e.prototype.reversed=function(){return this._reversed},e.prototype.pause=function(){return this._isPlaying?(this._isPlaying=!1,h.remove(this),this.emit(l.TweenEvent.pause,this.object)):this},e.prototype.play=function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime=0,h.add(this),this.emit(l.TweenEvent.play,this.object))},e.prototype.to=function(t,e){return void 0===e&&(e=1e3),this._valuesEnd=t,this._duration=e,this},e.prototype.render=function(){if(this._rendered)return this;var t=this._valuesStart,e=this._valuesEnd,i=this.object;if(!t.processed){for(var n in e){var o=i&&i[n]&&r.deepCopy(i[n]);t[n]=o||0,u.decompose(n,i,t,e)}t.processed=!0}return this._rendered=!0,this},e.prototype.start=function(t){return this._startTime=void 0!==t?t:0,this._startTime+=this._delayTime,this._prevTime=0,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,h.add(this),this},e.prototype.stop=function(){var t=this,e=t._isPlaying,i=t._isFinite,n=t.object,o=t._duration,r=t._initRepeat,s=t._yoyo,a=t._reversed;if(!e)return this;this._isPlaying=!1;var u=i?(r+1)%2==1:!a;return this._reversed=!1,this._prevTime=s&&u?o:0,this.update(0),h.remove(this),this.emit(l.TweenEvent.stop,n)},e.prototype.delay=function(t){return this._delayTime=t,this},e.prototype.repeat=function(t){return this._repeat=this._duration?t:0,this._initRepeat=this._repeat,this._isFinite=isFinite(t),this},e.prototype.reverseDelay=function(t){return this._reverseDelayTime=t,this},e.prototype.yoyo=function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||this._easingFunction,this},e.prototype.easing=function(t){return this._easingFunction=t,this},e.prototype.interpolation=function(t){return"function"==typeof t&&(this._interpolationFunction=t),this},e.prototype.gotoAndPlay=function(t){this._prevTime=t,this.update(0)},e.prototype.gotoAndStop=function(t){this._prevTime=t,this.update(0),this.pause()},e.prototype.gotoAndEnd=function(){this._prevTime=this._duration,this.update(0)},e.prototype.update=function(t,e,i){var n,o,r=this,s=r._onStartCallbackFired,a=r._easingFunction,p=r._easingReverse,d=r._delayTime,f=r._reverseDelayTime,g=r._yoyo,v=r._reversed,y=r._startTime,_=r._duration,m=r._valuesStart,b=r._valuesEnd,P=r.object,S=r._isFinite;if(!r._isPlaying||y>0&&!i)return this._startTime-=t,this._startTime=Math.max(0,this._startTime),!0;var O=this._repeat;_?(this._prevTime+=t,t>u.TOO_LONG_FRAME_MS&&h.isRunning()&&h.isLagSmoothing()&&(this._prevTime-=u.FRAME_MS),n=(n=this._prevTime/_)>1?1:n,n=v?1-n:n):(n=1,O=0),s||(this._rendered||(this.render(),this._rendered=!0),this.emit(l.TweenEvent.start,P),this._onStartCallbackFired=!0);var x=v&&p||a;for(o in b){var C=m[o],w=b[o],E=x[o]?x[o](n):"function"==typeof x?x(n):c(n);"number"==typeof w?P[o]=C+(w-C)*E:"boolean"==typeof w?(P[o]=w,n=v?0:1):u.recompose(o,P,m,b,E,n)}return this.emit(l.TweenEvent.update,P,n,t),!(1===n||v&&0===n)||(this._prevTime=0,O>0&&_>0?(S&&this._repeat--,g&&(this._reversed=!v),this.emit(g&&!v?l.TweenEvent.reverse:l.TweenEvent.repeat,P),this._startTime=v&&f?f:d,!0):(e||(this._isPlaying=!1,h.remove(this)),this.emit(l.TweenEvent.complete,P),this._repeat=this._initRepeat,!1))},e.prototype.release=function(){this.object=void 0,this.stop()},e.core={add:h.add,get:h.get,getAll:h.getAll,remove:h.remove,removeAll:h.removeAll,removeDisplay:h.removeDisplay,update:h.update},e.Event=l.TweenEvent,e}(vf.utils.EventEmitter);e.Tween=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.Utils=n;var o=i(12);e.Stage=o.Stage;var r=i(2);e.DisplayObject=r.DisplayObject;var s=i(3);e.TickerShared=s.shared;var a=i(42);e.Filter=a.Filter;var h=i(25);e.Container=h.Container;var u=i(43);e.ScrollingContainer=u.ScrollingContainer;var l=i(5);e.Image=l.Image;var c=i(44);e.SpriteAnimated=c.SpriteAnimated;var p=i(26);e.Label=p.Label;var d=i(45);e.TextInput=d.TextInput;var f=i(47);e.Slider=f.Slider;var g=i(28);e.Button=g.Button;var v=i(48);e.CheckBox=v.CheckBox;var y=i(49);e.Rect=y.Rect;var _=i(50);e.Circle=_.Circle;var m=i(51);e.Graphics=m.Graphics;var b=i(52);e.FollowLine=b.FollowLine;var P=i(53);e.ConnectLine=P.ConnectLine;var S=i(54);e.Tracing=S.Tracing;var O=i(4);e.Easing=O.Easing;var x=i(6);e.Tween=x.Tween;var C=i(15);e.Timeline=C.Timeline;var w=i(1);e.Interaction=w;var E=i(55);e.Event=E;var j=i(56);e.Enum=j;var I=i(59);e.Scheduler=I.Scheduler},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0);e.FRAME_MS=50/3,e.TOO_LONG_FRAME_MS=250,e.CHAINED_TWEENS="_chainedTweens",e.STRING_PROP="STRING_PROP",e.NUM_REGEX=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;var o=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,r=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=n.hexToRgb(t);return"rgb("+o.r+", "+o.g+", "+o.b+")"};function s(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var i,n=t.replace(o,r).match(e.NUM_REGEX);return n&&(i=n.map((function(t){return function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t}(t)?t:+t}))),i.isString=!0,i}function a(t,i,n){return void 0===n&&(n=e.RGB),"number"==typeof t[i]&&(t[i-1]===n||t[i-3]===n||t[i-5]===n)}e.decomposeString=s,e.decompose=function t(i,n,o,r){var a=o[i],h=r[i];if(a===h)return!0;if(Array.isArray(a)&&Array.isArray(h)&&a.length===h.length)for(var u=0,l=h.length;u<l;u++){var c=a[u],p=h[u];c===p||"number"==typeof c&&"number"==typeof p||t(u,n[i],a,h)}if("number"==typeof a&&"number"==typeof h);else if(a&&a.splice&&a.isString&&h&&h.splice&&h.isString);else{if("string"==typeof a&&Array.isArray(h)){var d=s(a),f=h.map(s);return o[i]=d,r[i]=f,!0}if("string"==typeof a||"string"==typeof h){d=Array.isArray(a)&&a[0]===e.STRING_PROP?a:s(a);var g=Array.isArray(h)&&h[0]===e.STRING_PROP?h:s(h);if(void 0===d)return;for(u=1;u<d.length;)d[u]===g[u]&&"string"==typeof d[u-1]?(d.splice(u-1,2,d[u-1]+d[u]),g.splice(u-1,2,g[u-1]+g[u])):u++;return u=0,d[0]===e.STRING_PROP&&d.shift(),g[0]===e.STRING_PROP&&g.shift(),o[i]=d,r[i]=g,!0}if("object"==typeof a&&"object"==typeof h){if(Array.isArray(a)&&!a.isString)return a.map((function(e,o){return t(o,n[i],a,h)}));for(var v in h)t(v,n[i],a,h);return!0}}return!1},e.RGB="rgb(",e.RGBA="rgba(",e.isRGBColor=a,e.recompose=function t(i,n,o,r,s,h,u){var l=u?o:o[i],c=u?r:r[i];if(void 0===c)return l;if(void 0===l||"string"==typeof l||l===c)return c;if("object"==typeof l&&"object"==typeof c){if(!l||!c)return n[i];if("object"==typeof l&&l&&l.isString&&c&&c.splice&&c.isString){for(var p="",d=0,f=l.length;d<f;d++)if(l[d]!==c[d]||"number"!=typeof l[d]||"number"==typeof c[d]){var g="number"==typeof l[d]&&"string"==typeof c[d]&&"="===c[d][1],v="number"!=typeof l[d]?l[d]:g?l[d]+parseFloat(c[d][0]+c[d].substr(2))*s:l[d]+(c[d]-l[d])*s;(a(l,d)||a(l,d,e.RGBA))&&(v|=0),p+=v,g&&1===h&&(l[d]=l[d]+parseFloat(c[d][0]+c[d].substr(2)))}else p+=l[d];return u||(n[i]=p),p}if(Array.isArray(l)&&l[0]!==e.STRING_PROP)for(d=0,f=l.length;d<f;d++)l[d]!==c[d]&&"string"!=typeof n[i]&&t(d,n[i],l,c,s,h);else if("object"==typeof l&&l&&!l.isString)for(var d in l)l[d]!==c[d]&&t(d,n[i],l,c,s,h)}else if("number"==typeof l){g="string"==typeof c;n[i]=g?l+parseFloat(c[0]+c.substr(2))*s:l+(c-l)*s,g&&1===h&&(o[i]=n[i])}else"function"==typeof c&&(n[i]=c(s));return n[i]};var h=/([.[])/g,u=/\]/g,l=function(t,e){var i=t[e],n=e.replace(u,"").split(h),o=n.length-1,r=Array.isArray(t),s="object"==typeof t&&!r;return s?(t[e]=null,delete t[e]):r&&t.splice(e,1),n.reduce((function(t,e,a){r&&"."!==e&&"["!==e&&(e*=1);var h="["===n[a+1];if("."===e||"["===e)return"."===e?(s=!0,r=!1):"["===e&&(s=!1,r=!0),t;if(void 0===t[e]){if(r||s)return t[e]=a===o?i:r||h?[]:s?{}:null,s=r=!1,t[e]}else if(void 0!==t[e])return a===o&&(t[e]=i),t[e];return t}),t)};e.SET_NESTED=function(t){if("object"==typeof t&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))l(t,e);else if("object"==typeof t[e]&&t[e]){var i=t[e];for(var n in i)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))l(i,n);else if("object"==typeof i[n]&&i[n]){var o=i[n];for(var r in o)-1===r.indexOf(".")&&-1===r.indexOf("[")||l(o,r)}}return t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TweenEvent={Callback:"Callback",update:"update",complete:"complete",start:"start",repeat:"repeat",reverse:"reverse",pause:"pause",play:"play",restart:"restart",stop:"stop"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TouchMouseEvent={onHover:"hover",onPress:"press",onDown:"down",onUp:"up",onClick:"click",onMove:"move"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.invalidatePropertiesFlag=Symbol("invalidatePropertiesFlag"),e.invalidateSizeFlag=Symbol("invalidateSizeFlag"),e.invalidateDisplayListFlag=Symbol("invalidateDisplayListFlag"),e.explicitWidth=Symbol("explicitWidth"),e.explicitHeight=Symbol("explicitHeight"),e.width=Symbol("width"),e.height=Symbol("height"),e.minWidth=Symbol("minWidth"),e.maxWidth=Symbol("maxWidth"),e.minHeight=Symbol("minHeight"),e.maxHeight=Symbol("maxHeight"),e.percentWidth=Symbol("percentWidth"),e.percentHeight=Symbol("percentHeight"),e.scaleX=Symbol("scaleX"),e.scaleY=Symbol("scaleY"),e.x=Symbol("x"),e.y=Symbol("y"),e.skewX=Symbol("skewX"),e.skewY=Symbol("skewY"),e.pivotX=Symbol("pivotX"),e.pivotY=Symbol("pivotY"),e.rotation=Symbol("rotation"),e.zIndex=Symbol("zIndex"),e.measuredWidth=Symbol("measuredWidth"),e.measuredHeight=Symbol("measuredHeight"),e.oldPreferWidth=Symbol("oldPreferWidth"),e.oldPreferHeight=Symbol("oldPreferHeight"),e.oldX=Symbol("oldX"),e.oldY=Symbol("oldY"),e.oldWidth=Symbol("oldWidth"),e.oldHeight=Symbol("oldHeight"),e.left=Symbol("left"),e.right=Symbol("right"),e.top=Symbol("top"),e.bottom=Symbol("bottom"),e.horizontalCenter=Symbol("horizontalCenter"),e.verticalCenter=Symbol("verticalCenter")},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),s=i(20),a=i(21),h=function(t){function e(e,i,n){var o=t.call(this)||this;return o._stageWidth=0,o._stageHeight=0,o.width=e,o.height=i,o._stageWidth=e,o._stageWidth=i,o.setActualSize(e,i),o.container.name="Stage",o.container.hitArea=new vf.Rectangle(0,0,e,i),o.container.interactive=!0,o.container.interactiveChildren=!0,o.initialized=!0,o.$nestLevel=1,o.app=n,o}return o(e,t),Object.defineProperty(e.prototype,"stageWidth",{get:function(){return this._stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"stageHeight",{get:function(){return this._stageHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleX",{get:function(){return this.container.scale.x},set:function(t){this.container.scale.x=t,this._stageWidth=t*this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleY",{get:function(){return this.container.scale.y},set:function(t){this.container.scale.y=t,this._stageHeight=t*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Scale",{set:function(t){this.container.scale.copyFrom(t),this._stageWidth=t.x*this.width,this._stageHeight=t.y*this.height},enumerable:!0,configurable:!0}),e.prototype.release=function(){t.prototype.release.call(this)},e.prototype.releaseAll=function(){for(var t=0;t<this.uiChildren.length;t++){this.uiChildren[t].releaseAll()}this.uiChildren=[],this.container.removeAllListeners(),this.container.removeChildren(),r.shared.removeAllListeners(),a.default.removeAllListeners(),a.default.removeDepthQueueAll()},e.prototype.resize=function(){this.container.hitArea=new vf.Rectangle(0,0,this.width,this.height)},e.prototype.inputLog=function(t){},e}(s.DisplayLayoutAbstract);e.Stage=h},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=[],o=!1,r=0,s=120,a=!0;function h(t){var e=n.indexOf(t);-1!==e&&n.splice(e,1),0===n.length&&(o=!1)}e.Plugins={},e.add=function(t){var e=n.indexOf(t);e>-1&&n.splice(e,1),n.push(t),r=0,o=!0},e.FrameThrottle=function(t){void 0===t&&(t=120),s=1.05*t},e.ToggleLagSmoothing=function(t){void 0===t&&(t=!0),a=t},e.getAll=function(){return n},e.removeAll=function(){n.length=0,o=!1},e.get=function(t){for(var e=0;e<n.length;e++)if(t===n[e])return n[e];return null},e.remove=h,e.removeDisplay=function(t){for(var e=0;e<n.length;e++)if(n[e].object.uuid&&t===n[e].object.uuid)return n[e].stop(),void h(n[e])},e.update=function(t,e){if(void 0===e&&(e=!1),!o)return!1;if(r>=s&&a)return console.log("mptyFrame >= powerModeThrottle && handleLag"),o=!1,r=0,!1;n.length||r++;for(var i=0,h=n.length;i<h;)n[i++].update(t,e),h>n.length&&i--,h=n.length;return!0},e.isRunning=function(){return o},e.isLagSmoothing=function(){return a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,o=i(8);e.Interpolation={Linear:function(t,i,n){var o=t.length-1,r=o*i,s=Math.floor(r),a=e.Interpolation.Utils.Linear;return i<0?a(t[0],t[1],r,n):i>1?a(t[o],t[o-1],o-r,n):a(t[s],t[s+1>o?o:s+1],r-s,n)},Bezier:function(t,i,n){for(var o=e.Interpolation.Utils.Reset(n),r=t.length-1,s=Math.pow,a=e.Interpolation.Utils.Bernstein,h=Array.isArray(o),u=0;u<=r;u++)if("number"==typeof o)o+=s(1-i,r-u)*s(i,u)*t[u]*a(r,u);else if(h)for(var l=0,c=o.length;l<c;l++)"number"==typeof o[l]?o[l]+=s(1-i,r-u)*s(i,u)*t[u][l]*a(r,u):o[l]=t[u][l];else if("object"==typeof o)for(var l in o)"number"==typeof o[l]?o[l]+=s(1-i,r-u)*s(i,u)*t[u][l]*a(r,u):o[l]=t[u][l];else if("string"==typeof o){var p="",d=t[Math.round(r*i)],f=1;for(c=d.length;f<c;f++)p+=d[f];return p}return o},CatmullRom:function(t,i,n){var o=t.length-1,r=o*i,s=Math.floor(r),a=e.Interpolation.Utils.CatmullRom;return t[0]===t[o]?(i<0&&(s=Math.floor(r=o*(1+i))),a(t[(s-1+o)%o],t[s],t[(s+1)%o],t[(s+2)%o],r-s,n)):i<0?a(t[1],t[1],t[0],t[0],-i,n):i>1?a(t[o-1],t[o-1],t[o],t[o],(0|i)-i,n):a(t[s?s-1:0],t[s],t[o<s+1?o:s+1],t[o<s+2?o:s+2],r-s,n)},Utils:{Linear:function(t,i,n,r){if(t===i||"string"==typeof t){if(i.length&&i.splice&&i.isString){i="";for(var s=0,a=t.length;s<a;s++)i+=t[s]}return i}if("number"==typeof t)return"function"==typeof t?t(n):t+(i-t)*n;if("object"==typeof t){if(void 0!==t.length){var h="string"==typeof t[0]||t.isString;if(h||t[0]===o.STRING_PROP){var u="";for(s=h?0:1,a=t.length;s<a;s++){var l=0===n?t[s]:1===n?i[s]:"number"==typeof t[s]?t[s]+(i[s]-t[s])*n:i[s];(n>0&&n<1&&o.isRGBColor(t,s)||o.isRGBColor(t,s,o.RGBA))&&(l|=0),u+=l}return u}if(r&&r.length&&r.splice){var c=0;for(a=r.length;c<a;c++)r[c]=e.Interpolation.Utils.Linear(t[c],i[c],n,r[c])}}else for(var c in r)r[c]=e.Interpolation.Utils.Linear(t[c],i[c],n,r[c]);return r}},Reset:function(t){if(Array.isArray(t)){for(var i=0,n=t.length;i<n;i++)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}if("object"==typeof t){for(var i in t)t[i]=e.Interpolation.Utils.Reset(t[i]);return t}return"number"==typeof t?0:t},Bernstein:function(t,i){var n=e.Interpolation.Utils.Factorial;return n(t)/n(i)/n(t-i)},Factorial:(n=[1],function(t){var e=1;if(n[t])return n[t];for(var i=t;i>1;i--)e*=i;return n[t]=e,e}),CatmullRom:function(t,i,n,r,s,a){if("string"==typeof t)return i;if("number"==typeof t){var h=.5*(n-t),u=.5*(r-i),l=s*s;return(2*i-2*n+h+u)*(s*l)+(-3*i+3*n-2*h-u)*l+h*s+i}if("object"==typeof t){if(void 0!==t.length){if(t[0]===o.STRING_PROP){for(var c="",p=1,d=t.length;p<d;p++){var f="number"==typeof t[p]?e.Interpolation.Utils.CatmullRom(t[p],i[p],n[p],r[p],s):r[p];(o.isRGBColor(t,p)||o.isRGBColor(t,p,o.RGBA))&&(f|=0),c+=f}return c}var g=0;for(d=a.length;g<d;g++)a[g]=e.Interpolation.Utils.CatmullRom(t[g],i[g],n[g],r[g],s,a[g])}else for(var g in a)a[g]=e.Interpolation.Utils.CatmullRom(t[g],i[g],n[g],r[g],s,a[g]);return a}}}}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),s=i(31),a=i(1),h=i(4),u=function(){function t(t){this.default=0,this.start=0,this.end=0,this.duration=0,this.startFrame=0,this.endFrame=0,this.prevTime=0,this.parent=t}return t.prototype.release=function(){this.parent=void 0,this.easing=void 0,this.start=0,this.end=0,this.duration=0,this.endFrame=0,this.prevTime=0},t.prototype.load=function(){},t.prototype.destroy=function(){},t}(),l=function(t){function e(){var e=t.call(this)||this;return e.id=-1,e._frames=new Array,e._frameCount=0,e._elapsedMS=16.66,e._prevTime=0,e._isStop=!1,e._lastNode=new Map,e._isSetDefault=!1,e.loop=!1,e}return o(e,t),e.prototype.setDefault=function(t,e,i){this._object=t,this._elapsedMS=1e3/i;var n=Math.round(e/this._elapsedMS);this._frameCount=n;for(var o=this._frames;o&&o.length>n;)o.pop();for(var r=0===o.length?0:o.length;r<=n;r++)void 0===o[r]&&(o[r]=new Map);return this._isSetDefault=!0,this},e.prototype.addProperty=function(t,e,i,n){if(i>this._frameCount)throw"Error Timeline.addProperty overflow frame";var o=this._lastNode.get(t),r=s.objectPoolShared.pop(u);r.parent=void 0===o?void 0:o,r.startFrame=void 0===r.parent?0:r.parent.endFrame+1,r.end=e,r.start=void 0===r.parent?this._object[t]||0:r.parent.end,r.default=this._object[t]||0,r.easing=n||h.Easing.Linear.None,r.duration=(i-r.startFrame)*this._elapsedMS,r.endFrame=i,this._lastNode.set(t,r);for(var a=r.startFrame;a<=i;a++)this._frames[a].set(t,r);return this},e.prototype.stop=function(){this._isStop=!0},e.prototype.play=function(){this._isStop=!1},e.prototype.gotoAndPlay=function(t){this.goto(t,!1)},e.prototype.gotoAndStop=function(t){this.goto(t,!0)},e.prototype.seekLastNode=function(t,e){return void 0===t.parent?t:(t.endFrame>e&&this.seekLastNode(t.parent,e),t)},e.prototype.goto=function(t,e){var i=this,n=this._lastNode,o=this._frames;n.forEach((function(e,n){var o=i.seekLastNode(e,t);o.prevTime=o.duration,i.updateobject(n,o)}),this),this._prevTime=t*this._elapsedMS;for(var r=function(e){o[e].forEach((function(n,o){e==t?(n.prevTime=(t-n.startFrame)*i._elapsedMS,i.updateobject(o,n)):n.prevTime=0}),s)},s=this,a=t;a<o.length;a++)r(a);this._isStop=e,this._isStop||this.load()},e.prototype.update=function(t,e,i){var n=this;if(void 0===i&&(i=0),!this._isStop){var o=this._prevTime,r=this._frames,s=this._frameCount,h=this._elapsedMS,u=Math.round(o/h);if(u>=s){if(this.loop)return this.emit(a.ComponentEvent.LOOP,this),void this.goto(1,!1);this._isStop=!0,this.emit(a.ComponentEvent.COMPLETE,this)}if(null!=r[u])return o+=i,r[u].forEach((function(t,e){t.start!==t.end&&(t.prevTime+=i,n.updateobject(e,t))}),this),this._prevTime=o,!0;this._isStop=!0}},e.prototype.updateobject=function(t,e){var i;i=e.duration?(i=e.prevTime/e.duration)>1?1:i:1;var n=e.easing(i),o=e.start,r=e.end;if("number"==typeof r)switch(t){case"x":case"y":case"angle":this._object[t]=e.default+Math.floor(o+(r-o)*n);break;case"scaleX":case"scaleY":case"rotation":this._object[t]=e.default*Math.floor(o+(r-o)*n);break;default:this._object[t]=Math.floor(o+(r-o)*n)}else"boolean"==typeof r&&(this._object[t]=r);return 1===i},e.prototype.load=function(){if(!this._isSetDefault)throw"Error Timeline.load undefined default";r.shared.removeUpdateEvent(this.update,this),r.shared.addUpdateEvent(this.update,this)},e.prototype.release=function(){r.shared.removeUpdateEvent(this.update,this),this._frames.forEach((function(t){t.forEach((function(t){s.objectPoolShared.push(u,t)})),t.clear()})),this.id=-1,this._object=void 0,this._frameCount=0,this._elapsedMS=16.666666666666,this._prevTime=0,this._isStop=!1,this._isSetDefault=!1,this.loop=!1,this._lastNode.clear()},e}(vf.utils.EventEmitter);e.Timeline=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(t){this.id=0,this.offset=new vf.Point,this.movementX=0,this.movementY=0,this.bound=!1,this.start=new vf.Point,this.mouse=new vf.Point,this.cancel=!1,this.dragging=!1,this.isStop=!0,this.obj=t,t.interactive=!0,this.startEvent()}return t.prototype.startEvent=function(){this.isStop&&(this.obj.container.on("mousedown",this._onDragStart,this),this.obj.container.on("touchstart",this._onDragStart,this),this.isStop=!1)},t.prototype.executeAction=function(t){switch(t.type){case n.ComponentEvent.DRAG_START:this._onDragStart(t);break;case n.ComponentEvent.DRAG_MOVE:this._onDragMove(t);break;case n.ComponentEvent.DRAG_END:this._onDragEnd(t)}},t.prototype._onDragStart=function(t){if(this.obj.dragStopPropagation&&t.data.originalEvent.stopPropagation&&t.data.originalEvent.stopPropagation(),this.id=t.data.identifier,this.onDragPress&&this.onDragPress.call(this.obj,t,!0,this),!this.bound&&this.obj.parent&&this.obj.stage){var e=this.obj.stage.container;this.start.copyFrom(t.data.global),e.on("mousemove",this._onDragMove,this),e.on("touchmove",this._onDragMove,this),e.on("mouseup",this._onDragEnd,this),e.on("mouseupoutside",this._onDragEnd,this),e.on("touchend",this._onDragEnd,this),e.on("touchendoutside",this._onDragEnd,this),e.on("touchcancel",this._onDragEnd,this),this.bound=!0}t.data.originalEvent.preventDefault&&t.data.originalEvent.preventDefault()},t.prototype._onDragMove=function(t){if(this.obj.dragStopPropagation&&t.data.originalEvent.stopPropagation&&t.data.originalEvent.stopPropagation(),t.data.identifier===this.id){if(this.mouse.copyFrom(t.data.global),this.offset.set(this.mouse.x-this.start.x,this.mouse.y-this.start.y),!this.dragging){if(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),0===this.movementX&&0===this.movementY||Math.max(this.movementX,this.movementY)<this.obj.dragThreshold)return;if(void 0!==this.dragRestrictAxis&&(this.cancel=!1,"x"==this.dragRestrictAxis&&this.movementY>this.movementX?this.cancel=!0:"y"==this.dragRestrictAxis&&this.movementY<=this.movementX&&(this.cancel=!0),this.cancel))return void this._onDragEnd(t);this.onDragStart&&this.onDragStart.call(this.obj,t,this),this.dragging=!0}this.onDragMove&&this.onDragMove.call(this.obj,t,this.offset,this)}},t.prototype._onDragEnd=function(t){if(this.obj.dragStopPropagation&&t.stopPropagation&&t.stopPropagation(),t.data.identifier===this.id&&this.bound&&this.obj.stage){var e=this.obj.stage.container;e.off("mousemove",this._onDragMove,this),e.off("touchmove",this._onDragMove,this),e.off("mouseup",this._onDragEnd,this),e.off("mouseupoutside",this._onDragEnd,this),e.off("touchend",this._onDragEnd,this),e.off("touchendoutside",this._onDragEnd,this),e.off("touchcancel",this._onDragEnd,this),this.dragging=!1,this.bound=!1,this.onDragEnd&&this.onDragEnd.call(this.obj,t,this),this.onDragPress&&this.onDragPress.call(this.obj,t,!1,this)}},t.prototype.stopEvent=function(){if(this.bound&&this.obj.stage){var t=this.obj.stage.container;t.off("mousemove",this._onDragMove,this),t.off("touchmove",this._onDragMove,this),t.off("mouseup",this._onDragEnd,this),t.off("mouseupoutside",this._onDragEnd,this),t.off("touchend",this._onDragEnd,this),t.off("touchendoutside",this._onDragEnd,this),this.bound=!1}this.obj.container.off("mousedown",this._onDragStart,this),this.obj.container.off("touchstart",this._onDragStart,this),this.isStop=!0},t.prototype.remove=function(){this.stopEvent(),this.onDragPress=void 0,this.onDragEnd=void 0,this.onDragMove=void 0,this.onDragStart=void 0,this.obj.interactive=!1},t}();e.DragEvent=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=function(){function t(t,e){this.id=0,this.delta=new vf.Point,this.isStop=!0,this.obj=t,this.preventDefault=e,t.container.interactive=!0,this.startEvent()}return t.prototype.startEvent=function(){this.isStop&&(this.obj.container.on("mouseover",this._onHover,this),this.obj.container.on("mouseout",this._onMouseOut,this),this.isStop=!1)},t.prototype._onMouseScroll=function(t){var e=t;this.preventDefault&&e.preventDefault(),void 0!==e.deltaX?this.delta.set(e.deltaX,e.deltaY):this.delta.set(1==e.axis?60*e.detail:0,2==e.axis?60*e.detail:0),this.onMouseScroll&&this.onMouseScroll.call(this.obj,e,this.delta)},t.prototype._onHover=function(){void 0===this.mouseScrllBind&&(this.id=n.uid(),this.mouseScrllBind=this._onMouseScroll.bind(this),document.addEventListener("mousewheel",this.mouseScrllBind,{passive:!1}),document.addEventListener("DOMMouseScroll",this.mouseScrllBind,{passive:!1}))},t.prototype._onMouseOut=function(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0)},t.prototype.stopEvent=function(){this.mouseScrllBind&&(document.removeEventListener("mousewheel",this.mouseScrllBind),document.removeEventListener("DOMMouseScroll",this.mouseScrllBind),this.mouseScrllBind=void 0),this.obj.container.removeListener("mouseover",this._onHover,this),this.obj.container.removeListener("mouseout",this._onMouseOut,this),this.isStop=!0},t.prototype.remove=function(){this.stopEvent()},t}();e.MouseScrollEvent=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=new vf.Point(0,0),s=function(t){function e(){var e=t.call(this)||this;return e.signalling=!1,e.local=r,e}return o(e,t),e}(vf.interaction.InteractionEvent);e.InteractionEvent=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CHANGE="CHANGE",e.CHANGEING="CHANGEING",e.COMPLETE="COMPLETE",e.STATE_CHANGE="STATE_CHANGE",e.LOOP="LOOP",e.ADD="add",e.ADDED="added",e.REMOVEED="removed",e.RESIZE="RESIZE",e.MOVE="MOVE",e.CREATION_COMPLETE="CREATION_COMPLETE",e.DRAG_START_BEFORE="DRAG_START_BEFORE",e.DRAG_START="DRAG_START",e.DRAG_END_BEFORE="DRAG_END_BEFORE",e.DRAG_END="DRAG_END",e.DRAG_MOVE="DRAG_MOVE",e.DRAG_TARGET_BEFORE="DRAG_TARGET_BEFORE",e.DRAG_TARGET="DRAG_TARGET",e.DROP_TARGET="DROP_TARGET",e.PLAY_AUDIO="PLAY_AUDIO"},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(11),s=i(21),a=i(1),h=i(0),u=i(22);e.$tempLocalBounds=new vf.Rectangle;var l=function(t){function i(){var e=t.call(this)||this;return e.isContainer=!1,e.$values={},e.includeInLayout=!0,e.initializeUIValues(),e}return o(i,t),i.prototype.initializeUIValues=function(){var t;this.$values=((t={})[r.invalidatePropertiesFlag]=!0,t[r.invalidateSizeFlag]=!0,t[r.invalidateDisplayListFlag]=!0,t[r.left]=NaN,t[r.right]=NaN,t[r.top]=NaN,t[r.bottom]=NaN,t[r.horizontalCenter]=NaN,t[r.verticalCenter]=NaN,t[r.percentWidth]=NaN,t[r.percentHeight]=NaN,t[r.explicitWidth]=NaN,t[r.explicitHeight]=NaN,t[r.width]=0,t[r.height]=0,t[r.minWidth]=0,t[r.maxWidth]=1e5,t[r.minHeight]=0,t[r.maxHeight]=1e5,t[r.measuredWidth]=0,t[r.measuredHeight]=0,t[r.oldPreferWidth]=NaN,t[r.oldPreferHeight]=NaN,t[r.x]=0,t[r.y]=0,t[r.oldX]=0,t[r.oldY]=0,t[r.oldWidth]=0,t[r.oldHeight]=0,t[r.scaleX]=1,t[r.scaleY]=1,t[r.pivotX]=0,t[r.pivotY]=0,t[r.rotation]=0,t[r.skewX]=0,t[r.skewY]=0,t[r.zIndex]=NaN,t)},i.prototype.checkInvalidateFlag=function(){var t=this.$values;t[r.invalidatePropertiesFlag]&&s.default.invalidateProperties(this),t[r.invalidateSizeFlag]&&s.default.invalidateSize(this),t[r.invalidateDisplayListFlag]&&s.default.invalidateDisplayList(this),this.validateSize()},i.prototype.validateProperties=function(){var t=this.$values;t[r.invalidatePropertiesFlag]&&(this.commitProperties(),t[r.invalidatePropertiesFlag]=!1)},i.prototype.validateSize=function(t){if(t){var e=this.uiChildren;if(e)for(var i=e.length,n=0;n<i;n++){e[n].validateSize(!0)}}var o=this.$values;if(o[r.invalidateSizeFlag]){if(this.measureSizes()&&(this.invalidateDisplayList(),this.invalidateParentLayout()),null==this.parent)return;o[r.invalidateSizeFlag]=!1}},i.prototype.validateDisplayList=function(){if(null!=this.parent){var t=this.$values;t[r.invalidateDisplayListFlag]&&(this.updateSize(),this.updateDisplayList(t[r.width],t[r.height]),t[r.invalidateDisplayListFlag]=!1)}},i.prototype.commitProperties=function(){},i.prototype.measure=function(){this.container.getLocalBounds(e.$tempLocalBounds),this.setMeasuredSize(e.$tempLocalBounds.width,e.$tempLocalBounds.height)},i.prototype.measureSizes=function(){var t=!1,e=this.$values;if(!e[r.invalidateSizeFlag])return t;this.measure();var i=this.parent?this.parent.width:1,n=this.parent?this.parent.height:1,o=h.formatRelative(e[r.maxWidth],i),s=h.formatRelative(e[r.maxHeight],n),a=h.formatRelative(e[r.minWidth],i),u=h.formatRelative(e[r.minHeight],n);isNaN(e[r.explicitWidth])||isNaN(e[r.explicitHeight])?(isNaN(e[r.percentWidth])||(e[r.measuredWidth]=Math.ceil(e[r.percentWidth]*i)),isNaN(e[r.percentHeight])||(e[r.measuredHeight]=Math.ceil(e[r.percentHeight]*n)),e[r.measuredWidth]<a&&(e[r.measuredWidth]=a),e[r.measuredWidth]>o&&(e[r.measuredWidth]=o),e[r.measuredHeight]<u&&(e[r.measuredHeight]=u),e[r.measuredHeight]>s&&(e[r.measuredHeight]=s)):(e[r.explicitWidth]<a&&(e[r.explicitWidth]=a),e[r.explicitWidth]>o&&(e[r.explicitWidth]=o),e[r.explicitHeight]<u&&(e[r.explicitHeight]=u),e[r.explicitHeight]>s&&(e[r.explicitHeight]=s));var l=this.getPreferredUWidth(),c=this.getPreferredUHeight();return l===e[r.oldPreferWidth]&&c===e[r.oldPreferHeight]||(e[r.oldPreferWidth]=l,e[r.oldPreferHeight]=c,t=!0),t},i.prototype.setMeasuredSize=function(t,e){var i=this.$values;i[r.measuredWidth]=Math.ceil(+t||0),i[r.measuredHeight]=Math.ceil(+e||0)},i.prototype.getPreferredUWidth=function(){var t=this.$values;return isNaN(t[r.explicitWidth])?t[r.measuredWidth]:t[r.explicitWidth]},i.prototype.getPreferredUHeight=function(){var t=this.$values;return isNaN(t[r.explicitHeight])?t[r.measuredHeight]:t[r.explicitHeight]},i.prototype.getPreferredBounds=function(t){return this.measureSizes(),t.width=this.getPreferredUWidth(),t.height=this.getPreferredUHeight(),t.x=this.$values[r.x],t.y=this.$values[r.y],t},i.prototype.invalidateProperties=function(){var t=this.$values;t[r.invalidatePropertiesFlag]||(t[r.invalidatePropertiesFlag]=!0,s.default.invalidateProperties(this))},i.prototype.invalidateSize=function(){var t=this.$values;t[r.invalidateSizeFlag]||(t[r.invalidateSizeFlag]=!0,s.default.invalidateSize(this))},i.prototype.invalidateDisplayList=function(){var t=this.$values;t[r.invalidateDisplayListFlag]||(t[r.invalidateDisplayListFlag]=!0,s.default.invalidateDisplayList(this))},i.prototype.invalidateParentLayout=function(){var t=this.parent;t&&t instanceof i&&(t.invalidateSize(),t.invalidateDisplayList())},i.prototype.setPosition=function(t,e){var i=this.$values;i[r.x]=t,i[r.y]=e,this.updateTransform(),this.emit(a.ComponentEvent.MOVE,this)},i.prototype.setActualSize=function(t,e){var i=!1,n=this.$values;n[r.width]!==t&&(n[r.oldWidth]=n[r.width],n[r.width]=t,i=!0),n[r.height]!==e&&(n[r.oldHeight]=n[r.height],n[r.height]=e,i=!0),i&&(this.invalidateDisplayList(),this.emit(a.ComponentEvent.RESIZE,this))},i.prototype.updateSize=function(){var t=0,e=0,i=this.$values;isNaN(i[r.explicitWidth])?isNaN(i[r.measuredWidth])||(t=i[r.measuredWidth]):t=i[r.explicitWidth],isNaN(i[r.explicitHeight])?isNaN(i[r.measuredHeight])||(e=i[r.measuredHeight]):e=i[r.explicitHeight],this.setActualSize(t,e)},i.prototype.updateTransform=function(){this.container.setTransform(this.x+this.pivotX,this.y+this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY)},i.prototype.updateDisplayList=function(t,e){},i.prototype.validateNow=function(){this.parent&&s.default.validateClient(this)},i.prototype.validateSizeNow=function(){this.validateSize(!0),this.updateSize()},Object.defineProperty(i.prototype,"left",{get:function(){return this.$values[r.left]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.left]!==t&&(e[r.left]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){return this.$values[r.right]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.right]!==t&&(e[r.right]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"top",{get:function(){return this.$values[r.top]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.top]!==t&&(e[r.top]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bottom",{get:function(){return this.$values[r.bottom]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.bottom]!=t&&(e[r.bottom]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalCenter",{get:function(){return this.$values[r.horizontalCenter]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.horizontalCenter]!==t&&(e[r.horizontalCenter]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"verticalCenter",{get:function(){return this.$values[r.verticalCenter]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$values;e[r.verticalCenter]!==t&&(e[r.verticalCenter]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"percentWidth",{get:function(){return this.$values[r.percentWidth]},set:function(t){t=+t;var e=this.$values;e[r.percentWidth]!==t&&(e[r.percentWidth]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"percentHeight",{get:function(){return this.$values[r.percentHeight]},set:function(t){t=+t;var e=this.$values;e[r.percentHeight]!==t&&(e[r.percentHeight]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"explicitWidth",{get:function(){return this.$values[r.explicitWidth]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"explicitHeight",{get:function(){return this.$values[r.explicitHeight]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_width",{get:function(){return this.$values[r.explicitWidth]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_height",{get:function(){return this.$values[r.explicitHeight]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"width",{get:function(){return this.getPreferredUWidth()},set:function(t){t=+t;var e=this.$values;t<0||e[r.width]===t&&e[r.explicitWidth]===t||(e[r.explicitWidth]=t,isNaN(t)&&this.invalidateSize(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"height",{get:function(){return this.getPreferredUHeight()},set:function(t){t=+t;var e=this.$values;t<0||e[r.height]===t&&e[r.explicitHeight]===t||(e[r.explicitHeight]=t,isNaN(t)&&this.invalidateSize(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minWidth",{get:function(){return this.$values[r.minWidth]},set:function(t){t=+t||0;var e=this.$values;t<0||e[r.minWidth]===t||(e[r.minWidth]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxWidth",{get:function(){return this.$values[r.maxWidth]},set:function(t){t=+t||0;var e=this.$values;t<0||e[r.maxWidth]===t||(e[r.maxWidth]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minHeight",{get:function(){return this.$values[r.minHeight]},set:function(t){t=+t||0;var e=this.$values;t<0||e[r.minHeight]===t||(e[r.minHeight]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxHeight",{get:function(){return this.$values[r.maxHeight]},set:function(t){t=+t||0;var e=this.$values;t<0||e[r.maxHeight]===t||(e[r.maxHeight]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleX",{get:function(){return this.$values[r.scaleX]},set:function(t){t=+t||0;var e=this.$values;e[r.scaleX]!==t&&t!==this.container.scale.x&&(e[r.scaleX]=t,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scaleY",{get:function(){return this.$values[r.scaleY]},set:function(t){t=+t||0;var e=this.$values;e[r.scaleY]!==t&&t!==this.container.scale.y&&(e[r.scaleY]=t,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"x",{get:function(){return this.$values[r.x]},set:function(t){t=+t||0;var e=this.$values;e[r.x]!==t&&(e[r.x]=t,this.container.x!==t&&(this.container.x=t,this.invalidateParentLayout()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.$values[r.y]},set:function(t){t=+t||0;var e=this.$values;e[r.y]!==t&&(e[r.y]=t,t!==this.container.y&&(this.container.y=t,this.invalidateParentLayout()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skewX",{get:function(){return this.$values[r.skewX]},set:function(t){t=+t||0;var e=this.$values;e[r.skewX]!==t&&(e[r.skewX]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skewY",{get:function(){return this.$values[r.skewY]},set:function(t){t=+t||0;var e=this.$values;e[r.skewY]!==t&&(e[r.skewY]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pivotX",{get:function(){return this.$values[r.pivotX]},set:function(t){t=+t||0;var e=this.$values;e[r.pivotX]!==t&&(e[r.pivotX]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pivotY",{get:function(){return this.$values[r.pivotY]},set:function(t){t=+t||0;var e=this.$values;e[r.pivotY]!==t&&(e[r.pivotY]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rotation",{get:function(){return this.$values[r.rotation]},set:function(t){t=+t||0;var e=this.$values;e[r.rotation]!==t&&(e[r.rotation]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"zIndex",{get:function(){return this.$values[r.zIndex]},set:function(t){t=+t||0;var e=this.$values;e[r.zIndex]!==t&&(e[r.zIndex]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),i}(u.DisplayObjectAbstract);e.DisplayLayoutAbstract=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(3),s=function(){function t(){this.map={},this.items=[],this.length=0}return t.prototype.insert=function(t){var e=t.uuid;this.map[e]||(this.map[e]=!0,this.length++,this.items.push(t))},t.prototype.pop=function(){var t=this.items.pop();return t&&(this.length--,0===this.length?this.map={}:this.map[t.uuid]=!1),t},t.prototype.remove=function(t){var e=this.items.indexOf(t);e>=0&&(this.items.splice(e,1),this.length--,0===this.length?this.map={}:this.map[t.uuid]=!1)},t}(),a=function(){function t(){this.depthBins={},this.minDepth=0,this.maxDepth=-1}return t.prototype.removeAll=function(){var t=this.depthBins;for(var e in t){var i=t[e];i.items=[],i.map={},i.length=0}this.minDepth=0,this.maxDepth=-1},t.prototype.insert=function(t){var e=t.$nestLevel;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var i=this.depthBins[e];i||(i=this.depthBins[e]=new s),i.insert(t)},t.prototype.pop=function(){var t,e=this.minDepth;if(e<=this.maxDepth){for(var i=this.depthBins[this.maxDepth];!i||0===i.length;){if(this.maxDepth--,this.maxDepth<e)return;i=this.depthBins[this.maxDepth]}for(t=i.pop();!(i&&0!=i.length||(this.maxDepth--,this.maxDepth<e));)i=this.depthBins[this.maxDepth]}return t},t.prototype.shift=function(){var t,e=this.maxDepth;if(this.minDepth<=e){for(var i=this.depthBins[this.minDepth];!i||0===i.length;){if(this.minDepth++,this.minDepth>e)return;i=this.depthBins[this.minDepth]}for(t=i.pop();!(i&&0!=i.length||(this.minDepth++,this.minDepth>e));)i=this.depthBins[this.minDepth]}return t},t.prototype.removeLargestChild=function(t){for(var e=t.uuid,i=t.$nestLevel,n=this.maxDepth,o=i;o<=n;){var r=this.depthBins[n];if(r&&r.length>0){if(n===i){if(r.map[e])return r.remove(t),t}else{if(!t.isContainer)break;for(var s=r.items,a=r.length,h=0;h<a;h++){var u=s[h];if(t.contains(u))return r.remove(u),u}}n--}else if(n==this.maxDepth&&this.maxDepth--,--n<o)break}},t.prototype.removeSmallestChild=function(t){for(var e=t.$nestLevel,i=e,n=this.maxDepth,o=t.uuid;i<=n;){var r=this.depthBins[i];if(r&&r.length>0){if(i===e){if(r.map[o])return r.remove(t),t}else{if(!t.isContainer)break;for(var s=r.items,a=r.length,h=0;h<a;h++){var u=s[h];if(t.contains(u))return r.remove(u),u}}i++}else if(i==this.minDepth&&this.minDepth++,++i>n)break}},t.prototype.isEmpty=function(){return this.minDepth>this.maxDepth},t}(),h=new(function(t){function e(){var e=t.call(this)||this;return e.targetLevel=1/0,e.invalidatePropertiesFlag=!1,e.invalidateClientPropertiesFlag=!1,e.invalidatePropertiesQueue=new a,e.invalidateSizeFlag=!1,e.invalidateClientSizeFlag=!1,e.invalidateSizeQueue=new a,e.invalidateDisplayListFlag=!1,e.invalidateDisplayListQueue=new a,e.listenersAttached=!1,e}return o(e,t),e.prototype.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},e.prototype.validateProperties=function(){for(var t=this.invalidatePropertiesQueue,e=t.shift();e;)e.parent&&e.validateProperties(),e=t.shift();t.isEmpty()&&(this.invalidatePropertiesFlag=!1)},e.prototype.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},e.prototype.validateSize=function(){for(var t=this.invalidateSizeQueue,e=t.pop();e;)e.parent&&e.validateSize(),e=t.pop();t.isEmpty()&&(this.invalidateSizeFlag=!1)},e.prototype.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},e.prototype.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue,e=t.shift();e;)e.parent&&e.validateDisplayList(),e=t.shift();t.isEmpty()&&(this.invalidateDisplayListFlag=!1)},e.prototype.attachListeners=function(){r.default.addUpdateEvent(this.doPhasedInstantiationCallBack,this),this.listenersAttached=!0},e.prototype.doPhasedInstantiationCallBack=function(){r.default.removeUpdateEvent(this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},e.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag?this.attachListeners():this.listenersAttached=!1},e.prototype.validateClient=function(t){var e,i=!1,n=this.targetLevel;this.targetLevel===1/0&&(this.targetLevel=t.$nestLevel);for(var o=this.invalidatePropertiesQueue,r=this.invalidateSizeQueue,s=this.invalidateDisplayListQueue;!i;){for(i=!0,e=o.removeSmallestChild(t);e;)e.parent&&e.validateProperties(),e=o.removeSmallestChild(t);for(o.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,e=r.removeLargestChild(t);e;){if(e.parent&&e.validateSize(),this.invalidateClientPropertiesFlag&&(e=o.removeSmallestChild(t))){o.insert(e),i=!1;break}e=r.removeLargestChild(t)}for(r.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,e=s.removeSmallestChild(t);e;){if(e.parent&&e.validateDisplayList(),this.invalidateClientPropertiesFlag&&(e=o.removeSmallestChild(t))){o.insert(e),i=!1;break}if(this.invalidateClientSizeFlag&&(e=r.removeLargestChild(t))){r.insert(e),i=!1;break}e=s.removeSmallestChild(t)}s.isEmpty()&&(this.invalidateDisplayListFlag=!1)}n===1/0&&(this.targetLevel=1/0)},e.prototype.removeDepthQueueAll=function(){this.invalidatePropertiesQueue.removeAll(),this.invalidateDisplayListQueue.removeAll(),this.invalidateSizeQueue.removeAll(),this.doPhasedInstantiation()},e}(vf.utils.EventEmitter));e.default=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(23),s=i(1),a=i(0),h=function(t){function e(){var e=t.call(this)||this;return e.id="",e.name="",e.$nestLevel=0,e.initialized=!1,e.uiChildren=[],e._interactive=!0,e._interactiveChildren=!0,e._enabled=!0,e._visible=!0,e.uuid=a.uid(),e.container=new r.ContainerBase,e.container.on("added",e.$onAddStage,e),e.container.on("removed",e.$onRemoveStage,e),e}return o(e,t),e.prototype.addChild=function(t){return this.container.children.length!==this.uiChildren.length?this.addChildAt(t,this.container.children.length):this.addChildAt(t,this.uiChildren.length)},e.prototype.addChildAt=function(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,t.$nestLevel=this.$nestLevel+1,this.uiChildren.splice(e,0,t),t.initialized||(t.initialized=!0,t.$onInit()),e=Math.min(e,this.container.children.length),this.emit(s.ComponentEvent.ADD,this),this.container.addChildAt(t.container,e),t},e.prototype.getChildAt=function(t){return this.uiChildren[t]||void 0},e.prototype.getChildByUUID=function(t){for(var e=this.uiChildren,i=e.length,n=0;n<i;n++)if(e[n].uuid==t)return e[n]},e.prototype._getChildById=function(t){for(var e=this.uiChildren,i=e.length,n=0;n<i;n++)if(e[n].id===t)return e[n]},e.prototype.getChildByPath=function(t){for(var e=this,i=t.length-1;i>=0;i--)e=e?e._getChildById(t[i]):void 0;return e},e.prototype.removeChild=function(t){var e=this.uiChildren.indexOf(t);return this.removeChildAt(e)},e.prototype.removeChildAt=function(t){t=Math.max(0,t),t=Math.min(this.uiChildren.length,t);var e=this.uiChildren[t];return e&&(e.container.parent.removeChild(e.container),this.uiChildren.splice(t,1),e.parent=void 0),e},e.prototype.removeChildren=function(t,e){for(var i=t||0,n=e||this.uiChildren.length,o=i;o<n;o++)this.removeChild(this.uiChildren[o])},Object.defineProperty(e.prototype,"renderable",{get:function(){return this.container.renderable},set:function(t){this.container.renderable=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cacheAsBitmap",{get:function(){return this.container.cacheAsBitmap},set:function(t){this.container.cacheAsBitmap=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactive",{get:function(){return this.container.interactive},set:function(t){this._interactive=t,this._enabled&&(this.container.interactive=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"interactiveChildren",{get:function(){return this.container.interactiveChildren},set:function(t){this._interactiveChildren=t,this._enabled&&(this.container.interactiveChildren=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this._enabled=t,this.container.interactive=t,this.container.interactiveChildren=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return this._visible},set:function(t){this._visible!==t&&(this._visible=t,this.container.visible=t)},enumerable:!0,configurable:!0}),e.prototype.offAll=function(t){return this.removeAllListeners(t)},Object.defineProperty(e.prototype,"stage",{get:function(){return null==this.$stage&&(this.$stage=a.getStage(this)),this.$stage},enumerable:!0,configurable:!0}),e.prototype.checkInvalidateFlag=function(){},e.prototype.load=function(){this.$onLoad()},e.prototype.release=function(){this.parent&&this.parent.removeChild(this),this.$onRelease(),this.$stage=void 0},e.prototype.$onInit=function(){this.emit(s.ComponentEvent.CREATION_COMPLETE,this)},e.prototype.$onLoad=function(){},e.prototype.$onRelease=function(){},e.prototype.$onAddStage=function(){this.checkInvalidateFlag(),this.emit(s.ComponentEvent.ADDED,this)},e.prototype.$onRemoveStage=function(){this.checkInvalidateFlag(),this.parent=void 0,this.emit(s.ComponentEvent.REMOVEED,this)},e}(vf.utils.EventEmitter);e.DisplayObjectAbstract=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.isEmitRender=!1,e}return o(e,t),e.prototype.render=function(e){this.isEmitRender&&this.emit("renderChange",e),t.prototype.render.call(this,e)},e}(vf.Container);e.ContainerBase=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(11);function o(t,e){if(null==t)return NaN;if("number"==typeof t)return t;var i=t,n=i.indexOf("%");return-1==n?+i:.01*+i.substring(0,n)*e}e.$tempRectangle=new vf.Rectangle,e.formatRelative=o,e.updateBasicDisplayList=function(t,e,i){if(t){var r=t.$values,s=t.parent?t.parent.$values:void 0,a=1,h=1;s&&(a=s[n.width]||s[n.explicitWidth]||1,h=s[n.height]||s[n.explicitHeight]||1);var u=o(r[n.horizontalCenter],.5*a),l=o(r[n.verticalCenter],.5*h),c=o(r[n.left],a||1),p=o(r[n.right],a),d=o(r[n.top],h||1),f=o(r[n.bottom],h),g=e,v=i;isNaN(c)||isNaN(p)||(g=a-p-c),isNaN(d)||isNaN(f)||(v=h-f-d),t.setMeasuredSize(g,v),t.setActualSize(g,v);var y=NaN,_=NaN;y=isNaN(u)?isNaN(c)?isNaN(p)?t.x:a-g-p:c:Math.round((a-g)/2+u),_=isNaN(l)?isNaN(d)?isNaN(f)?t.y:h-v-f:d:Math.round((h-v)/2+l),t.setPosition(y,_)}}},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=function(t){function e(){var e=t.call(this)||this;return e.isContainer=!0,e}return o(e,t),e.prototype.contains=function(t){for(;t;)return t==this||(t.parent instanceof r.DisplayObject&&(t=t.parent),!1);return!1},e}(r.DisplayObject);e.Container=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(1),a=i(11),h=function(t){function e(e){void 0===e&&(e="");var i=t.call(this)||this;return i.sprite=new vf.Text(e,{breakWords:!0,fill:"#ffffff"}),i.container.addChild(i.sprite),i}return o(e,t),Object.defineProperty(e.prototype,"resolution",{get:function(){return this.sprite.resolution},set:function(t){this.sprite.resolution=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.sprite.text},set:function(t){this.sprite.text=t,this.invalidateSize(),this.invalidateDisplayList(),this.emit(s.ComponentEvent.CHANGE,this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontCssStyle",{set:function(t){t.color&&(t.fill=t.color),t.breakWords=!0,this.sprite.style=t,this.invalidateSize(),this.invalidateDisplayList()},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i);var n=this.$values;if(!isNaN(n[a.explicitWidth]))switch(this.style.textAlign){case"left":this.sprite.x=0;break;case"right":this.sprite.x=n[a.explicitWidth]-this.sprite.width;break;case"center":this.sprite.x=n[a.explicitWidth]-this.sprite.width>>1}isNaN(n[a.explicitHeight])||(this.sprite.y=n[a.explicitHeight]-this.sprite.height>>1)},e.prototype.release=function(){t.prototype.release.call(this);var e=this.sprite;e&&e.parent&&e.parent.removeChild(e).destroy(),this.offAll(s.ComponentEvent.CHANGE)},e}(r.DisplayObject);e.Label=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(1),a=function(t){function e(){var e=t.call(this)||this;return e.clickEvent=new s.ClickEvent(e,!0),e._currentState="up",e._focused=!1,e._useTab=!0,e._usePrev=!0,e._useNext=!0,e._down=!1,e.container.interactiveChildren=!1,e.on(s.TouchMouseEvent.onMove,e.onMove,e),e.on(s.TouchMouseEvent.onHover,e.onHover,e),e.on(s.TouchMouseEvent.onPress,e.onPress,e),e.on(s.TouchMouseEvent.onClick,e.onClick,e),e}return o(e,t),Object.defineProperty(e.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState!=t&&(this._currentState=t,this.emit(s.ComponentEvent.STATE_CHANGE,this,t))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clickSound",{get:function(){return this._clickSound},set:function(t){this._clickSound!==t&&(this._clickSound=t)},enumerable:!0,configurable:!0}),e.prototype.onMove=function(){this._down||(this.currentState="move")},e.prototype.onHover=function(){this.currentState="up"},e.prototype.onPress=function(t,e,i){this._down=i,i?(this.focus(),this.currentState="down"):this.currentState="up"},e.prototype.onClick=function(){this._clickSound&&this.emit(s.ComponentEvent.PLAY_AUDIO,{name:this._clickSound,mode:"effect"})},e.prototype.keyDownEvent=function(t){var e=t;9===e.which?this._useTab&&(s.InputController.fireTab(),e.preventDefault()):38===e.which?this._usePrev&&(s.InputController.firePrev(),e.preventDefault()):40===e.which&&this._useNext&&(s.InputController.fireNext(),e.preventDefault())},e.prototype.documentMouseDown=function(){"down"!==this.currentState&&this.blur()},e.prototype._bindEvents=function(){this.stage&&(this.stage.on("pointerdown",this.documentMouseDown,this),this.keyDownEventBind=this.keyDownEvent.bind(this),document.addEventListener("keydown",this.keyDownEventBind))},e.prototype._clearEvents=function(){this.stage&&(this.stage.off("pointerdown",this.documentMouseDown,this),document.removeEventListener("keydown",this.keyDownEventBind))},e.prototype.focus=function(){this._focused||(this._focused=!0,this._bindEvents(),s.InputController.set(this),this.emit("focusChanged",!0),this.emit("focus"))},e.prototype.blur=function(){this._focused&&(s.InputController.clear(),this._focused=!1,this._clearEvents(),this.emit("focusChanged",!1),this.emit("blur"))},e.prototype.release=function(){t.prototype.release.call(this),this.off(s.TouchMouseEvent.onMove,this.onMove,this),this.off(s.TouchMouseEvent.onHover,this.onHover,this),this.off(s.TouchMouseEvent.onPress,this.onPress,this),this.off(s.TouchMouseEvent.onClick,this.onClick,this),this.keyDownEventBind&&document.removeEventListener("keydown",this.keyDownEventBind),this.documentMouseDown&&this.stage&&this.stage.off("pointerdown",this.documentMouseDown,this)},e.prototype.setTabIndex=function(t,e){this._tabIndex=t,this._tabGroup=e,void 0!==t&&void 0!==e&&s.InputController.registrer(this,t,e)},e}(r.DisplayObject);e.InputBase=a},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(26),s=i(5),a=i(27),h=i(1),u=function(t){function e(){var e=t.call(this)||this;return e._selectedStr="",e._oldState="",e.img=new s.Image,e.label=new r.Label,e._text="",e.container.buttonMode=!0,e.img.fillMode="scale",e.img.scale9Grid=[3,3,3,3],e.addChild(e.img),e.label.sprite.style.fontSize=18,e.addChild(e.label),e.on(h.ComponentEvent.STATE_CHANGE,e.onStateChange,e),e}return o(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this.label.text},set:function(t){this._text=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,e,i);var n=this.img;n.width=e,n.height=i,this.label.width!==e&&(this.label.width=e),this.label.height!==i&&(this.label.height=i),this.label.text!==this._text&&(this.label.text=this._text),this.onStateChange(this,this.currentState)},e.prototype.release=function(){t.prototype.release.call(this),this.offAll(h.ComponentEvent.STATE_CHANGE),this.img.release(),this.label.release()},e.prototype.onStateChange=function(t,e){this._oldState!=e&&(this._oldState=e,this.img.src=this[e+this._selectedStr])},e}(a.InputBase);e.Button=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(7);e.gui=n,void 0===window.vf&&(window.vf={}),window.vf.gui=n,window.vf.gui.version="1.3.8"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(13);e.add=n.add,e.get=n.get,e.getAll=n.getAll,e.isRunning=n.isRunning,e.FrameThrottle=n.FrameThrottle,e.ToggleLagSmoothing=n.ToggleLagSmoothing,e.Plugins=n.Plugins,e.remove=n.remove,e.removeAll=n.removeAll,e.removeDisplay=n.removeDisplay,e.update=n.update;var o=i(14);e.Interpolation=o.Interpolation;var r=i(8);e.utils=r;var s=i(9);e.TweenEvent=s.TweenEvent;var a=i(15);e.Timeline=a.Timeline},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){this.objPoolDict=new Map}return t.prototype.push=function(t,e){if(void 0!==e){var i=this.objPoolDict.get(t);void 0===i&&(i=[],this.objPoolDict.set(t,i)),-1===i.indexOf(e)&&(e.release(),i.push(e))}},t.prototype.pop=function(t){var e=this.objPoolDict.get(t);return void 0!==e&&e.length>0?e.pop():new t},t}();e.objectPoolShared=new n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(10),o=i(0),r=function(){function t(t,e,i,n,o){this.id=0,this.isOpenEmitEvent=!1,this.isOpenLocalPoint=!1,this.localOffset=new vf.Point,this.offset=new vf.Point,this.movementX=0,this.movementY=0,this.ishover=!1,this.mouse=new vf.Point,this.bound=!1,this.right=!1,this.hover=!0,this.double=!1,this.time=0,this.eventnameMousedown="mousedown",this.eventnameMouseup="mouseup",this.eventnameMouseupoutside="mouseupoutside",this.isStop=!0,this.obj=t,void 0!==e&&(this.isOpenEmitEvent=e),void 0!==i&&(this.right=i),void 0!==n&&(this.hover=n),void 0!==o&&(this.double=o),this.right&&(this.eventnameMousedown="rightdown",this.eventnameMouseup="rightup",this.eventnameMouseupoutside="rightupoutside"),t.interactive=!0,this.startEvent()}return t.prototype.getTarget=function(){return this.obj},t.prototype.startEvent=function(){this.isStop&&(this.obj.container.on(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.on("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.on("mouseover",this._onMouseOver,this),this.obj.container.on("mouseout",this._onMouseOut,this)),this.isStop=!1)},t.prototype.stopEvent=function(){this.bound&&(this.obj.container.off(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.off(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.off("touchend",this._onMouseUp,this),this.obj.container.off("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.obj.container.off(this.eventnameMousedown,this._onMouseDown,this),this.right||this.obj.container.off("touchstart",this._onMouseDown,this),this.hover&&(this.obj.container.off("mouseover",this._onMouseOver,this),this.obj.container.off("mouseout",this._onMouseOut,this),this.obj.container.off("mousemove",this._onMouseMove,this),this.obj.container.off("touchmove",this._onMouseMove,this)),this.isStop=!0},t.prototype._onMouseDown=function(t){if(this.setLocalPoint(t),this.mouse.copyFrom(t.data.global),this.id=t.data.identifier,this.onPress&&this.onPress.call(this.obj,t,this.obj,!0),this.obj,this.emitTouchEvent(n.TouchMouseEvent.onPress,t,!0),this.obj.listenerCount(n.TouchMouseEvent.onDown)>0&&this.emitTouchEvent(n.TouchMouseEvent.onDown,t,!0),this.bound||(this.obj.container.on(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.on(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.on("touchend",this._onMouseUp,this),this.obj.container.on("touchendoutside",this._onMouseUpOutside,this)),this.bound=!0),this.double){var e=performance.now();e-this.time<210?(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent(n.TouchMouseEvent.onClick,t)):this.time=e}t.data.originalEvent.preventDefault()},t.prototype.emitTouchEvent=function(t,e,i){if(o.debug){var r=this.obj.stage;r&&t!==n.TouchMouseEvent.onMove&&r.inputLog({code:t,level:"info",target:this.obj,data:[i],action:e.type})}this.isOpenEmitEvent&&(e.type=t.toString(),this.obj.emit(e.type,e,this.obj,i))},t.prototype._mouseUpAll=function(t){t.data.identifier===this.id&&(this.offset.set(t.data.global.x-this.mouse.x,t.data.global.y-this.mouse.y),this.bound&&(this.obj.container.off(this.eventnameMouseup,this._onMouseUp,this),this.obj.container.off(this.eventnameMouseupoutside,this._onMouseUpOutside,this),this.right||(this.obj.container.off("touchend",this._onMouseUp,this),this.obj.container.off("touchendoutside",this._onMouseUpOutside,this)),this.bound=!1),this.onPress&&this.onPress.call(this.obj,t,this.obj,!1),this.obj.listenerCount(n.TouchMouseEvent.onUp)>0&&this.emitTouchEvent(n.TouchMouseEvent.onUp,t,!1),this.emitTouchEvent(n.TouchMouseEvent.onPress,t,!1))},t.prototype._onMouseUp=function(t){t.data.identifier===this.id&&(this._mouseUpAll(t),this.obj.dragThreshold&&(this.movementX=Math.abs(this.offset.x),this.movementY=Math.abs(this.offset.y),Math.max(this.movementX,this.movementY)>this.obj.dragThreshold)||this.double||(this.onClick&&this.onClick.call(this.obj,t,this.obj),this.emitTouchEvent(n.TouchMouseEvent.onClick,t,!1)))},t.prototype._onMouseUpOutside=function(t){t.data.identifier===this.id&&this._mouseUpAll(t)},t.prototype._onMouseOver=function(t){this.ishover||(this.ishover=!0,this.obj.container.on("mousemove",this._onMouseMove,this),this.obj.container.on("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!0),this.emitTouchEvent(n.TouchMouseEvent.onHover,t,!0))},t.prototype._onMouseOut=function(t){this.ishover&&(this.ishover=!1,this.obj.container.off("mousemove",this._onMouseMove,this),this.obj.container.off("touchmove",this._onMouseMove,this),this.onHover&&this.onHover.call(this.obj,t,this.obj,!1),this.emitTouchEvent(n.TouchMouseEvent.onHover,t,!1))},t.prototype._onMouseMove=function(t){this.setLocalPoint(t),this.onMove&&this.onMove.call(this.obj,t,this.obj),this.emitTouchEvent(n.TouchMouseEvent.onMove,t)},t.prototype.setLocalPoint=function(t){this.isOpenLocalPoint&&(this.obj.container.toLocal(t.data.global,void 0,this.localOffset),t.local=this.localOffset)},t.prototype.remove=function(){this.stopEvent(),this.onPress=void 0,this.onHover=void 0,this.onClick=void 0,this.onMove=void 0,this.obj.container.interactive=!1},t}();e.ClickEvent=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._items=[],e.add=function(t,i){return t.attach.dragDropEventId=i.data.identifier,-1===e._items.indexOf(t)&&(e._items.push(t),!0)},e.getItem=function(t){for(var i,n=0;n<e._items.length;n++)if(e._items[n]===t){i=n;break}return void 0!==i&&(e._items.splice(i,1),t)},e.getEventItem=function(t,i){for(var n,o=null,r=t.data.identifier,s=0;s<e._items.length;s++)if(e._items[s].attach.dragDropEventId===r){if(i!==e._items[s].attach.dragGroup&&""!==e._items[s].attach.dragGroup)return!1;o=e._items[s],n=s;break}return void 0!==n&&(e._items.splice(n,1),o)}},function(t,e,i){"use strict";var n;function o(){var t=n;t&&t.blur&&"function"==typeof t.blur&&t.blur()}Object.defineProperty(e,"__esModule",{value:!0}),e.tabGroups={},e._checkGroupObject={groups:{},values:{}},e.registrer=function(t,i,n){var o=n||"default",r=e.tabGroups[o];r||(r=e.tabGroups[o]=[]),-1===r.indexOf(t)&&(t.attach._tabIndex=void 0!==i?i:-1,t.attach._tabGroup=r,r.push(t),r.sort((function(t,e){return t.attach._tabIndex<e.attach._tabIndex?-1:t.attach._tabIndex>e.attach._tabIndex?1:0})))},e.blur=o,e.set=function(t){o(),n=t},e.clear=function(){n=void 0},e.fireTab=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)+1;e>=t.length&&(e=0);var i=t[e];i.focus&&i.focus()}},e.fireNext=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)+1;e>=t.length&&(e=t.length-1);var i=t[e];i.focus&&i.focus()}},e.firePrev=function(){if(n){var t=n.attach._tabGroup,e=t.indexOf(n)-1;e<0&&(e=0);var i=t[e];i.focus&&i.focus()}},e.registrerCheckGroup=function(t){var i=t.checkGroup;if(i){var n=e._checkGroupObject.groups[i];n||(n=e._checkGroupObject.groups[i]={}),n[t.uuid.toString()]=t,t.checked&&(e._checkGroupObject.values[i]=t.uuid.toString())}},e.unRegistrerCheckGroup=function(t){if(t.checkGroup&&e._checkGroupObject.groups[t.checkGroup]){delete e._checkGroupObject.groups[t.checkGroup][t.uuid.toString()];var i=!1;for(var n in e._checkGroupObject.groups[t.checkGroup]){n&&(i=!0);break}i||delete e._checkGroupObject.groups[name],t.checked&&(e._checkGroupObject.values[name]=void 0)}},e.updateCheckGroupSelected=function(t){if(t.checkGroup){var i=e._checkGroupObject.groups[t.checkGroup];for(var n in i){var o=i[n];o!==t&&(o.checked=!1)}e._checkGroupObject.values[t.checkGroup]=t.uuid.toString()}},e.getCheckGroupSelectedValue=function(t){var i=e._checkGroupObject.values[t];if(i)return e._checkGroupObject.groups[t][i.toString()].value},e.setCheckGroupSelectedValue=function(t,i){var n=e._checkGroupObject.groups[t];if(n){var o=n[i];o&&(o.checked=!0)}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e._GroupObject=new Map,e.registrerGroup=function(t){if(t.groupName){var i=e._GroupObject.get(t.groupName);i||(i={},e._GroupObject.set(t.groupName,i)),i[t.uuid]=t}},e.unRegistrerGroup=function(t){if(t.groupName){var i=e._GroupObject.get(t.groupName);i&&delete i[t.uuid];var n=!1;for(var o in i){n=!0;break}n&&e._GroupObject.delete(t.groupName)}},e.getGroup=function(t){if(null!=t)return e._GroupObject.get(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(37),o=i(1);function r(t){if(null==t)return{percent:NaN,value:NaN};if("number"==typeof t)return{percent:NaN,value:t};var e=t,i=e.indexOf("%");if(-1==i)return{percent:NaN,value:+e};var n=+e.substring(0,i);return{percent:Math.min(.01*n,1),value:NaN}}var s=function(){function t(t){this._display="block",this._position="absolute",this._backgroundRepeat="no-repeat",this._color=16777200,this._wordWrap=!1,this._textAlign="center",this._fontSize=22,this._fontStyle="normal",this._fontVariant="normal",this._fontWeight="normal",this._strokeThickness=0,this._dropShadow=!1,this._dropShadowAlpha=!1,this._dropShadowAngle=0,this._dropShadowBlur=0,this._dropShadowColor=0,this._dropShadowDistance=5,this._breakWords=!0,this.parent=t,t.on(o.ComponentEvent.RESIZE,this.onResize,this)}return t.prototype.release=function(){this.parent.off(o.ComponentEvent.RESIZE,this.onResize,this)},Object.defineProperty(t.prototype,"display",{get:function(){return this._display},set:function(t){this._display=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"justifyContent",{get:function(){return this._justifyContent},set:function(t){this._justifyContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignContent",{get:function(){return this._alignContent},set:function(t){this._alignContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridTemplateColumns",{get:function(){return this._gridTemplateColumns},set:function(t){this._gridTemplateColumns=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridColumnGap",{get:function(){return this._gridColumnGap},set:function(t){this._gridColumnGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridTemplateRows",{get:function(){return this._gridTemplateRows},set:function(t){this._gridTemplateRows=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gridRowGap",{get:function(){return this._gridRowGap},set:function(t){this._gridRowGap=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.parent.width},set:function(t){var e=r(t);this.parent.width=e.value,this.parent.percentWidth=e.percent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.parent.height},set:function(t){var e=r(t);this.parent.height=e.value,this.parent.percentHeight=e.percent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.parent.minWidth},set:function(t){this.parent.minWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.parent.maxWidth},set:function(t){this.parent.maxWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxHeight",{get:function(){return this.parent.maxHeight},set:function(t){this.parent.maxHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minHeight",{get:function(){return this.parent.minHeight},set:function(t){this.parent.minHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){return this.parent.left},set:function(t){this.parent.left=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.parent.top},set:function(t){this.parent.top=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.parent.right},set:function(t){this.parent.right=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.parent.bottom},set:function(t){this.parent.bottom=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleX",{get:function(){return this.parent.scaleX},set:function(t){this.parent.scaleX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scaleY",{get:function(){return this.parent.scaleY},set:function(t){this.parent.scaleY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skewX",{get:function(){return this.parent.skewX},set:function(t){this.parent.skewX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skewY",{get:function(){return this.parent.skewY},set:function(t){this.parent.skewY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this.parent.rotation},set:function(t){this.parent.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.parent.rotation},set:function(t){this.parent.rotation=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pivotX",{get:function(){return this.parent.pivotX},set:function(t){this.parent.pivotX=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pivotY",{get:function(){return this.parent.pivotY},set:function(t){this.parent.pivotY=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this.parent.tint},set:function(t){this.parent.tint=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.parent.alpha},set:function(t){this.parent.alpha=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visible",{get:function(){return this.parent.visible},set:function(t){this.parent.visible=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this.parent.visible?"visible":"hidden"},set:function(t){this.visible="hidden"!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){t!==this.backgroundColor&&(this._backgroundColor=t,n.backgroundColor(this.parent))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundImage",{get:function(){return this._backgroundImage},set:function(t){this._backgroundImage=t,n.backgroundImage(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundPositionX",{get:function(){return this._backgroundPositionX},set:function(t){this._backgroundPositionX=t,n.backgroundPositionSize(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundPositionY",{get:function(){return this._backgroundPositionY},set:function(t){this._backgroundPositionY=t,n.backgroundPositionSize(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundSize",{get:function(){return this._backgroundSize},set:function(t){this._backgroundSize=t,n.backgroundPositionSize(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundRepeat",{get:function(){return this._backgroundRepeat},set:function(t){this._backgroundRepeat=t,n.backgroundRepeat(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskImage",{get:function(){return this._maskImage},set:function(t){this._maskImage=t,n.maskImage(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskPosition",{get:function(){return this._maskPosition},set:function(t){this._maskPosition=t,n.maskPosition(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskSize",{get:function(){return this._maskSize},set:function(t){this._maskSize=t,n.maskSize(this.parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.parent.filter},set:function(t){console.error("[VF LOG] 只读属性 filter!")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{get:function(){return this.parent.container.cursor},set:function(t){this.parent.container.cursor=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,n.color(this.parent,"color",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing=t,n.updateFontStyle(this.parent,"letterSpacing",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap=t,n.updateFontStyle(this.parent,"wordWrap",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth=t,n.updateFontStyle(this.parent,"wordWrapWidth",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textAlign",{get:function(){return this._textAlign},set:function(t){this._textAlign=t,n.updateFontStyle(this.parent,"textAlign",t),n.updateFontStyle(this.parent,"align",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight=t,n.updateFontStyle(this.parent,"lineHeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t,n.updateFontStyle(this.parent,"fontFamily",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=t,n.updateFontStyle(this.parent,"fontSize",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle=t,n.updateFontStyle(this.parent,"fontStyle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant=t,n.updateFontStyle(this.parent,"fontVariant",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight=t,n.updateFontStyle(this.parent,"fontWeight",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t,n.updateFontStyle(this.parent,"padding",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){this._stroke=t,n.updateFontStyle(this.parent,"stroke",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness=t,n.updateFontStyle(this.parent,"strokeThickness",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow=t,n.updateFontStyle(this.parent,"dropShadow",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha=t,n.updateFontStyle(this.parent,"dropShadowAlpha",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle=t,n.updateFontStyle(this.parent,"dropShadowAngle",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur=t,n.updateFontStyle(this.parent,"dropShadowBlur",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){this._dropShadowColor=t,n.updateFontStyle(this.parent,"dropShadowColor",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance=t,n.updateFontStyle(this.parent,"dropShadowDistance",t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords=t,n.updateFontStyle(this.parent,"breakWords",t)},enumerable:!0,configurable:!0}),t.prototype.onResize=function(){var t=this.parent;if(0!=t.width&&0!=t.height){if(this.backgroundColor&&t.$background){var e=t.$background;e.clear(),e.beginFill(this.backgroundColor),e.drawRoundedRect(0,0,t.width,t.height,0),e.endFill()}if(t.$background&&t.$background.mask){var i=t.$background.mask;i.clear(),i.beginFill(this.backgroundColor),i.drawRoundedRect(0,0,t.width,t.height,0),i.endFill()}}},t}();e.CSSStyle=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(2);function r(t){if(null!=t.style&&t.$background&&t.$background.children.length>0){var e=t.$background.getChildAt(0),i=t.style;e instanceof vf.TilingSprite?e.tilePosition.set(i.backgroundPositionX||0,i.backgroundPositionY||0):(i.backgroundSize&&(e.width=i.backgroundSize[0],e.height=i.backgroundSize[1]),e.position.set(i.backgroundPositionX||0,i.backgroundPositionY||0))}}function s(t){if(null!=t.style){var e,i=t.style;if(i.backgroundImage&&t.$background)if(t.$background.removeChildren(),i.backgroundImage instanceof vf.Texture?e=i.backgroundImage:"string"==typeof i.backgroundImage&&(e=n.getTexture(i.backgroundImage)),e){var o=void 0;void 0===i.backgroundRepeat&&(i.backgroundRepeat="no-repeat"),o="repeat"===i.backgroundRepeat?new vf.TilingSprite(e):new vf.Sprite(e),t.$background.addChild(o);var r=new vf.Graphics;t.$background.addChild(r),t.$background.mask=r}}}function a(t){if(null!=t.style&&t.$mask){var e=t.style;if(void 0===e.maskPosition)return;t.$mask instanceof o.DisplayObject?(t.$mask.x=e.maskPosition[0],t.$mask.y=e.maskPosition[1]):t.$mask.position.set(e.maskPosition[0],e.maskPosition[1])}}function h(t){if(null!=t.style&&t.$mask){var e=t.style;if(void 0===e.maskSize)return;t.$mask.width=e.maskSize[0],t.$mask.height=e.maskSize[1],t.$mask,vf.Graphics,t.$mask instanceof o.DisplayObject||t.$mask.updateTransform()}}e.backgroundColor=function(t){null!=t.style&&(null==t.style.backgroundColor&&null==t.$background||void 0===t.$background&&(t.$background=new vf.Graphics,t.$background.name="background",t.container.addChildAt(t.$background,0)))},e.backgroundPositionSize=r,e.backgroundRepeat=s,e.backgroundImage=function(t){void 0===t.$background&&(t.$background=new vf.Graphics,t.$background.name="background",t.container.addChildAt(t.$background,0)),s(t),r(t)},e.maskPosition=a,e.maskSize=h,e.maskImage=function(t){if(null!=t.style){t.container.mask=null,t.$mask&&t.$mask.parent&&(t.$mask instanceof o.DisplayObject?t.removeChild(t.$mask):t.$mask.parent.removeChild(t.$mask));for(var e=0;e<t.uiChildren.length;e++)if("maskImage"==t.uiChildren[e].name){t.removeChild(t.uiChildren[e]);break}t.$mask=void 0;var i=t.style,r=t.container,s=n.getDisplayObject(i.maskImage,t);null!=s&&""!==s&&(s instanceof vf.Graphics?(t.$mask=s,r.mask=t.$mask,r.addChild(t.$mask)):s instanceof o.DisplayObject?s.maskSprite&&(t.$mask=s,t.$mask.name="maskImage",r.mask=s.maskSprite()||null,null==s.parent&&t.addChild(s)):(t.$mask=vf.Sprite.from(n.getTexture(i.maskImage)),r.mask=t.$mask,r.addChild(t.$mask)),h(t),a(t))}},e.updateFontStyle=function(t,e,i){t.setInputStyle?t.setInputStyle(e,i):t.sprite.style[e]=i},e.color=function(t,e,i){t.setInputStyle?t.setInputStyle(e,i):t.sprite.style.fill=i}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(39),o=i(24);function r(t,i,n,o,r){if(void 0===o&&(o=0),void 0===r&&(r=0),null==t.style)return!1;if(null==t.style.justifyContent&&null==t.style.alignContent)return!1;var s=t.x,a=t.y,h=0,u=0,l=t.getPreferredBounds(e.$TempRectangle);switch(t.style.justifyContent){case"center":h=i-l.width>>1;break;case"flex-start":h=r;break;case"flex-end":h=i-l.width-r}switch(t.style.alignContent){case"center":u=n-l.height>>1;break;case"flex-start":u=o;break;case"flex-end":u=n-l.height-o}return 0!==h&&(t.x=h),0!==u&&(t.y=u),s!==h||a!==u}e.$TempRectangle=new vf.Rectangle,e.updateDisplayLayout=function(t,i,s){if(null!=t.style){if("block"===t.style.display)o.updateBasicDisplayList(t,i,s);else if("grid"===t.style.display){var a=n.updateGridLayout(t);o.updateBasicDisplayList(t,a.width,a.height)}var h=!1;if(t.parent&&(h=r(t,t.parent.width,t.parent.height,t.style.gridRowGap,t.style.gridColumnGap)),t.isContainer)for(var u=t.getPreferredBounds(e.$TempRectangle),l=void 0,c=0;c<t.uiChildren.length;c++)h=r(l=t.uiChildren[c],u.width,u.height,l.style.gridRowGap,l.style.gridColumnGap);h&&t.updateTransform()}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(24);function r(t,e){var i=[],o=!1;if(t)if("repeat"===t[0])if(t[1]===1/0)o=!0,i.push(n.formatRelative(0,e));else for(var r=0;r<t[1];r++)i.push(n.formatRelative(t[2],e));else for(r=0;r<t.length;r++)i.push(n.formatRelative(t[r],e));return{list:i,isInfinity:o}}e.updateGridLayout=function(t){if(null==t.parent)return o.$tempRectangle;if(null==t.style)return o.$tempRectangle;for(var e,i=0,n=0,s=t.style,a=s.gridColumnGap||0,h=s.gridRowGap||0,u=r(s.gridTemplateColumns,t.parent.width),l=r(s.gridTemplateRows,t.parent.height),c=0,p=0,d=0,f=0,g=0,v=0;v<t.uiChildren.length;v++)(e=t.uiChildren[v]).style.justifyContent||e.style.alignContent||(d=u.isInfinity?u.list[0]||0:u.list[c]||0,f=l.isInfinity?l.list[0]||0:l.list[p]||0,e.width=e.explicitWidth||d,e.height=e.explicitHeight||f,e.x=g,e.y=i,(g+=d+a)>n&&(n=g),++c>=u.list.length&&(c=0,g=0,i+=0!==f?f+h:e.height+h,u.isInfinity||p++));return n=Math.max(t.width,n-a),i=Math.max(t.height,i-h),t.width=n,t.height=i,o.$tempRectangle.width=n,o.$tempRectangle.height=i,o.$tempRectangle}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(22),r=i(0),s=function(){function t(e){this.oldInteractiveChildren=!1,this.dragInitialized=!1,this.dropInitialized=!1,this._dragState=0,this._dragPosition=new vf.Point,this.dragging=!1,this.dragBoundary=!1,this.dragBounces=!1,this.dragMoveCursor="pointer",this.target=e,e.plugs.set(t.key,this),e.dragStopPropagation=!0}return Object.defineProperty(t.prototype,"dragDropEventId",{get:function(){if(this.target)return this.target.attach.dragDropEventId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"draggable",{set:function(t){t?this.initDraggable():this.clearDraggable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragRestrictAxis",{get:function(){return this._dragRestrictAxis},set:function(t){this._dragRestrictAxis=t,this.drag&&(this.drag.dragRestrictAxis=this._dragRestrictAxis)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragGroup",{get:function(){return this.target?this.target.attach.dragGroup:""},set:function(t){this.target&&(this.target.attach.dragGroup=t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dragContainer",{get:function(){return this._dragContainer},set:function(t){this._dragContainer=r.getDisplayObject(t,this.target)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"droppable",{set:function(t){t?this.initDroppable():this.clearDroppable()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"droppableReparent",{get:function(){return this._droppableReparent},set:function(t){this._droppableReparent=r.getDisplayObject(t,this.target)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"actionData",{get:function(){return JSON.stringify(this._actionData)},set:function(t){var e=this.drag,i=JSON.parse(t),o=new n.InteractionEvent,r=this._dragState;o.type=i.type,o.data=i.data,o.data.identifier=1e3*i.data.identifier,o.signalling=!0,e&&(i.type===n.ComponentEvent.DRAG_TARGET?(2!==r&&(o.type=n.ComponentEvent.DRAG_START,o.data.global.x-=1,e.executeAction(o),o.type=n.ComponentEvent.DRAG_MOVE,o.data.global.x+=1,e.executeAction(o)),o.type=n.ComponentEvent.DRAG_TARGET,this._dragPosition.set(o.data.tiltX,o.data.tiltY),this.executeDrop(o,i.path)):i.type===n.ComponentEvent.DRAG_END?(2!==r&&(o.type=n.ComponentEvent.DRAG_START,o.data.global.x-=1,e.executeAction(o),o.type=n.ComponentEvent.DRAG_MOVE,e.executeAction(o),o.data.global.x+=1),o.type=n.ComponentEvent.DRAG_END,this._dragPosition.set(o.data.tiltX,o.data.tiltY),e.executeAction(o)):e.executeAction(o))},enumerable:!0,configurable:!0}),t.prototype.clearDraggable=function(){this.dragInitialized&&(this.dragInitialized=!1,this.drag&&this.drag.stopEvent())},t.prototype.initDraggable=function(){var t=this;if(null!=this.target&&!this.dragInitialized){this.dragInitialized=!0;var e=new vf.Point,i=new vf.Point;this._containerStart=e,this._dragPosition.set(0,0),this.drag=new n.DragEvent(this.target),this.drag.dragRestrictAxis=this._dragRestrictAxis,this.drag.onDragStart=function(s){if(null!=t.target){t._dragState=1;var a=t.target;t.$targetParent=a.parent,t.oldInteractiveChildren=a.interactiveChildren,null!=t._dragContainer||t.dragBoundary||(t._dragContainer=t.target.stage);var h=n.DragDropController.add(a,s);if(!t.dragging&&h){if(a.emit(n.ComponentEvent.DRAG_START_BEFORE,a,s),t.dragging=!0,a.interactive=!1,a.interactiveChildren=!1,e.copyFrom(a.container.position),t._dragContainer){var u=void 0;t._dragContainer instanceof o.DisplayObjectAbstract&&(u=t._dragContainer),u&&a.parent&&(i.set(u.container.worldTransform.tx-a.parent.container.worldTransform.tx,u.container.worldTransform.ty-a.parent.container.worldTransform.ty),u.addChild(a),i.set(i.x/a.parent.scaleX,i.y/a.parent.scaleY))}else i.set(0);if(r.debug){var l=a.stage;l&&l.inputLog({code:n.ComponentEvent.DRAG_START,level:"info",target:a,data:[a.parent,e.x-i.x,e.y-i.y],action:s.type,message:"parent,start,offset pos"})}t._actionData={type:n.ComponentEvent.DRAG_START,data:s.data},a.emit(n.ComponentEvent.DRAG_START,a,s)}}},this.drag.onDragMove=function(o,s){if(null!=t.target){var a=t.target;if(a.stage&&a.stage.app)a.stage.app.renderer.plugins.interaction.cursor=t.dragMoveCursor;if(t.dragging&&a.stage){var h=e.x+s.x/a.stage.scaleX-i.x,u=e.y+s.y/a.stage.scaleY-i.y,l=t._dragPosition;if("x"==t.dragRestrictAxis?l.set(h,e.y-i.y):"y"==t.dragRestrictAxis?l.set(e.x-i.x,u):t._dragPosition.set(h,u),t.dragBoundary&&a.parent&&(l.x=Math.max(0,l.x),l.x=Math.min(l.x,a.parent.width-a.width),l.y=Math.max(0,l.y),l.y=Math.min(l.y,a.parent.height-a.height)),r.debug){var c=a.stage;c&&c.inputLog({code:n.ComponentEvent.DRAG_MOVE,level:"info",target:a,data:[a.parent,l.x,l.y],action:o.type,message:"parent,move pos"})}t._dragState=2,a.setPosition(t._dragPosition.x,t._dragPosition.y),t._actionData={type:n.ComponentEvent.DRAG_MOVE,data:o.data,offset:s},a.emit(n.ComponentEvent.DRAG_MOVE,a,o)}}},this.drag.onDragEnd=function(e){t.dragging&&(t.dragging=!1,setTimeout((function(){if(null!=t.target){var i=t.target,o=t.$targetParent;i.interactive=!0,i.interactiveChildren=t.oldInteractiveChildren;var s=n.DragDropController.getItem(i),a=t._dragPosition;if(i.emit(n.ComponentEvent.DRAG_END_BEFORE,i,e),s&&o&&(i.parent!==o&&i.parent&&(o.container.toLocal(i.container.position,i.container.parent,a),o.addChild(i),i.x=a.x,i.y=a.y),t.dragBounces&&t._containerStart&&(i.x=t._containerStart.x,i.y=t._containerStart.y)),r.debug){var h=i.stage;h&&h.inputLog({code:n.ComponentEvent.DRAG_END,level:"info",target:i,data:[i.parent,i.x,i.y],action:e.type,message:"parent,end pos"})}i.stage&&i.stage.app&&(i.stage.app.view.style.cursor=i.style.cursor),t._dragState=3,e.data.tiltX=a.x,e.data.tiltY=a.y,t._actionData={type:n.ComponentEvent.DRAG_END,data:e.data},i.emit(n.ComponentEvent.DRAG_END,i,e)}}),0))}}},t.prototype.clearDroppable=function(){if(null!=this.target){var t=this.target;this.dropInitialized&&(this.dropInitialized=!1,t.container.off("mouseup",this.onDrop,this),t.container.off("touchend",this.onDrop,this))}},t.prototype.initDroppable=function(){if(null!=this.target){var t=this.target;if(!this.dropInitialized){this.dropInitialized=!0;var e=t.container;e.interactive=!0,e.on("mouseup",this.onDrop,this),e.on("touchend",this.onDrop,this)}}},t.prototype.onDrop=function(t){if(null!=this.target){var e=this.target,i=n.DragDropController.getEventItem(t,this.dropGroup);if(i&&i.dragOption.dragging){i.dragOption.dragging=!1,i.interactive=!0;var o=this._dragPosition,s=void 0!==i.dragOption.droppableReparent?i.dragOption.droppableReparent:e;if(s&&(s.container.toLocal(i.container.position,i.container.parent,o),i.x=o.x,i.y=o.y,s!=i.parent&&(s.addChild(i),s.emit(n.ComponentEvent.DROP_TARGET,s,i,t)),i.dragOption.$targetParent=s),r.debug){var a=e.stage;a&&a.inputLog({code:n.ComponentEvent.DRAG_TARGET,level:"info",target:i,data:[e.parent,i.x,i.y],action:t.type,message:"drag target,item pos"})}if(e.stage&&e.stage.app)e.stage.app.renderer.plugins.interaction.cursor=e.style.cursor;this._dragState=4,t.data.tiltX=o.x,t.data.tiltY=o.y,i.dragOption._actionData={type:n.ComponentEvent.DRAG_TARGET,data:t.data,path:r.getDisplayPathById(s)},i.emit(n.ComponentEvent.DRAG_TARGET,i,t)}}},t.prototype.executeDrop=function(t,e){if(this.target&&this.target.stage&&e){var i=this.target.stage.getChildByPath(e),o=this.target;o.dragOption.dragging=!1,o.interactive=!0,i&&(o.x=this._dragPosition.x,o.y=this._dragPosition.y,i!=o.parent&&(i.addChild(o),i.emit(n.ComponentEvent.DROP_TARGET,i,o,t)),this.$targetParent=i,o.emit(n.ComponentEvent.DRAG_TARGET,o,t))}},t.prototype.load=function(){},t.prototype.release=function(){this.clearDraggable(),this.clearDroppable(),this.target&&(this.target.plugs.delete(t.key),this.target=void 0,this.$targetParent=void 0,this.dragContainer=void 0)},t.key="UIBaseDrag",t}();e.UIBaseDrag=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=function(){function t(e){this._target=e,this._target.plugs.set(t.key,this),this._clickEvent=new n.ClickEvent(e,!0)}return t.prototype.load=function(){},t.prototype.release=function(){this._clickEvent.remove(),this._target&&(this._target.plugs.delete(t.key),this._target=void 0)},t.key="UIClick",t}();e.UIClick=o},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}return o(e,t),e.isFilter=!0,e.defaultFilterVertex=vf.defaultFilterVertex,e.list=new Map,e}(vf.Filter);e.Filter=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(25),s=i(3),a=i(0),h=i(16),u=i(17),l=i(0),c=i(1),p=i(23),d=function(t){function e(){var e=t.call(this)||this;e._dragScrolling=!0,e.softness=.5,e.radius=0,e.expandMask=0,e.animating=!1,e.scrollX=!1,e.scrollY=!1,e._innerContainer=new p.ContainerBase,e.innerBounds=new vf.Rectangle,e.dragEvent=new h.DragEvent(e),e.mouseScrollEvent=new u.MouseScrollEvent(e,!0),e.scrolling=!1,e._boundCached=l.now()-1e3,e._lastWidth=0,e._lastHeight=0,e._isInitScrolling=!1,e._containerStart=new vf.Point,e._targetPosition=new vf.Point,e._lastPosition=new vf.Point,e._Position=new vf.Point,e._Speed=new vf.Point,e._stop=!1,e.container.addChild(e._innerContainer),e.container.name="ScrollingContainer",e._innerContainer.name="innerContainer";var i=new vf.Graphics;i.clear(),i.beginFill(16763904),i.drawRoundedRect(0,0,200,200,0),i.endFill(),e.style.maskImage=i,e.dragEvent.onDragStart=function(){e.scrolling||(e._containerStart.copyFrom(e._innerContainer.position),e._Position.copyFrom(e._innerContainer.position),e.scrolling=!0,e.setScrollPosition(),s.shared.addUpdateEvent(e.updateScrollPosition,e))},e.dragEvent.onDragMove=function(t,i){e.scrollX&&(e._targetPosition.x=e._containerStart.x+i.x),e.scrollY&&(e._targetPosition.y=e._containerStart.y+i.y)},e.dragEvent.onDragEnd=function(){e.scrolling&&(e.scrolling=!1,s.shared.removeUpdateEvent(e.updateScrollPosition,e))};var n=new vf.Point;return e.mouseScrollEvent.onMouseScroll=function(t,i){n.set(.2*-i.x,.2*-i.y),e.setScrollPosition(n)},e}return o(e,t),Object.defineProperty(e.prototype,"dragScrolling",{get:function(){return this._dragScrolling},set:function(t){this._dragScrolling=t,t?(this.mouseScrollEvent.startEvent(),this.dragEvent.startEvent()):(this.mouseScrollEvent.stopEvent(),this.dragEvent.stopEvent())},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(e,i){if(this._lastWidth!=e||this._lastHeight!=i){t.prototype.updateDisplayList.call(this,e,i);var n=this.expandMask;this.style.maskPosition=[n,n],this._lastWidth=e,this._lastHeight=i,this.style.maskSize=[e,i],this.setScrollPosition()}},e.prototype.setScrollPosition=function(t){t&&(this._Speed=t),this.animating||(this.animating=!0,this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this.updateScrollPosition(0))},e.prototype.addChildAt=function(t,e){return t.parent&&t.parent.removeChild(t),t.parent=this,e=Math.min(this._innerContainer.children.length,e),this._innerContainer.addChildAt(t.container,e),this.uiChildren.splice(e,0,t),this.getInnerBounds(!0),t},e.prototype.getInnerBounds=function(t){return(t||l.now()-this._boundCached>1e3)&&(this._innerContainer.getLocalBounds(this.innerBounds),this.innerBounds.height=this.innerBounds.y+this._innerContainer.height,this.innerBounds.width=this.innerBounds.x+this._innerContainer.width,this._boundCached=l.now()),this.innerBounds},e.prototype.$onInit=function(){t.prototype.$onInit.call(this),this.initScrolling()},e.prototype.initScrolling=function(){this._isInitScrolling=!0,this.updateScrollBars()},e.prototype.updateScrollBars=function(){this.emit(c.ComponentEvent.CHANGE,this)},e.prototype.forcePctPosition=function(t,e){var i=this.getInnerBounds();this.scrollX&&"x"==t&&(this._innerContainer.position[t]=-(i.width-this._width)*e),this.scrollY&&"y"==t&&(this._innerContainer[t]=-(i.height-this._height)*e),this._Position[t]=this._targetPosition[t]=this._innerContainer.position[t]},e.prototype.focusPosition=function(t){var e,i=this.getInnerBounds();if(this.scrollX){var n=Math.max(0,Math.min(i.width,t.x));n+this._innerContainer.x>this._width?(e=n-this._width,this._innerContainer.x=-e):n+this._innerContainer.x<0&&(e=n+this._innerContainer.x,this._innerContainer.x-=e)}if(this.scrollY){var o=Math.max(0,Math.min(i.height,t.y));o+this._innerContainer.y>this._height?(e=o-this._height,this._innerContainer.y=-e):o+this._innerContainer.y<0&&(e=o+this._innerContainer.y,this._innerContainer.y-=e)}this._lastPosition.copyFrom(this._innerContainer.position),this._targetPosition.copyFrom(this._innerContainer.position),this._Position.copyFrom(this._innerContainer.position),this.updateScrollBars()},e.prototype.updateScrollPosition=function(t){this._stop=!0,this.scrollX&&this.updateDirection("x",t),this.scrollY&&this.updateDirection("y",t),this.animating=!1},e.prototype.updateDirection=function(t,e){e*=.001;var i,n=this.getInnerBounds();if(i="y"==t?Math.round(Math.min(0,this._height-n.height)):Math.round(Math.min(0,this._width-n.width)),this.scrolling||0===Math.round(this._Speed[t])||(this._targetPosition[t]+=this._Speed[t],this._Speed[t]=a.Lerp(this._Speed[t],0,(5+2.5/Math.max(this.softness,.01))*e),this._targetPosition[t]>0?this._targetPosition[t]=0:this._targetPosition[t]<i&&(this._targetPosition[t]=i)),!this.scrolling&&0===Math.round(this._Speed[t])&&(this._innerContainer[t]>0||this._innerContainer[t]<i)){var o=this._Position[t]>0?0:i;this._Position[t]=a.Lerp(this._Position[t],o,(40-30*this.softness)*e),this._stop=!1}else(this.scrolling||0!==Math.round(this._Speed[t]))&&(this.scrolling&&(this._Speed[t]=this._Position[t]-this._lastPosition[t],this._lastPosition.copyFrom(this._Position)),this._targetPosition[t]>0?(this._Speed[t]=0,this._Position[t]=100*this.softness*(1-Math.exp(this._targetPosition[t]/-200))):this._targetPosition[t]<i?(this._Speed[t]=0,this._Position[t]=i-100*this.softness*(1-Math.exp((i-this._targetPosition[t])/-200))):this._Position[t]=this._targetPosition[t],this._stop=!1);this._innerContainer.position[t]=Math.round(this._Position[t]),this.updateScrollBars()},e}(r.Container);e.ScrollingContainer=d},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(0),a=i(1),h=function(t){function e(){var e=t.call(this)||this;return e._lastAnimatedName="",e._curFrameNumber=0,e._setTimeoutId=-1,e._animationName="default",e._animationSpeed=.1,e._loop=!1,e._playCount=0,e._loopCount=0,e._playing=!1,e._anchorX=0,e._anchorY=0,e._animatedSprites=new Map,e}return o(e,t),Object.defineProperty(e.prototype,"animationName",{get:function(){return this._animationName},set:function(t){this._animationName!=t&&(this._animationName=t,this.animatedNameSystem())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this._src},set:function(t){this._src=t,void 0===t?this.releaseAnimate():this.srcSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationSpeed",{get:function(){return this._animationSpeed},set:function(t){this._animationSpeed=t,this.attribSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loop",{get:function(){return this._loop},set:function(t){this._loop=t,this.attribSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loopCount",{get:function(){return this._loopCount},set:function(t){this._loopCount=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.attribSystem()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.attribSystem()},enumerable:!0,configurable:!0}),e.prototype.gotoAndPlay=function(t){this._curFrameNumber=t,this._playing=!0,this.playSystem()},e.prototype.gotoAndStop=function(t){this._curFrameNumber=t,this._playing=!1,this.playSystem()},e.prototype.stop=function(){this._playCount=0,this._curFrameNumber=0,this._playing=!1,this.playSystem()},e.prototype.play=function(){this._playCount=0,this._curFrameNumber=0,this._playing=!0,this.playSystem()},Object.defineProperty(e.prototype,"autoPlay",{get:function(){return this._playing},set:function(t){this._playing=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPlay",{set:function(t){t?this.play():this.stop()},enumerable:!0,configurable:!0}),e.prototype.addAnimated=function(t,e){var i=this._animatedSprites.get(t);i&&(i.parent&&i.parent.removeChild(i),i.removeAllListeners(),i.destroy()),this._animatedSprites.set(t,new vf.AnimatedSprite(e))},e.prototype.release=function(){this._setTimeoutId&&clearTimeout(this._setTimeoutId),t.prototype.release.call(this),this.releaseAnimate(),this.src=void 0},e.prototype.releaseAnimate=function(){this._animatedSprites.forEach((function(t){t.parent&&t.parent.removeChild(t),t.removeAllListeners(),t.destroy()})),this._animatedSprites.clear()},e.prototype.srcSystem=function(){this.releaseAnimate();var t=s.getSheet(this.src);if(t){if(Array.isArray(t)){var e=[];t.forEach((function(t){e.push(s.getTexture(t))})),this.addAnimated("default",e)}else for(var i in t.animations)this.addAnimated(i,t.animations[i]);this.animatedNameSystem()}},e.prototype.animatedNameSystem=function(){var t=this;if(0!=this._animatedSprites.size&&this.animationName!==this._lastAnimatedName){var e=this._animatedSprites.get(this.animationName);if(null!=e){var i=this._animatedSprites.get(this._lastAnimatedName);e.onLoop=function(){t.emit(a.ComponentEvent.LOOP,t),t._playCount++,0!==t._loopCount&&t._playCount>=t._loopCount&&t.stop()},e.onComplete=function(){t.emit(a.ComponentEvent.COMPLETE,t)},null==e.parent&&(clearTimeout(this._setTimeoutId),this._setTimeoutId=setTimeout((function(){t.container.addChild(e)}),0)),i&&i.parent&&(i.stop(),i.parent.removeChild(i)),this._lastAnimatedName=this.animationName,this._curFrameNumber=0,this.emit(a.ComponentEvent.CHANGE,this,this.animationName),this.attribSystem(),this.playSystem()}else s.log("Warning SpriteAnimated -> _animatedSprites["+this.animationName+"] == undefined")}},e.prototype.playSystem=function(){var t=this._animatedSprites.get(this.animationName);t&&(this.playing?t.gotoAndPlay(this._curFrameNumber):t.gotoAndStop(this._curFrameNumber))},e.prototype.attribSystem=function(){var t=this._animatedSprites.get(this.animationName);t&&(t.loop=this.loop,t.animationSpeed=this.animationSpeed,t.anchor.set(this.anchorX,this.anchorY))},e}(r.DisplayObject);e.SpriteAnimated=h},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(46),s=i(0),a=i(27),h=i(5),u=i(1),l=function(t){function e(e){void 0===e&&(e=!1);var i=t.call(this)||this;return i._oldState="",i._resolution=1,i._previous={},i.placeholderColor=11119017,i._domVisible=!0,i.state="DEFAULT",i._placeholder="",i._maxLength=99999,i.img=new h.Image,i._inputStyle=Object.assign({position:"absolute",background:"none",border:"none",outline:"none",transformOrigin:"0 0",padding:"5px 8px",color:"#26272e",lineHeight:"1",fontSize:"25px"},{multiline:e}),i.htmlInputShared=new r.default(i._inputStyle.multiline),i.htmlInputShared.setStyle(i._inputStyle),i.htmlInputShared.on("input",i._onInputInput,i),i.htmlInputShared.on("focus",i._onFocused,i),i.htmlInputShared.on("blur",i._onBlurred,i),i.img.fillMode="scale",i.img.scale9Grid=[3,3,3,3],i.addChild(i.img),i._textHitbox=new vf.Graphics,i._textHitbox.name="_textHitbox",i._textHitbox.alpha=0,i._textHitbox.interactive=!0,i._textHitbox.cursor="text",i._textHitbox.on("pointerdown",i._ontextFocus,i),i.container.addChild(i._textHitbox),i._textMask=new vf.Graphics,i._textMask.name="_textMask",i.container.addChild(i._textMask),i._text=new vf.Text("",{}),i._text.name="_text",i._text.visible=!1,i.container.addChild(i._text),i._text.mask=i._textMask,i._domVisible=!1,i.container.interactiveChildren=!0,i.on(u.ComponentEvent.STATE_CHANGE,i.onStateChange,i),i.container.isEmitRender=!1,i.container.on("renderChange",i.updateSystem,i),i}return o(e,t),Object.defineProperty(e.prototype,"text",{get:function(){return this._text.text},set:function(t){this._text.text=t,this.container.isEmitRender=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._placeholder},set:function(t){this._placeholder=t,this.container.isEmitRender=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxLength",{get:function(){return this._maxLength},set:function(t){this._maxLength=t,this.container.isEmitRender=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrict",{get:function(){return this._restrict},set:function(t){this._restrict=t,this.container.isEmitRender=!0},enumerable:!0,configurable:!0}),e.prototype.updateSystem=function(t){if(void 0!==t){var e=this.htmlInputShared;e.maxlength=this.maxLength,e.placeholder=this.placeholder,e.disabled=!this.enabled,e.restrict=this.restrict,this.setInputStyle("fontFamily",this.style.fontFamily),this.setInputStyle("fontSize",this.style.fontSize),this.setInputStyle("color",this.style.color),this.setInputStyle("width",this._width+"px"),this.setInputStyle("height",this._height+"px"),this.render(t),this.onStateChange(this,this.currentState),this.container.isEmitRender=!1}},e.prototype.focus=function(){this.htmlInputShared.focus()},e.prototype.blur=function(){this.htmlInputShared.blur()},e.prototype.setInputStyle=function(t,e){"fontSize"===t&&(e+="px"),"color"===t&&(e="#"+s.componentToHex(e)),this._inputStyle[t]=e,this.htmlInputShared.setStyleValue(t,e)},e.prototype.onStateChange=function(t,e){this._oldState!=e&&(this.enabled||(this.currentState="disabled"),this._oldState=e,this.img.src=this[e])},e.prototype._onInputInput=function(){this._updateSubstitution()},e.prototype._onFocused=function(){this._setState("FOCUSED")},e.prototype._onBlurred=function(){this._setState("DEFAULT")},e.prototype._setState=function(t){this.state=t,this._updateSubstitution()},e.prototype._updateSubstitution=function(){"FOCUSED"===this.state?(this._domVisible=!0,this._text.visible=!1):(this._domVisible=!1,this._text.visible=!0),this._updateDOMInput(),this._updatetext()},e.prototype.render=function(t){this._renderInternal(t)},e.prototype._renderInternal=function(t){this._resolution=t.resolution,this._lastRenderer=t,this._canvasBounds=this._getCanvasBounds(),this._needsUpdate()&&this._updateSubstitution()},e.prototype._updateDOMInput=function(){if(this._canvasBounds){var t=this._canvasBounds,e=this._vfMatrixToCSS(this._getDOMRelativeWorldTransform());this.htmlInputShared.updatePostion(t.top,t.left,e,this.container.worldAlpha),this.htmlInputShared.visible=this.container.worldVisible&&this._domVisible,this._previous.canvasBounds=this._canvasBounds,this._previous.worldTransform=this.container.worldTransform.clone(),this._previous.worldAlpha=this.container.worldAlpha,this._previous.worldVisible=this.container.worldVisible}},e.prototype._needsUpdate=function(){return!this._comparevfMatrices(this.container.worldTransform,this._previous.worldTransform)||!this._compareClientRects(this._canvasBounds,this._previous.canvasBounds)||this.container.worldAlpha!=this._previous.worldAlpha||this.container.worldVisible!=this._previous.worldVisible},e.prototype._updatetext=function(){var t=this._derivetextPadding(),e=this.htmlInputShared.getDOMInputBounds();this._text.style=this._derivetextStyle(),this._text.style.padding=Math.max.apply(Math,t),this._text.y=this._inputStyle.multiline?t[0]:(e.height-this._text.height)/2,this._text.x=t[3],this._inputStyle.multiline&&(this._text.style.wordWrap=!0,this._text.style.wordWrapWidth=e.width,this._text.style.breakWords=!0),this._text.text=this._derivetextText(),this._textHitbox.clear(),this._textHitbox.beginFill(0),this._textHitbox.drawRect(0,0,e.width,e.height),this._textHitbox.endFill(),this._textHitbox.interactive=this.enabled,this._textMask.clear(),this._textMask.beginFill(0),this._textMask.drawRect(t[3],0,e.width-t[3]-t[1],e.height),this._textMask.endFill(),this.img.width=e.width,this.img.height=e.height},e.prototype._ontextFocus=function(){this.htmlInputShared.visible=!0,setTimeout(this._ensureFocus.bind(this),10)},e.prototype._ensureFocus=function(){this._hasFocus()||this.focus()},e.prototype._derivetextStyle=function(){var t=new vf.TextStyle;for(var e in this._inputStyle)switch(e){case"color":t.fill=this._inputStyle.color;break;case"fontFamily":case"fontSize":case"fontWeight":case"fontVariant":case"fontStyle":t[e]=this._inputStyle[e];break;case"letterSpacing":t.letterSpacing=parseFloat(this._inputStyle.letterSpacing)}return this._inputStyle.multiline&&(t.lineHeight=parseFloat(t.fontSize),t.wordWrap=!0,t.wordWrapWidth=this.htmlInputShared.getDOMInputBounds().width),0===this.htmlInputShared.value.length&&(t.fill=this.placeholderColor),t},e.prototype._derivetextPadding=function(){var t=this._inputStyle.textIndent?parseFloat(this._inputStyle.textIndent):0;if(this._inputStyle.padding&&this._inputStyle.padding.length>0){var e,i=this._inputStyle.padding.trim().split(" ");if(1==i.length)return[e=parseFloat(i[0]),e,e,e+t];if(2==i.length){var n=parseFloat(i[0]),o=parseFloat(i[1]);return[n,o,n,o+t]}if(4==i.length)return(e=i.map((function(t){return parseFloat(t)})))[3]+=t,e}return[0,0,0,t]},e.prototype._derivetextText=function(){return 0===this.htmlInputShared.value.length?this.placeholder:this.htmlInputShared.value},e.prototype._hasFocus=function(){return document.activeElement===this.htmlInputShared.domInput},e.prototype._getCanvasBounds=function(){if(this._lastRenderer){var t=this._lastRenderer.view.getBoundingClientRect(),e={top:t.top,left:t.left,width:t.width,height:t.height};return e.left+=window.scrollX,e.top+=window.scrollY,e}},e.prototype._getDOMRelativeWorldTransform=function(){if(this._lastRenderer){var t=this._lastRenderer.view.getBoundingClientRect(),e=this.container.worldTransform.clone();return e.scale(this._resolution,this._resolution),e.scale(t.width/this._lastRenderer.width,t.height/this._lastRenderer.height),e}},e.prototype._vfMatrixToCSS=function(t){return"matrix("+[t.a,t.b,t.c,t.d,t.tx,t.ty].join(",")+")"},e.prototype._comparevfMatrices=function(t,e){return!(!t||!e)&&(t.a==e.a&&t.b==e.b&&t.c==e.c&&t.d==e.d&&t.tx==e.tx&&t.ty==e.ty)},e.prototype._compareClientRects=function(t,e){return!(!t||!e)&&(t.left==e.left&&t.top==e.top&&t.width==e.width&&t.height==e.height)},e.prototype.release=function(){t.prototype.release.call(this),this.container.removeChild(this._text),this.container.removeChild(this._textHitbox),this.img.release(),this._text.destroy(),this._textHitbox&&this._textHitbox.destroy(),this.htmlInputShared.release(),this.container.off("renderChange",this.updateSystem,this),this.offAll(u.ComponentEvent.STATE_CHANGE)},e}(a.InputBase);e.TextInput=l},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var i=t.call(this)||this;return i._selection=[0,0],i._restrictValue="",console.log("创建HtmlInput"),i._domInput=i.addDom(e),i.visible=!1,document.body.appendChild(i._domInput),i}return o(e,t),Object.defineProperty(e.prototype,"domInput",{get:function(){return this._domInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"visible",{get:function(){return"block"===this._domInput.style.display},set:function(t){this._domInput.style.display=t?"block":"none"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._domInput.value},set:function(t){this._domInput.value=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{set:function(t){this._domInput.placeholder=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{set:function(t){this._domInput.disabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxlength",{get:function(){return this._domInput.maxLength},set:function(t){this._domInput.maxLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"restrict",{get:function(){return this._restrictRegex},set:function(t){if(void 0!==t){if(t instanceof RegExp){var e=t.toString().slice(1,-1);"^"!==e.charAt(0)&&(e="^"+e),"$"!==e.charAt(e.length-1)&&(e+="$"),t=new RegExp(e)}else t=new RegExp("^["+t+"]*$");this._restrictRegex=t}},enumerable:!0,configurable:!0}),e.prototype.setStyle=function(t){for(var e in t)this._domInput.style[e]=t[e]},e.prototype.setStyleValue=function(t,e){this._domInput.style[t]=e},e.prototype.select=function(){this._domInput.select()},e.prototype.getDOMInputBounds=function(){var t=this._domInput.style.transform,e=this._domInput.style.display;this._domInput.style.transform="",this._domInput.style.display="block";var i=this._domInput.getBoundingClientRect();return this._domInput.style.transform=t,this._domInput.style.display=e,i},e.prototype.updatePostion=function(t,e,i,n){this._domInput.style.top=t+"px",this._domInput.style.left=e+"px",this._domInput.style.transform=i,n&&(this._domInput.style.opacity=n.toString())},e.prototype.addDom=function(t){return t?(this._domInput=document.createElement("textarea"),this._domInput.style.resize="none"):(this._domInput=document.createElement("input"),this._domInput.type="text"),this.addEvent(),document.body.appendChild(this._domInput),this._domInput},e.prototype.removeDom=function(){this._domInput&&document.body.removeChild(this._domInput)},e.prototype.release=function(){this.removeDom(),this.removeEvent(),this.removeAllListeners()},e.prototype.addEvent=function(){this._onInputKeyDownBind||(this._onInputKeyDownBind=this._onInputKeyDown.bind(this),this._onInputInputBind=this._onInputInput.bind(this),this._onInputKeyUpBind=this._onInputKeyUp.bind(this),this._onFocusedBind=this._onFocused.bind(this),this._onBlurredBind=this._onBlurred.bind(this),this._domInput.addEventListener("keydown",this._onInputKeyDownBind,{passive:!1}),this._domInput.addEventListener("input",this._onInputInputBind,{passive:!1}),this._domInput.addEventListener("keyup",this._onInputKeyUpBind,{passive:!1}),this._domInput.addEventListener("focus",this._onFocusedBind,{passive:!1}),this._domInput.addEventListener("blur",this._onBlurredBind,{passive:!1}))},e.prototype.removeEvent=function(){this._onInputKeyDownBind&&(this._domInput.removeEventListener("keydown",this._onInputKeyDownBind),this._domInput.removeEventListener("input",this._onInputInputBind),this._domInput.removeEventListener("keyup",this._onInputKeyUpBind),this._domInput.removeEventListener("focus",this._onFocusedBind),this._domInput.removeEventListener("blur",this._onBlurredBind),this._onInputKeyDownBind=void 0,this._onInputInputBind=void 0,this._onInputKeyUpBind=void 0,this._onFocusedBind=void 0,this._onBlurredBind=void 0)},e.prototype._applyRestriction=function(){this._restrictRegex&&(this._restrictRegex.test(this.value)?this._restrictValue=this.value:(this.value=this._restrictValue,this._domInput.setSelectionRange(this._selection[0],this._selection[1])))},e.prototype._onInputKeyDown=function(t){this._selection=[this._domInput.selectionStart||0,this._domInput.selectionEnd||0],this.emit("keydown",this,t.keyCode)},e.prototype._onInputInput=function(t){null!=t.data&&this._restrictRegex&&this._applyRestriction(),this.emit("input",this.value),t.preventDefault()},e.prototype._onInputKeyUp=function(t){this.emit("keyup",this.value),t.preventDefault()},e.prototype._onFocused=function(t){this.emit("focus"),t.preventDefault()},e.prototype._onBlurred=function(t){this.emit("blur"),t.preventDefault()},e.prototype.focus=function(){document.body.removeChild(this._domInput),document.body.appendChild(this._domInput),this._domInput.focus()},e.prototype.blur=function(){this._domInput.blur()},e}(vf.utils.EventEmitter);e.default=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(5),a=i(0),h=i(1),u=i(6),l=i(4),c=function(t){function e(){var e=t.call(this)||this;return e._amt=0,e._decimals=0,e._startValue=0,e._maxPosition=0,e._localMousePosition=new vf.Point,e._lastChange=0,e._lastChanging=0,e._thumbDrag=new h.DragEvent(e),e._trackDrag=new h.DragEvent(e),e.trackImg=new s.Image,e.thumbImg=new s.Image,e.tracklightImg=new s.Image,e._value=0,e._minValue=0,e._maxValue=100,e._vertical=!1,e.isExcValueSystem=!1,e._thumbDrag.onDragPress=e.onPress,e._thumbDrag.onDragStart=e.onDragStart,e._thumbDrag.onDragMove=e.onDragMove,e._thumbDrag.onDragEnd=e.onDragEnd,e._trackDrag.onDragPress=e.onPress,e._trackDrag.onDragStart=e.onDragStart,e._trackDrag.onDragMove=e.onDragMove,e._trackDrag.onDragEnd=e.onDragEnd,e.thumbImg.container.name="thumbImg",e.thumbImg.anchorX=.5,e.thumbImg.anchorY=.5,e.thumbImg.on(h.ComponentEvent.COMPLETE,e.onImgload,e),e.trackImg.container.name="trackImg",e.trackImg.fillMode="scale",e.trackImg.scale9Grid=[2,2,2,2],e.trackImg.style.width="100%",e.trackImg.style.height="100%",e.trackImg.on(h.ComponentEvent.COMPLETE,e.onImgload,e),e.tracklightImg.container.name="tracklightImg",e.tracklightImg.fillMode="scale",e.tracklightImg.scale9Grid=[2,2,2,2],e.addChild(e.trackImg),e.addChild(e.tracklightImg),e.addChild(e.thumbImg),e}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return a.Round(a.Lerp(this.minValue,this.maxValue,this._amt),this._decimals)},set:function(t){this._value=t,this.valueSystem()},enumerable:!0,configurable:!0}),e.prototype.valueSystem=function(){this._amt=(Math.max(this.minValue,Math.min(this.maxValue,this._value))-this.minValue)/(this.maxValue-this.minValue),this.updatePosition(),this.triggerValueChange(),this.triggerValueChanging()},Object.defineProperty(e.prototype,"minValue",{get:function(){return this._minValue},set:function(t){this._minValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxValue",{get:function(){return this._maxValue},set:function(t){this._maxValue=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=t,this.updateLayout()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"track",{get:function(){return this._track},set:function(t){t!==this._track&&(this._track=t,this.trackImg.src=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"thumb",{get:function(){return this._thumb},set:function(t){t!==this._thumb&&(this._thumb=t,this.thumbImg.src=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tracklight",{get:function(){return this._tracklight},set:function(t){t!==this._tracklight&&(this._tracklight=t,this.tracklightImg.src=t)},enumerable:!0,configurable:!0}),e.prototype.setActualSize=function(e,i){t.prototype.setActualSize.call(this,e,i),this.trackImg.width!==e&&(this.trackImg.width=e),this.trackImg.height!==e&&(this.trackImg.height=i),this.isExcValueSystem||(this.valueSystem(),this.isExcValueSystem=!0)},e.prototype.release=function(){t.prototype.release.call(this),this.trackImg.release(),this.thumbImg.release(),this.tracklightImg.release()},e.prototype.onImgload=function(){this.updateLayout()},e.prototype.updateLayout=function(){var t=this.thumbImg,e=this.tracklightImg;this.vertical?(t.x=this._width>>1,e.width=this._width):(t.y=this._height>>1,e.height=this._height)},e.prototype.updatePosition=function(t){var e=0,i=this.thumbImg,n=this.tracklightImg;this.vertical?(e=this._height*this._amt,t?u.Tween.to({y:i.y,height:n.height},{y:e,height:e},300).easing(l.Easing.Linear.None).on(u.Tween.Event.update,(function(t){i.y=t.y,n.height=t.height})).start():(i.y=e,n.height=e)):(e=this._width*this._amt,t?u.Tween.to({x:i.x,width:n.width},{x:e,width:e},300).easing(l.Easing.Linear.None).on(u.Tween.Event.update,(function(t){i.x=t.x,n.width=t.width})).start():(i.x=e,n.width=e))},e.prototype.onPress=function(t,e,i){t.stopPropagation(),this._trackDrag==i&&this._trackDrag.id==t.data.identifier&&e&&this.updatePositionToMouse(t.data.global,!0)},e.prototype.onDragStart=function(t){this._thumbDrag.id==t.data.identifier&&(this._startValue=this._amt,this._maxPosition=this.vertical?this._height:this._width)},e.prototype.onDragMove=function(t,e){this._thumbDrag.id==t.data.identifier?(this._amt=this._maxPosition?Math.max(0,Math.min(1,this._startValue+(this.vertical?e.y:e.x)/this._maxPosition)):0,this.triggerValueChanging(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.updatePositionToMouse(t.data.global,!1)},e.prototype.onDragEnd=function(t){this._thumbDrag.id==t.data.identifier?(this.triggerValueChange(),this.updatePosition()):this._trackDrag&&this._trackDrag.id==t.data.identifier&&this.triggerValueChange()},e.prototype.updatePositionToMouse=function(t,e){this.trackImg.container.toLocal(t,void 0,this._localMousePosition,!0);var i=this.vertical?this._localMousePosition.y:this._localMousePosition.x,n=this.vertical?this._height:this._width;this._amt=n?Math.max(0,Math.min(1,i/n)):0,this.updatePosition(e),this.triggerValueChanging()},e.prototype.triggerValueChange=function(){var t=this.value;this.emit(h.ComponentEvent.CHANGE,this,t,this._lastChange),this._lastChange!=t&&(this._lastChange=t)},e.prototype.triggerValueChanging=function(){var t=this.value;this.emit(h.ComponentEvent.CHANGEING,this,t,this._lastChanging),this._lastChanging!=t&&(this._lastChanging=t)},e}(r.DisplayObject);e.Slider=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),s=function(t){function e(){var e=t.call(this)||this;return e._value="",e._checked=!1,e}return o(e,t),Object.defineProperty(e.prototype,"selectedValue",{get:function(){if(this.checkGroup)return r.InputController.getCheckGroupSelectedValue(this.checkGroup)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkGroup",{get:function(){return this._groupName},set:function(t){void 0===t&&r.InputController.unRegistrerCheckGroup(this),this._groupName!=t&&(this._groupName=t,r.InputController.registrerCheckGroup(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(t){t!==this._value&&(this._value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checked",{get:function(){return this._checked},set:function(t){t!==this._checked&&(this.checkGroup&&r.InputController.updateCheckGroupSelected(this),this._oldState="",this._selectedStr=t?"AndSelected":"",this._checked=t,this.emit(r.ComponentEvent.CHANGE,this),this.onStateChange(this,this.currentState))},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){t.prototype.onClick.call(this),this.checkGroup&&this.checked||(this.checked=!this.checked)},e.prototype.onLabelChange=function(t){t.style.left=this.width,t.style.top=this.height-t.height>>1},e}(i(28).Button);e.CheckBox=s},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._radius=0,e._lineColor=0,e._lineWidth=0,e.graphics=new vf.Graphics,e.container.addChild(e.graphics),e}return o(e,t),e.prototype.maskSprite=function(){return this.graphics},Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),e.prototype.drawRoundedRect=function(){var t=this.graphics;t.clear(),this._radius>=this.width/2?t.lineStyle(this._lineWidth,this._lineColor,1,1,!0):t.lineStyle(this._lineWidth,this._lineColor),void 0!==this._color&&t.beginFill(this._color),t.drawRoundedRect(this._anchorX?-this._anchorX*this.width:0,this._anchorY?-this._anchorY*this.height:0,this.width,this.height,this._radius),t.endFill()},e.prototype.release=function(){t.prototype.release.call(this),this.graphics.parent&&this.graphics.parent.removeChild(this.graphics).destroy()},e.prototype.updateDisplayList=function(e,i){this.drawRoundedRect(),t.prototype.updateDisplayList.call(this,e,i)},e}(i(2).DisplayObject);e.Rect=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e._radius=0,e._lineColor=0,e._lineWidth=0,e.graphics=new vf.Graphics,e.container.addChild(e.graphics),e}return o(e,t),e.prototype.maskSprite=function(){return this.graphics},Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorX",{get:function(){return this._anchorX},set:function(t){this._anchorX=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"anchorY",{get:function(){return this._anchorY},set:function(t){this._anchorY=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),e.prototype.drawCircle=function(){var t=this.graphics;t.clear(),t.lineStyle(this._lineWidth,this._lineColor),void 0!==this._color&&t.beginFill(this._color),t.drawCircle(this._anchorX||0,this._anchorY||0,this._radius),t.endFill()},e.prototype.release=function(){t.prototype.release.call(this),this.graphics.parent&&this.graphics.parent.removeChild(this.graphics).destroy()},e.prototype.updateDisplayList=function(e,i){this.drawCircle(),t.prototype.updateDisplayList.call(this,e,i)},e}(i(2).DisplayObject);e.Circle=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){function e(e){var i=t.call(this)||this;return i.graphics=new vf.Graphics(e),i.container.addChild(i.graphics),i}return o(e,t),e}(i(2).DisplayObject);e.Graphics=r},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(1),a=i(0),h=new vf.Rectangle,u="$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}";function l(t,e){t=Math.min(Math.max(0,t),1500),e=Math.min(Math.max(0,e),1500);var i=Math.floor(t/2),n=Math.floor(e/2),o=i%90,r=n%90,s=10*Math.floor(i/90)+Math.floor(n/90);return u[o]+u[r]+u[s]}var c=function(t){function e(e){var i=t.call(this)||this;return i._touchId=-1,i._posCache=[],i._lineKeys=[],i.startOffset=new vf.Point,i._curLineIndex=0,i._messageCache=[],i._lineColor=0,i._isPause=!1,i._isErasing=!1,i._role="T",i._lastPos=new vf.Point,i._mouseOffset=new vf.Point,i._lines=new Map,i.container.interactiveChildren=!1,i.clickEvent=e?new s.ClickEvent(e,!0):new s.ClickEvent(i,!0),i.clickEvent.isOpenLocalPoint=!0,i}return o(e,t),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPause",{get:function(){return this._isPause},set:function(t){this._isPause=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isErasing",{get:function(){return this._isErasing},set:function(t){this._isErasing!==t&&(this._isErasing=t,this.clickEvent.getTarget().container.cursor=t?"grab":"auto")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this._role},set:function(t){this._role=t,this._lineColor="T"==t?13434930:3277005},enumerable:!0,configurable:!0}),e.prototype.commitProperties=function(){this.onMessage(),this.getCurLineByPos()},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,this.width,this.height)},e.prototype.$onInit=function(){this.clickEvent.getTarget().on(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().on(s.TouchMouseEvent.onMove,this.onMove,this)},e.prototype.$onRelease=function(){this.clickEvent.getTarget().off(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().off(s.TouchMouseEvent.onMove,this.onMove,this),this.clickEvent.remove(),this.clear()},e.prototype.onMessage=function(){var t=this._messageCache;if(t.length>0)for(var e=void 0,i=void 0,n=void 0,o=void 0,r=void 0;t.length>0;){o=(e=t.pop()).charAt(0);var s=e.indexOf("|");switch(n=e.charAt(1),r=e.substr(2,s-2),o){case"1":i=e.substr(s+1),this.drawLine(r,i,0,i.length,n);break;case"2":this.removeLine(n+r);break;case"3":this.clear()}}},e.prototype.onPress=function(t,e,i){if(!this._isPause)if(t.stopPropagation(),i){if(void 0===this.parent)return;if(this._isErasing)return;if(-1!==this._touchId)return;this._touchId=t.data.identifier;var n=this.container.toLocal(t.local,e.container);this.startOffset.set(Math.floor(t.local.x-n.x),Math.floor(t.local.y-n.y)),this._lastPos.copyFrom(n),this._posCache=[this._lastPos.clone()],this._curLineIndex++}else{if(this._isErasing&&this._eraseLine){var o=this._eraseLine.name;return this.removeLine(o),this.emitMsg("2",o.charAt(0),o.substr(1)),void(this._eraseLine=void 0)}if(-1===this._touchId||this._touchId!=t.data.identifier)return;if(this._touchId=-1,1==this._posCache.length)return console.log("gui -> 移动距离过短，画线失败 >7"),this._curLineIndex--,void this._posCache.pop();this.emitMsg("1",this.role,this._curLineIndex.toString(),this.getDataStrByPosCache())}},e.prototype.onMove=function(t){if(t.stopPropagation(),this._mouseOffset.set(Math.floor(t.local.x)-this.startOffset.x,Math.floor(t.local.y)-this.startOffset.y),this._isErasing)"T"==this._role&&this.invalidateProperties();else if(-1!==this._touchId&&this._lastPos&&this._touchId==t.data.identifier){var e=this._lastPos,i=this._posCache;if(!(a.pointDistance(e,this._mouseOffset)<7)){var n=this.getGraphics(this._curLineIndex.toString(),this.role);n.moveTo(e.x,e.y),n.lineTo(this._mouseOffset.x,this._mouseOffset.y),e.copyFrom(this._mouseOffset),i.push(e.clone())}}},e.prototype.emitMsg=function(t,e,i,n){void 0===n&&(n="");var o=t+e+i+"|"+n;this.emit(s.ComponentEvent.COMPLETE,this,o)},e.prototype.getGraphics=function(t,e){var i=e+t;if(this._lines.has(i))return this._lines.get(i);this._lines.size>100&&this.removeLine(this._lineKeys.shift());var n=new vf.Graphics;return n.interactive=!1,n.interactiveChildren=!1,n.name=i,this.container.addChild(n),this._lineKeys.push(i),this._lines.set(i,n),n.lineStyle(3,this._lineColor),n},e.prototype.getCurLineByPos=function(){var t=this,e=this._lines,i=this._mouseOffset;if(this._eraseLine&&(this._eraseLine.tint=16777215,this._eraseLine=void 0),this.isErasing){var n=1e4;e.forEach((function(e){if(e.getLocalBounds(h),h.contains(i.x,i.y)){var o=a.pointDistance(i,{x:h.x+.5*h.width,y:h.y+.5*h.height});o<n&&(n=o,t._eraseLine=e)}})),this._eraseLine&&(this._eraseLine.tint=0)}},e.prototype.getDataStrByPosCache=function(){var t=this._posCache;if(0!=t.length){for(var e=[t[0].x],i=[t[0].y],n=t[0],o=t[1],r=0,s=2;s<t.length;s++){var h=t[s],u=a.pointSub(o,n),c=a.pointSub(h,o),p=a.pointSignAngle(u,c);p>.09||p<-.09||r>.09||r<-.09?(e.push(o.x),i.push(o.y),r=0):r+=p,n=o,o=h}e.push(t[t.length-1].x),i.push(t[t.length-1].y);var d=[];for(s=0;s<e.length;s++){var f=l(e[s]+750,i[s]+750);d.push(f)}return d.join("")}},e.prototype.drawLine=function(t,e,i,n,o){var r=this.getGraphics(t,o),s=function(t,e,i){for(var n=[],o=e;o<i;o+=3){var r=t.charCodeAt(o)-36,s=t.charCodeAt(o+1)-36,a=t.charCodeAt(o+2)-36,h=2*(r+90*Math.floor(a/10)),u=2*(s+90*(a%10));n.push(h),n.push(u)}return n}(e,i,n);this.draw(r,s)},e.prototype.draw=function(t,e){var i=e[0]-750,n=e[1]-750;t.moveTo(i,n);for(var o=[],r=2;r<e.length;r+=2){var s=i+.5*((l=e[r]-750)-i),a=n+.5*((c=e[r+1]-750)-n);o.push(s,a,l,c),i=l,n=c}t.lineTo(o[0],o[1]);for(r=2;r<o.length-2;r+=4){var h=o[r],u=o[r+1],l=o[r+2],c=o[r+3];t.quadraticCurveTo(h,u,l,c)}t.lineTo(o[o.length-2],o[o.length-1])},e.prototype.removeLine=function(t){var e=this._lineKeys.indexOf(t);-1!==e&&this._lineKeys.splice(e,1);var i=this._lines.get(t);i&&(this._lines.delete(t),i.parent&&(i.parent.removeChild(i),i.destroy()))},e.prototype.clear=function(){this._lines.forEach((function(t,e){t.parent&&t.parent.removeChild(t).destroy()})),this._lines.clear(),this._curLineIndex=0,this._posCache=[],this._lineKeys=[]},e.prototype.setData=function(t){"string"==typeof t?this._messageCache.push(t):this._messageCache=this._messageCache.concat(t),this.invalidateProperties()},Object.defineProperty(e.prototype,"source",{set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.emitMsg("3",this.role,""),this.clear()},e}(r.DisplayObject);e.FollowLine=c},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(1),a=i(0),h=i(6);e.play=Symbol("play");var u=function(t){function i(){var e=t.call(this)||this;return e._lastStartPos={x:NaN,y:NaN},e._lastEndPos={x:NaN,y:NaN},e._play=1,e._autoPlay=!0,e._sourcePostion=[0,0],e._targetPostion=[0,0],e._lineColor=0,e._lineWidth=1,e._isAnimation=!1,e.line=new vf.Graphics,e.container.addChild(e.line),e}return o(i,t),Object.defineProperty(i.prototype,"play",{get:function(){return this._play},set:function(t){this.$values[e.play]=!0,this._play=t,this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"autoPlay",{get:function(){return this._autoPlay},set:function(t){this._autoPlay=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){this._source!==a.getDisplayObject(t,this)&&(this._source=a.getDisplayObject(t,this),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"sourcePostion",{get:function(){return this._sourcePostion},set:function(t){this._sourcePostion!==t&&(this._sourcePostion=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"target",{get:function(){return this._target},set:function(t){this._target!==a.getDisplayObject(t,this)&&(this._target=a.getDisplayObject(t,this),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"targetPostion",{get:function(){return this._targetPostion},set:function(t){this._targetPostion!==t&&(this._targetPostion=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor!==t&&(this._lineColor=t,this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth!==t&&(this._lineWidth=t,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isAnimation",{get:function(){return this._isAnimation},set:function(t){this._isAnimation!==t&&(this._isAnimation=t)},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){this.line.lineStyle(this.lineWidth,this.lineColor,this.alpha)},i.prototype.getLocalPos=function(t,e){var i={x:0,y:0};if(e){0===e.container.position.x&&0===e.container.position.y&&e.validateNow();var n=this.container.parent.toLocal(e.container.position,e.container.parent);switch(t){case"leftTop":i=a.pointPlus(n,{x:0,y:0});break;case"leftCenter":i=a.pointPlus(n,{x:0,y:e.height>>1});break;case"leftBottom":i=a.pointPlus(n,{x:0,y:e.height});break;case"centerTop":i=a.pointPlus(n,{x:e.width>>1,y:0});break;case"center":i=a.pointPlus(n,{x:e.width>>1,y:e.height>>1});break;case"centerBottom":i=a.pointPlus(n,{x:e.width>>1,y:e.height});break;case"rightTop":i=a.pointPlus(n,{x:e.width,y:0});break;case"rightCenter":i=a.pointPlus(n,{x:e.width,y:e.height>>1});break;case"rightBottom":i=a.pointPlus(n,{x:e.width,y:e.height});break;default:i.x=n.x+t[0],i.y=n.y+t[1]}}else Array.isArray(t)&&(i.x=t[0],i.y=t[1]);return i},i.prototype.updateDisplayList=function(t,i){var n=this,o=n._source,r=n._target,s=n._sourcePostion,a=n._targetPostion,h=n._lastStartPos,u=n._lastEndPos,l=(n.line,this.getLocalPos(s,o)),c=this.getLocalPos(a,r);h.x===l.x&&h.y===l.y&&u.x===c.x&&u.y===c.y||(this._lastStartPos=l,this._lastEndPos=c,this._autoPlay&&this.animation()),!0!==this.$values[e.play]||this._autoPlay||(this.$values[e.play]=!1,this.animation())},i.prototype.animation=function(){var t=this,e=this._play,i=this.line,n=1===e?this._lastStartPos:this._lastEndPos,o=1===e?this._lastEndPos:this._lastStartPos;if(i.removeChildren(),!this.isAnimation)return i.moveTo(n.x,n.y),i.lineTo(o.x,o.y),void this.emit(s.ComponentEvent.COMPLETE,this);var r=a.pointDistance(n,o),u={x:n.x,y:n.y},l={dt:r},c=new h.Tween({dt:0}).to(l,500).on(h.Tween.Event.update,(function(t){var e=Math.ceil(t.dt),s=e*(o.x-n.x)/r+n.x,a=e*(o.y-n.y)/r+n.y;i.moveTo(u.x,u.y),i.lineTo(s,a),u.x=s,u.y=a})).once(h.Tween.Event.complete,(function(e){c.removeAllListeners(),c.release(),t.emit(s.ComponentEvent.COMPLETE,t)})).start()},Object.defineProperty(i.prototype,"isClear",{set:function(t){this.clear()},enumerable:!0,configurable:!0}),i.prototype.clear=function(){this.line.clear(),this.commitProperties()},i.prototype.release=function(){t.prototype.release.call(this),this._source=void 0,this._target=void 0;var e=this.line;e.clear(),e.parent&&e.parent.removeChild(e).destroy(),this.offAll(s.ComponentEvent.COMPLETE)},i}(r.DisplayObject);e.ConnectLine=u},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),s=i(1),a=i(0),h=i(0),u=i(6),l="$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}";function c(t,e){t=Math.min(Math.max(0,t),1500),e=Math.min(Math.max(0,e),1500);var i=Math.floor(t/2),n=Math.floor(e/2),o=i%90,r=n%90,s=10*Math.floor(i/90)+Math.floor(n/90);return l[o]+l[r]+l[s]}var p=function(t){function e(){var e=t.call(this)||this;return e._renderMode=0,e._realTraceIndexArr=[],e._tempTraceIndexArr=[],e._lineStyle={},e._posCache=[],e._drawing=!1,e._lastLocalPos=new vf.Point,e._curLocalPos=new vf.Point,e._autoComplete=!1,e._curIndex=-1,e._tracePointObjArr=[],e._result=0,e._groupStatusArr=[],e._lineId=0,e._newLineFlag=!0,e._pointId=0,e._messageCache=[],e._debug=!1,e._mode=0,e._tracePoints=[],e._lineWidth=10,e._lineColor=16711680,e._precision=20,e._lines=new Map,e.clickEvent=new s.ClickEvent(e,!0),e.clickEvent.isOpenLocalPoint=!0,e}return o(e,t),Object.defineProperty(e.prototype,"debug",{get:function(){return this._debug},set:function(t){if(this._debug=t,this._tracePointObjArr.length>0){var e=new vf.Graphics;this.container.addChild(e),this._tracePointObjArr.forEach((function(t){e.beginFill(65280),e.drawCircle(t.point.x,t.point.y,5),e.endFill()}))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mode",{get:function(){return this._mode},set:function(t){this._mode!==t&&(this._mode=t,this.clear())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"traceSprite",{get:function(){return this._traceSprite},set:function(t){this._traceSprite=t,this.setTraceSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderBgSprite",{get:function(){return this._renderBgSprite},set:function(t){this._renderBgSprite=t,this._renderMode=1,this.setRenderBgSprite()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tracePoints",{get:function(){return this._tracePoints},set:function(t){var e=this;this._tracePoints=t;var i=0;if(this._groupStatusArr=[],this._tracePoints.forEach((function(t,n){var o={flag:!1,points:[]};e._groupStatusArr.push(o),t.forEach((function(t){o.points.push(i++),e._tracePointObjArr.push({flag:!1,point:new vf.Point(t.x,t.y)})}))})),this.debug){var n=new vf.Graphics;this.container.addChild(n),this._tracePointObjArr.forEach((function(t){n.beginFill(65280),n.drawCircle(t.point.x,t.point.y,5),n.endFill()}))}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineWidth",{get:function(){return this._lineWidth},set:function(t){this._lineWidth=t,this.setLineStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineColor",{get:function(){return this._lineColor},set:function(t){this._lineColor=t,this.setLineStyle()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"precision",{get:function(){return this._precision},set:function(t){this._precision=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineTexture",{get:function(){return this._lineTexture},set:function(t){this._lineTexture=t,this.setLineStyle()},enumerable:!0,configurable:!0}),e.prototype.setLineStyle=function(){this._lineStyle={width:this.lineWidth,color:this.lineColor,texture:this.lineTexture}},e.prototype.setTraceSprite=function(){var t,e=this.container,i=this.traceSprite,n=h.getTexture(i);try{t=new vf.Sprite(n)}catch(e){t=vf.Sprite.from(n)}t&&null==t.parent&&e.addChild(t)},e.prototype.setRenderBgSprite=function(){var t,e=this.container,i=this.renderBgSprite,n=h.getTexture(i);try{t=new vf.Sprite(n)}catch(e){t=vf.Sprite.from(n)}t&&null==t.parent&&(e.addChild(t),this._bgSprite=t);var o=this.getGraphics("mask",this._lineStyle);this._bgSprite.mask=o},e.prototype.start=function(){var t=this;2===this.mode?setTimeout((function(){t.auto()}),1e3):1===this.mode&&(this._guideSprite||(this._guideSprite=vf.Sprite.from("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAyCAYAAADImlLUAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAClpJREFUeJzdmQdU1FcWxmWGYUDqUKUFESlDFxAECxiNgg1EjYghUYMaNW7QjRvbYhTLYpSQ2HBtRDREsMW2rEYRD0SjxFiiRowr0hQEpA11xrv3vmEIZWAGs8I5+855B5hh3vu97333vvv+06fP/0NTUVVVNRrk6WjsOdjfyMNrqKHbIJs+KhyV3uaS21S4XBVDV3dnhE028fIutho2QmzpN7ze2Ms7z9jDa5OBq7tJbzN2aASMsE/Mh/hB3IGDcO3WHbhyPRsWfb4eTAb7AC4mA1U3723OloYqcxDqG4I7lZ4B7dvW/Yky8GQ9OzuN3uZlTc9eaIU2ePRR9DqobnjVAZpa4vETYDXcX4Jqx/U2L2t6dg5OaI282D2JUCKSgDzsapEIZv1tBSlepe/s6tu7xCocjnZ/a2dU+vGnsVuhsFoMtU3y1b7zMAdcx00gm2Ry1dXVehNala9vYIkgv4yc+T6DLq2VgFgOt1gigVVx8czfAgfHYb2XChEaA9HI0N1jO8GcybrBwCvrJXLVluBiRkXMIrWzDFxcbVsPpWlmbo25PQzHWYn9c9y9KPpb4OhkTe9rW1kZ42LdBQ5CZ76+vuGfgVbpw+Fooq+DcKKaeaujGfSzGjE0yJMb26mL6UxtBNrKUVPjCeyFNvj7KXqtn/cQsPQbBgP8R4KF71D2N77ehAt4Ru+37rjwm0bug6YauroZdxeag9Aaanp6A/AQuUST3fpPIQOvqJcflA2NTRA4+0OaON/I3SMOgZ64jZsIC/6+BlLOpcGNO3fg1v0HcP32bTh16TIsXhsDtiNHg5mPL3z2RRzEJybB8i+2QOCsD2mBDfj5bDwnJncvnSI4WsQAt9cfQepXxH0Nj19UQxGqXdUg3ybns66C+4RJBC6hn4+e5sv9P2q19Q2wLekwU3fSvAVQ+rKCvV4tqoWjaedh+PRweq8Sy4ct3bIIQutg3WGJyqWQ2kcuZLTYpEkO9yvcgtjdexkIqf5KvpP+2J0mMYyPnMf+P2bHLoyNPz5QUFwCoQsWsff0nVzClAfncNQQ3FjD2MSNvB04ey78XlLFwCl3y2svyl/C6IgP2GT/PJLaNTW2opIX4BM6jVnlMpYIrVtxaRksiF5LY9UYKH0OSAOyL6pthkF10sb/bfGZrGwGTZ1OyvZiklgHjp1gQecVHIoWyVMIfi4jExzHBELQnLlQWSNqM9bDJ0/Zexiglw2cXZQo0Aha6m09nQED38EP3otYtqJF7SLsNY0dPVBTWwfbDh5mWSJgxkycOLdLaAnmzAPHTsLgkFC4cfdeh/f3owiothj9/SlVnkoKztVAtS3Q29tdgsZDyoUrLWoXo00kcrxbhQHlN206swllh0axuEtwUV0dXMUqknzevpVUiliAU0YRCB31lbUJjzIJHu3DsB4ppCCTQVN/LhLLDTraWprMDEvbDbt2dwndvtFwVDrQSUxzfJ/xo6w4W6octFRtTebtQZ7fknrpN++1Aa/o5LS8m/MYPCaGMMXTf7qhFDBlprI6SZvxc8trYdL8haR2jbaVta6y1JRJBHjkTscPlixcu6HNoJS/6+QUVbQDmT//AjM+WQoZ17uGpsOWgvt5jbjN2LK+PfkomHr7Aqo9qztqa/Q1NXPFTHIatwoe5Be3tQlOVt9JNSiWZ/xWjQKabCYPVtav/fYEKKaoPCAY5agxb+O9MAq3upG2e3HMJiiobOwA3thJfSKvUS1TVivpElbW8yrqIXThX1jexl3XUqqi1DS31Me0d91t/ESWnuxGvQOXfv61w+AE3ln9LWuNqHx5nXKwrXvSmX9LT0lHp9GsRlLgDRV9R2e66BZFroyG2L2JLA+v27VH7uAETlve/rinTaDXixVYobP+qKiMVYyYfqP6cLg8RdA8rJWDrEcEiL86nMIOmNFYQ/tNC4PbucWdTkLwlLYou5CyBFv0GrCte0D4e+hrz0Pab1kpOCERWl/oNM1h9BhIPJ3GPnwQt4qOa/r5ZyC628OiltKxfkUgdLJTBM03dHOf6zgmCA796yL7MKlNRRQtJOd5ZY9BL163kaDv6dkLvbv2NWYOzNFhFHz7Tp5tGWDnd8eYtymH9hT08q3xdMj8jke6ryJodYQebz7Erz4mYV/LANmP8sAzeDJWaJE9Br1kYywp/RvyDOkaGj2ta2vnSbXH+1jpyQYoqGqCHajy3FXRPQb93l8/Y57WtbF1VgTNVzcwNKc87Tg2CAqrGnoMsn0fERZOKS8JeSwVKk2VHl42N1Fyb12e9mS/eON28xXM+WPiUQTNweNeS2AvDMYgyJ8fva7HgXPL62ARFmoErWdnH0x32K6PcunVS52no2uN9UcsFUwn0rNwsKYeg05OuwT9hwewbIU2vYO7HqS4/pA9VrCw9KaiZcwHc+B+QWmPAD98XgHBH0lv53NWrGLPSxD8Et7UBYqgZRddU0NXt+U0QPjSZWzANwn8oLAMD7FIVnPE7NwNlaJ6WI8/pTcZ9yldQ0vB1dDb9DzECovxvQjeMBavXzcfF7wR4PsIHBAegcr6wbLYLVBWJWLQu79LhYEBb7/SFzpOpWePCi1C3kZoEzVdPWf01RbM3ZXeIVNg3/HTcOtJ0f8s6BJPpcHYWZHsmUjMjgTIe17KgItKX8IIvOVjQsjFXO2mGFoKzsVONumnqqnpgLXtHPTXI7rADn13Bhw+dwGeloleG/he/gtYtvlLFnT0fc+JH9IZrKyvivuaeRsF24wMhspBS8F5zeAmZBUNI2MftEsCrZ6imy4KK7/cDqczr7NLqTKwP+F1KnpbAivASIDIFash69bdFtji8krYmLCXBSHO9Y2GiYmb4rTXEZwCk9/scQsOj2eDlnHDy8ISvMelUoYhRah8DVnwMaxBoJQfrsDF7Lusn/0xG776NhWiNsSC79R3WSojoHmr10Ba5lWoqKlrAc7JK4SZGPTscbK7RzLNRYJRIac8sAxa2vnNDytJ9be4Ghp2qIKPwEE4GxWJxwVcpgMJ1Wugi6n35Kmse04KAbxUoGdHwTC01TysX5K+PwtPn71oAS6vroUzGZkwIXI+mPsOrUHgo337mQ6hDIZiaSu+cnUOz2E+57DMokW5nC2Ax7MiRVQ1tZy0LCxH6Q60jcBJD6Fa1YMxcGmrj6Nfr93+FXKLiqGilW/JCgRLDyBxpyQYMw/w6F7C09YRNgNr4XxK3siVU5/PHqVxuQI2gaqqGfmeo6ZmT943GuR5kjLC5j372wSYrF/FRazdthOcxo5r/nbA67zOAJsQ/LwtG4vDfPyaCiteAO2AGkuR5HvpDlioGxp5omXSCYiU3Jd6HHYlH4FP1v+DVXDNX2XU4uJS9WztI2ix9JycHjtTDL05YPmL4DP7oFp9Tc38ECpZFqz0VBTz/Uv0fg6msngd6wGBHD6fYK1ooc1ZQsHt+82Dm2OmcdG1GThFYO8wF6u2OQgajEHmS8piLFgzK9DuoNV6Vt3OwbXpaz/mdQzW5hTWnylLr3O5uvRlVe/Dtm5Sv/Obva7LOv0uVbXbvv0vybmCZrgGsxMAAAAASUVORK5CYII=")),setTimeout((function(){t.container.removeChild(t._guideSprite),t.container.addChild(t._guideSprite),t.guide()}),1e3))},e.prototype.guide=function(){var t=this,e=this._guideSprite;if(this._pointId>=this.tracePoints[this._lineId].length)return this._newLineFlag=!0,e.visible=!1,this._pointId=0,clearTimeout(this._guideTime),void(this._guideTime=setTimeout((function(){t.guide()}),3e3));var i=this.tracePoints[this._lineId][this._pointId++];this._newLineFlag&&(e.visible=!0,this._newLineFlag=!1,this._lastLocalPos.set(i.x,i.y),i=this.tracePoints[this._lineId][this._pointId++]),this._curLocalPos.set(i.x,i.y),this.playGuideAnimal()},e.prototype.playGuideAnimal=function(){var t=this,e=a.pointDistance(this._lastLocalPos,this._curLocalPos),i=this._lastLocalPos.clone(),n=this._curLocalPos.clone(),o=this._curLocalPos.clone();this._lastLocalPos.copyFrom(this._curLocalPos);var r={dt:e};this._tween=new u.Tween({dt:0}).to(r,500).on(u.Tween.Event.update,(function(r){var s=Math.ceil(r.dt),a=s*(n.x-i.x)/e+i.x,h=s*(n.y-i.y)/e+i.y;o.set(a,h),t._guideSprite.x=a,t._guideSprite.y=h})).once(u.Tween.Event.complete,(function(e){t._tween&&(t._tween.removeAllListeners(),t._tween.release()),t.guide()})).start()},e.prototype.clearGuide=function(){clearTimeout(this._guideTime);var t=this._guideSprite;t&&(t.visible=!1),this._newLineFlag=!0,this._pointId=0,this._tween&&this._tween.release()},e.prototype.auto=function(){var t=this.autoNextPoint();this._newLineFlag&&(this._newLineFlag=!1,this._lastLocalPos.set(t.x,t.y),this._posCache=[],this._posCache.push(this._lastLocalPos.clone()),t=this.autoNextPoint()),this._curLocalPos.set(t.x,t.y),this._autoComplete?this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:3}):this.drawWithAnimation()},e.prototype.drawWithAnimation=function(){var t=this,e=a.pointDistance(this._lastLocalPos,this._curLocalPos),i=this._lastLocalPos.clone(),n=this._curLocalPos.clone(),o=this._curLocalPos.clone();this._lastLocalPos.copyFrom(this._curLocalPos);var r={dt:e};this._tween=new u.Tween({dt:0}).to(r,500).on(u.Tween.Event.update,(function(r){var s=Math.ceil(r.dt),a=s*(n.x-i.x)/e+i.x,h=s*(n.y-i.y)/e+i.y;o.set(a,h),t._posCache.push(o.clone());var u=t.getGraphics(t._lineId.toString(),t._lineStyle);t.localDraw(u)})).once(u.Tween.Event.complete,(function(e){t._tween.removeAllListeners(),t._tween.release(),t.auto()})).start()},e.prototype.autoNextPoint=function(){if(this._pointId>=this.tracePoints[this._lineId].length&&(this._newLineFlag=!0,this._lineId++,this._pointId=0,this._lineId>=this.tracePoints.length))return this._autoComplete=!0,this._pointId=0,this._lineId=0,{x:0,y:0};var t=this.tracePoints[this._lineId][this._pointId];return this._pointId++,t},e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i),this.container.hitArea=new vf.Rectangle(0,0,this.width,this.height)},e.prototype.$onInit=function(){this.clickEvent.getTarget().on(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().on(s.TouchMouseEvent.onMove,this.onMove,this),this.setLineStyle()},e.prototype.$onRelease=function(){this.clickEvent.getTarget().off(s.TouchMouseEvent.onPress,this.onPress,this),this.clickEvent.getTarget().off(s.TouchMouseEvent.onMove,this.onMove,this),this.clickEvent.remove()},e.prototype.checkTrace=function(t){var e=this;if(0!=this.tracePoints.length){this._curIndex=-1;for(var i=0;i<this._tracePointObjArr.length;++i)if(!this._tracePointObjArr[i].flag&&a.pointDistance(t,this._tracePointObjArr[i].point)<this.precision){this._tracePointObjArr[i].flag=!0,this._curIndex=i;break}-1!==this._curIndex&&(0!==this._realTraceIndexArr.length||0!==this._curIndex?(this._curIndex===this._realTraceIndexArr[this._realTraceIndexArr.length-1]+1?(this._realTraceIndexArr.push(this._curIndex),this._tempTraceIndexArr.forEach((function(t){e._tracePointObjArr[t].flag=!1})),this._tempTraceIndexArr=[]):(this._tempTraceIndexArr.push(this._curIndex),this._tempTraceIndexArr.length>3&&(this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[])),this.debug&&console.log("实际轨迹：",this._realTraceIndexArr,"暂存区：",this._tempTraceIndexArr,"result:",this._result)):this._realTraceIndexArr.push(this._curIndex))}else this._result=1},e.prototype.checkTemp=function(){var t=this;if(!(this._tempTraceIndexArr.length<2)){var e=[];this._tempTraceIndexArr.forEach((function(i){t._groupStatusArr.forEach((function(t,n){-1!==t.points.indexOf(i)&&e.push(n)}))})),1===new Set(e).size?(this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[]):(this._tempTraceIndexArr.forEach((function(e){t._tracePointObjArr[e].flag=!1})),this._tempTraceIndexArr=[])}},e.prototype.checkResult=function(){var t=this;if(0!==this._realTraceIndexArr.length)if(this._realTraceIndexArr.length+this._tempTraceIndexArr.length==this._tracePointObjArr.length){this._realTraceIndexArr=this._realTraceIndexArr.concat(this._tempTraceIndexArr),this._tempTraceIndexArr=[],this._result=1;var e=-1;this._realTraceIndexArr.forEach((function(i){i>e?e=i:t._result=2})),this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result})}else{if(this._result=0,0!=this._realTraceIndexArr[0])this._result=2;else{var i=-1;this._realTraceIndexArr.forEach((function(e){e<i?t._result=2:i=e}))}0!=this._result&&this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result})}},e.prototype.checkTeach=function(){var t=this,e=!0;if(1!=this._lineId&&this._realTraceIndexArr.shift(),this._realTraceIndexArr.length!=this._groupStatusArr[this._lineId-1].points.length)e=!1;else for(var i=0;i<this._groupStatusArr[this._lineId-1].points.length;++i)if(this._realTraceIndexArr[i]!=this._groupStatusArr[this._lineId-1].points[i]){e=!1;break}if(e||(this._lineId--,this._realTraceIndexArr.forEach((function(e){t._tracePointObjArr[e].flag=!1}))),this._lineId<this._groupStatusArr.length){if(this._realTraceIndexArr=[],0!=this._lineId){var n=this._groupStatusArr[this._lineId].points[0]-1;this._realTraceIndexArr.push(n)}this.guide()}else this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:3});return e},e.prototype.drawLine=function(t,e,i,n,o){var r=this.getGraphics(t,o),s=function(t,e,i){for(var n=[],o=e;o<i;o+=3){var r=t.charCodeAt(o)-36,s=t.charCodeAt(o+1)-36,a=t.charCodeAt(o+2)-36,h=2*(r+90*Math.floor(a/10)),u=2*(s+90*(a%10));n.push(h),n.push(u)}return n}(e,i,n);this.draw(r,s)},e.prototype.draw=function(t,e){var i=e[0]-750,n=e[1]-750;t.moveTo(i,n);for(var o=[],r=2;r<e.length;r+=2){var s=i+.5*((l=e[r]-750)-i),a=n+.5*((c=e[r+1]-750)-n);o.push(s,a,l,c),i=l,n=c}t.lineTo(o[0],o[1]);for(r=2;r<o.length-2;r+=4){var h=o[r],u=o[r+1],l=o[r+2],c=o[r+3];t.quadraticCurveTo(h,u,l,c)}t.lineTo(o[o.length-2],o[o.length-1])},e.prototype.localDraw=function(t){this._posCache.forEach((function(e,i){0==i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}))},e.prototype.onPress=function(t,e,i){if(t.stopPropagation(),2!==this.mode){var n=this.container.toLocal(t.local,e.container);if(i)1===this.mode&&this.clearGuide(),this._drawing=!0,this._lastLocalPos.copyFrom(n),this._posCache=[this._lastLocalPos.clone()],this.checkTrace(this._lastLocalPos);else{if(1===this._posCache.length){var o=this._lastLocalPos.clone();o.set(o.x,o.y-7),this._posCache.push(o);var r=this.getGraphics(this._lineId.toString(),this._lineStyle);this.localDraw(r)}this._drawing=!1,this.checkTemp(),0===this.mode&&this.checkResult(),this.emitTracingMsg(0,this._lineId.toString(),this.getDataStrByPosCache(),this._lineStyle,this._realTraceIndexArr,this._tempTraceIndexArr,this._result),++this._lineId,1===this.mode&&this.checkTeach()}}},e.prototype.onMove=function(t,e){if(t.stopPropagation(),2!=this.mode&&this._drawing){var i=this.container.toLocal(t.local,e.container);if(a.pointDistance(i,this._lastLocalPos)>=7){this._lastLocalPos.copyFrom(i),this._posCache.push(this._lastLocalPos.clone());var n=this.getGraphics(this._lineId.toString(),this._lineStyle);this.localDraw(n),this.checkTrace(this._lastLocalPos)}}},e.prototype.getGraphics=function(t,e){1===this._renderMode&&(t="mask");var i="line_"+t;if(this._lines.has(i))return this._lines.get(i);var n=new vf.Graphics;return n.interactive=!1,n.interactiveChildren=!1,n.name=i,this.container.addChild(n),this._lines.set(i,n),(e=a.deepCopy(e)).color=e.texture?16777215:e.color,e.texture=e.texture?h.getTexture(this.lineTexture):vf.Texture.WHITE,e.alpha=1,e.cap="round",e.join="round",0===this._renderMode?n.lineTextureStyle(e):n.lineTextureStyle({width:e.width,color:16711680}),n},e.prototype.getDataStrByPosCache=function(){var t=this._posCache;if(0==t.length)return"";for(var e=[t[0].x],i=[t[0].y],n=t[0],o=t[1],r=0,s=2;s<t.length;s++){var h=t[s],u=a.pointSub(o,n),l=a.pointSub(h,o),p=a.pointSignAngle(u,l);p>.09||p<-.09||r>.09||r<-.09?(e.push(o.x),i.push(o.y),r=0):r+=p,n=o,o=h}e.push(t[t.length-1].x),i.push(t[t.length-1].y);var d=[];for(s=0;s<e.length;s++){var f=c(e[s]+750,i[s]+750);d.push(f)}return d.join("")},e.prototype.emitTracingMsg=function(t,e,i,n,o,r,a){void 0===t&&(t=0),void 0===e&&(e=""),void 0===i&&(i=""),void 0===n&&(n={}),void 0===o&&(o=[]),void 0===r&&(r=[]),void 0===a&&(a=0);var h={operate:t,lineId:e,data:i,lineStyle:n,realTraceIndexArr:o,tempTraceIndexArr:r,result:a};this.emit(s.ComponentEvent.CHANGE,this,JSON.stringify(h))},e.prototype.onMessage=function(){var t=this._messageCache;if(t.length>0)for(;t.length>0;){var e=t.pop(),i=JSON.parse(e),n=i.operate,o=i.lineId,r=i.data,a=i.lineStyle,h=i.realTraceIndexArr,u=i.tempTraceIndexArr,l=i.result;switch(this._realTraceIndexArr=h,this._tempTraceIndexArr=u,this._result=l,0!=this._result&&this.emit(s.ComponentEvent.COMPLETE,this,{mode:this.mode,value:this._result}),n){case 0:this.drawLine(o,r,0,r.length,a);break;case 1:this.clear()}}},e.prototype.clear=function(){if(this._lines.forEach((function(t,e){t.parent&&(t.parent.removeChild(t),t.destroy())})),this._lines.clear(),1==this._renderMode){var t=this.getGraphics("mask",this._lineStyle);this._bgSprite.mask=t}this._lineId=0,this._pointId=0,this._realTraceIndexArr=[],this._tempTraceIndexArr=[],this._posCache=[],this._autoComplete=!1,this._newLineFlag=!0,this._result=0,this._tracePointObjArr.forEach((function(t){t.flag=!1})),this._tween&&this._tween.release(),this.clearGuide(),this.start()},e.prototype.commitProperties=function(){this.onMessage()},e.prototype.setData=function(t){"string"==typeof t?this._messageCache.push(t):this._messageCache=this._messageCache.concat(t),this.invalidateProperties()},Object.defineProperty(e.prototype,"source",{set:function(t){this.setData(t)},enumerable:!0,configurable:!0}),e}(r.DisplayObject);e.Tracing=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(19);e.ComponentEvent=n;var o=i(18);e.InteractionEvent=o.InteractionEvent;var r=i(10);e.TouchMouseEvent=r.TouchMouseEvent;var s=i(9);e.TweenEvent=s.TweenEvent},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(57);e.FollowLineEnum=n;var o=i(58);e.TracingEnum=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,i){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),s=function(t){function e(e,i){void 0===e&&(e=1/0),void 0===i&&(i=0);var n=t.call(this)||this;return n.interval=0,n.timeout=1/0,n.start=0,n.lastTick=-1,n.elapsedTimeAtPause=0,n.lastVisited=-1,n._running=!1,n._lastExecuted=0,n._id=Math.random(),n.TIMEOUT=1e3,n.endHandler=n.noop,n.tickHandler=n.noop,n.timeout=e,n.interval=i,n.restart(),n}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),e.setInterval=function(t,i){var n=new e(1/0,t);return n.addListener("tick",i),n},e.setTimeout=function(t,i){var n=new e(t,1/0);return n.addListener("end",i,n),n},e.prototype.restart=function(){this.elapsedTimeAtPause=0,this.start=e.clock(),this._lastExecuted=this.start,this._running=!0,e.ticker.addUpdateEvent(this.run,this)},e.prototype.stop=function(){this.elapsedTimeAtPause=0,this._running=!1,e.ticker.removeUpdateEvent(this.run,this)},e.prototype.pause=function(){this._running&&(this.stop(),this.elapsedTimeAtPause=e.clock()-this.start)},e.prototype.resume=function(){var t;this._running||(t=this.elapsedTimeAtPause,this.restart(),this.start=this.start-t)},e.prototype.seek=function(t){this.elapsedTimeAtPause=t},e.prototype.isTickable=function(t){return t-this.lastTick>=this.interval},e.prototype.noop=function(t){void 0===t&&(t=null)},e.prototype.run=function(){var t,i=e.clock(),n=i-this._lastExecuted;if(this._lastExecuted=i,n>=this.TIMEOUT)return!1;if(this.lastVisited<=i){if(this.lastVisited=i,t=i-this.start,this.isTickable(i)){this.lastTick=i;var o={code:"tick",level:"status",target:this,elapsed:t};this.emit("tick",o)}if(t>=this.timeout){this.stop();o={code:"end",level:"status",target:this,elapsed:t};this.emit("end",o)}}return!1},e.clock=Date.now,e.ticker=r.TickerShared,e}(vf.utils.EventEmitter);e.Scheduler=s}])}));