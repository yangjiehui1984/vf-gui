{"version":3,"sources":["webpack://vfgui/webpack/bootstrap","webpack://vfgui/./src/utils/Utils.ts","webpack://vfgui/./src/interaction/Index.ts","webpack://vfgui/./src/core/DisplayObject.ts","webpack://vfgui/./src/core/Ticker.ts","webpack://vfgui/./src/tween/Easing.ts","webpack://vfgui/./src/display/Image.ts","webpack://vfgui/./src/tween/private/constants.ts","webpack://vfgui/./src/event/TweenEvent.ts","webpack://vfgui/./src/event/TouchMouseEvent.ts","webpack://vfgui/./src/core/DisplayLayoutKeys.ts","webpack://vfgui/./src/display/private/InputBase.ts","webpack://vfgui/./src/tween/Tween.ts","webpack://vfgui/./src/core/Stage.ts","webpack://vfgui/./src/tween/private/core.ts","webpack://vfgui/./src/tween/private/Interpolation.ts","webpack://vfgui/./src/tween/Timeline.ts","webpack://vfgui/./src/interaction/DragEvent.ts","webpack://vfgui/./src/interaction/MouseScrollEvent.ts","webpack://vfgui/./src/event/InteractionEvent.ts","webpack://vfgui/./src/event/ComponentEvent.ts","webpack://vfgui/./src/core/DisplayLayoutAbstract.ts","webpack://vfgui/./src/core/DisplayLayoutValidator.ts","webpack://vfgui/./src/core/DisplayObjectAbstract.ts","webpack://vfgui/./src/core/ContainerBase.ts","webpack://vfgui/./src/layout/CSSBasicLayout.ts","webpack://vfgui/./src/display/Container.ts","webpack://vfgui/./src/display/SpriteAnimated.ts","webpack://vfgui/./src/display/Label.ts","webpack://vfgui/./src/display/Button.ts","webpack://vfgui/./src/vf-gui.ts","webpack://vfgui/./src/UI.ts","webpack://vfgui/./src/tween/private/index.ts","webpack://vfgui/./src/utils/ObjectPool.ts","webpack://vfgui/./src/interaction/ClickEvent.ts","webpack://vfgui/./src/interaction/DragDropController.ts","webpack://vfgui/./src/interaction/InputController.ts","webpack://vfgui/./src/interaction/GroupController.ts","webpack://vfgui/./src/layout/CSSStyle.ts","webpack://vfgui/./src/layout/CSSSSystem.ts","webpack://vfgui/./src/layout/CSSLayout.ts","webpack://vfgui/./src/layout/CSSGridLayout.ts","webpack://vfgui/./src/core/plugs/UIBaseDrag.ts","webpack://vfgui/./src/core/plugs/UIClick.ts","webpack://vfgui/./src/display/ScrollingContainer.ts","webpack://vfgui/./src/display/TextInput.ts","webpack://vfgui/./src/display/private/HtmlInput.ts","webpack://vfgui/./src/display/Slider.ts","webpack://vfgui/./src/display/CheckBox.ts","webpack://vfgui/./src/display/Rect.ts","webpack://vfgui/./src/display/Circle.ts","webpack://vfgui/./src/display/Graphics.ts","webpack://vfgui/./src/display/FollowLine.ts","webpack://vfgui/./src/display/ConnectLine.ts","webpack://vfgui/./src/display/Sound.ts","webpack://vfgui/./src/event/Index.ts","webpack://vfgui/./src/enum/Index.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","componentToHex","hex","toString","length","rgbToNumber","g","b","numberToRgb","Math","floor","message","console","log","optionalParams","params","$getSourcePath","$getUIDisplayObjectPath","src","PIXI","Texture","undefined","from","sound","Sound","target","getStage","$stage","parent","Stage","source","x","y","w","h","width","height","performance","now","offset","timing","navigationStart","Date","deepCopy","Array","isArray","concat","tempTarget","prop","str","def","result","parseInt","replace","isNaN","alpha","exec","color","colors","substring","split","start","stop","amt","num","decimals","pow","round","utils","uid","variable","URLSearchParams","location","search","has","substr","indexOf","parseFloat","lastIndexOf","a","total","NaN","index","pointA","pointB","sqrt","subPoint","PlusPoint","num1","num2","atan2","PI","ClickEvent","DragDropController","DragEvent","InputController","MouseScrollEvent","InteractionEvent","TouchMouseEvent","ComponentEvent","GroupController","plugs","Map","dragThreshold","dragStopPropagation","grayscaleFilterValue","pixelPerfect","attach","container","constructor","this","UIBaseDrag","dragOption","UIClick","click","release","_groupName","unRegistrerGroup","registrerGroup","_tint","_blendMode","children","forEach","childrenItem","Sprite","blendMode","BLEND_MODES","NORMAL","blurFilter","blur","filters","BlurFilter","grayscaleFilter","ColorMatrixFilter","greyscale","_style","CSSStyle","style","invalidateParentLayout","updateDisplayList","unscaledWidth","unscaledHeight","display","updateDisplayLayout","updateTransform","load","initializeUIValues","$mask","$background","mask","DisplayObject","removeChild","destroy","releaseAll","offAll","uiChildren","removeAllListeners","removeChildren","DisplayLayoutAbstract","autoStart","_disabled","disabled","update","deltaTime","lastTime","elapsedMS","tween","emit","addUpdateEvent","fn","context","on","removeUpdateEvent","removeListener","EventEmitter","shared","Ticker","tickerShared","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","Bounce","Stepped","steps","_fillMode","maskSprite","_sprite","_src","srcSystem","_scale9Grid","scale9GridSystem","_source","_anchorX","anchorSystem","_anchorY","COMPLETE","measure","_texture","getTexture","frame","setMeasuredSize","once","invalidateSize","sprite","isWebGLSupported","fillMode","texture","TilingSprite","NineSlicePlane","addChild","invalidateDisplayList","scale9Grid","tileScale","set","tilePosition","leftWidth","rightWidth","topHeight","bottomHeight","anchorX","anchorY","Image","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","STRING_PROP","NUM_REGEX","hexColor","hex2rgbext","all","rgb","hexToRgb","decomposeString","fromValue","splice","isString","charAt","match","map","v","isNaNForST","isRGBColor","RGB","decompose","obj","to","toValue","len","fromValue1","toValues","toValue1","shift","prop2","RGBA","recompose","originalT","stringBuffer","STRING_BUFFER","isRelative","currentValue","propRegExp","replaceBrace","propExtract","props","propsLastIndex","lastArr","lastObj","reduce","nested","nextIsArray","SET_NESTED","nested2","nested3","prop3","TweenEvent","Callback","complete","repeat","reverse","pause","play","restart","onHover","onPress","onDown","onUp","onClick","onMove","invalidatePropertiesFlag","invalidateSizeFlag","invalidateDisplayListFlag","explicitWidth","explicitHeight","minWidth","maxWidth","minHeight","maxHeight","percentWidth","percentHeight","scaleX","scaleY","skewX","skewY","pivotX","pivotY","rotation","zIndex","measuredWidth","measuredHeight","oldPreferWidth","oldPreferHeight","oldX","oldY","oldWidth","oldHeight","left","right","top","bottom","horizontalCenter","verticalCenter","clickEvent","_currentState","_focused","_useTab","_usePrev","_useNext","_down","interactiveChildren","STATE_CHANGE","_clickSound","currentState","e","thisObj","isPress","focus","PLAY_AUDIO","keyDownEvent","event","which","fireTab","preventDefault","firePrev","fireNext","documentMouseDown","_bindEvents","stage","keyDownEventBind","document","addEventListener","_clearEvents","off","removeEventListener","clear","setTabIndex","group","_tabIndex","_tabGroup","registrer","InputBase","defaultEasing","_valuesEnd","_duration","_easingFunction","_easingReverse","_startTime","_delayTime","_repeat","_initRepeat","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_isFinite","_prevTime","_rendered","_reverseDelayTime","data","id","_valuesStart","_interpolationFunction","Interpolation","fromTo","duration","Tween","setObject","amount","state","reversed","remove","add","properties","render","processed","time","atStart","delay","isFinite","reverseDelay","yoyo","easing","interpolation","gotoAndPlay","gotoAndStop","gotoAndEnd","preserve","forceTime","elapsed","max","isRunning","isLagSmoothing","currentEasing","end","core","getAll","removeAll","removeDisplay","Event","app","_stageWidth","_stageHeight","setActualSize","hitArea","Rectangle","interactive","initialized","$nestLevel","scale","copyFrom","removeDepthQueueAll","resize","_tweens","isStarted","emptyFrame","powerModeThrottle","handleLag","Plugins","push","frameCount","_state","uuid","f","Utils","Bezier","Reset","pw","Bernstein","isBArray","vCurr","ks","CatmullRom","p0","p1","isForceStringProp","fc","Factorial","p2","p3","v0","v1","t2","node","default","startFrame","endFrame","prevTime","_frames","_frameCount","_elapsedMS","_isStop","_lastNode","_isSetDefault","loop","setDefault","fps","_object","frames","pop","addProperty","parentNode","objectPoolShared","Node","goto","seekLastNode","isStop","updateobject","curFrame","LOOP","Timeline","Point","movementX","movementY","bound","mouse","cancel","dragging","startEvent","_onDragStart","stopPropagation","identifier","onDragPress","global","_onDragMove","_onDragEnd","originalEvent","abs","dragRestrictAxis","onDragStart","onDragMove","onDragEnd","stopEvent","delta","_onHover","_onMouseOut","_onMouseScroll","_e","deltaX","deltaY","axis","detail","onMouseScroll","mouseScrllBind","passive","tempLocal","local","interaction","CHANGE","CHANGEING","ADD","ADDED","REMOVEED","RESIZE","MOVE","CREATION_COMPLETE","DRAG_START_BEFORE","DRAG_START","DRAG_END_BEFORE","DRAG_END","DRAG_MOVE","DRAG_TARGET_BEFORE","DRAG_TARGET","DROP_TARGET","$tempLocalBounds","isContainer","$values","includeInLayout","UIKeys","checkInvalidateFlag","values","invalidateProperties","validateSize","validateProperties","commitProperties","recursive","measureSizes","validateDisplayList","updateSize","getLocalBounds","changed","parentWidth","parentHeight","formatRelative","ceil","preferredW","getPreferredUWidth","preferredH","getPreferredUHeight","getPreferredBounds","bounds","setPosition","change","setTransform","validateNow","validateClient","validateSizeNow","trim","DisplayObjectAbstract","items","insert","client","hashCode","depthBins","minDepth","maxDepth","item","depth","bin","DepthBin","removeLargestChild","nestLevel","min","contains","removeSmallestChild","isEmpty","validatorShared","targetLevel","Infinity","invalidateClientPropertiesFlag","invalidatePropertiesQueue","DepthQueue","invalidateClientSizeFlag","invalidateSizeQueue","invalidateDisplayListQueue","listenersAttached","attachListeners","queue","doPhasedInstantiationCallBack","doPhasedInstantiation","done","oldTargetLevel","propertiesQueue","sizeQueue","displayListQueue","_interactive","_interactiveChildren","_enabled","_visible","ContainerBase","$onAddStage","$onRemoveStage","addChildAt","$onInit","getChildAt","removeChildAt","beginIndex","endIndex","renderable","cacheAsBitmap","visible","$onLoad","$onRelease","isEmitRender","renderer","Container","$tempRectangle","hCenter","vCenter","childWidth","childHeight","childX","childY","child","_lastAnimatedName","_curFrameNumber","_setTimeoutId","_animationName","_animationSpeed","_loop","_playCount","_loopCount","_playing","_animatedSprites","animatedNameSystem","releaseAnimate","attribSystem","frameNumber","playSystem","addAnimated","animationName","textures","sp","AnimatedSprite","clearTimeout","element","getSheet","animations","size","animatedSp","lastAnimated","onLoop","onComplete","setTimeout","playing","animationSpeed","anchor","SpriteAnimated","text","Text","breakWords","fill","resolution","textAlign","Label","_selectedStr","_oldState","img","label","_text","buttonMode","fontSize","onStateChange","Button","window","gui","vfgui","version","TickerShared","ScrollingContainer","TextInput","Slider","CheckBox","Rect","Circle","Graphics","FollowLine","ConnectLine","Interaction","Enum","FrameThrottle","ToggleLagSmoothing","objPoolDict","keyClass","oldObj","objs","ObjectPool","isOpenEmitEvent","includeHover","rightMouseButton","doubleClick","isOpenLocalPoint","localOffset","ishover","hover","double","eventnameMousedown","eventnameMouseup","eventnameMouseupoutside","getTarget","_onMouseDown","_onMouseOver","_onMouseUp","_onMouseUpOutside","_onMouseMove","setLocalPoint","emitTouchEvent","listenerCount","type","args","_mouseUpAll","toLocal","_items","dragDropEventId","dragGroup","_currentItem","tabGroups","_checkGroupObject","groups","tabIndex","tabGroup","groupName","sort","cb","checkGroup","checked","isKey","val","_GroupObject","ui","delete","percent","_display","_position","_backgroundRepeat","_color","_wordWrap","_textAlign","_fontSize","_fontStyle","_fontVariant","_fontWeight","_strokeThickness","_dropShadow","_dropShadowAlpha","_dropShadowAngle","_dropShadowBlur","_dropShadowColor","_dropShadowDistance","_breakWords","onResize","_justifyContent","_alignContent","_gridTemplateColumns","_gridColumnGap","_gridTemplateRows","_gridRowGap","relative","tint","_backgroundColor","backgroundColor","CSSFunction","_backgroundImage","backgroundImage","_backgroundPositionX","backgroundPositionSize","_backgroundPositionY","_backgroundSize","backgroundRepeat","_maskImage","maskImage","_maskPosition","maskPosition","_maskSize","maskSize","_filter","getStringFunctionParam","filterBlur","filterGrayscale","cursor","_letterSpacing","updateFontStyle","_wordWrapWidth","_lineHeight","_fontFamily","_padding","_stroke","background","beginFill","drawRoundedRect","endFill","backgroundPositionX","backgroundPositionY","backgroundSize","position","maskGraphics","maskdisplay","getDisplayObject","setInputStyle","updateDisplayAlign","marginTop","marginLeft","justifyContent","alignContent","startX","startY","$TempRectangle","updateBasicDisplayList","updateGridLayout","gridRowGap","gridColumnGap","getColumnRowValue","gridTemplate","parentValue","list","isInfinity","rowHeightTotal","columnWidthTotal","column","gridTemplateColumns","row","gridTemplateRows","cloumnIndex","rowIndex","cloumnWidth","rowHeight","widthTotal","dragInitialized","dropInitialized","_dragPosition","dragBoundary","dragBounces","initDraggable","clearDraggable","_dragRestrictAxis","drag","_dragContainer","initDroppable","clearDroppable","_droppableReparent","_containerStart","$targetParent","added","worldTransform","tx","ty","getItem","onDrop","getEventItem","dropGroup","droppableReparent","dragContainer","_target","_clickEvent","_dragScrolling","softness","radius","expandMask","animating","scrollX","scrollY","_innerContainer","innerBounds","dragEvent","mouseScrollEvent","scrolling","_boundCached","_lastWidth","_lastHeight","_isInitScrolling","_targetPosition","_lastPosition","_Position","_Speed","_stop","_graphics","setScrollPosition","updateScrollPosition","scrollSpeed","_of","speed","getInnerBounds","force","initScrolling","updateScrollBars","forcePctPosition","direction","pct","_width","_height","focusPosition","pos","dif","updateDirection","Lerp","exp","multiline","_resolution","_previous","placeholderColor","_domVisible","_placeholder","_maxLength","_inputStyle","assign","border","outline","transformOrigin","padding","lineHeight","htmlInputShared","setStyle","_onInputInput","_onFocused","_onBlurred","_textHitbox","_ontextFocus","_textMask","updateSystem","_restrict","maxlength","maxLength","placeholder","enabled","restrict","fontFamily","setStyleValue","_updateSubstitution","_setState","_updateDOMInput","_updatetext","_renderInternal","_lastRenderer","_canvasBounds","_getCanvasBounds","_needsUpdate","transform","_pixiMatrixToCSS","_getDOMRelativeWorldTransform","updatePostion","worldAlpha","worldVisible","canvasBounds","clone","_comparePixiMatrices","_compareClientRects","_derivetextPadding","inputBounds","getDOMInputBounds","_derivetextStyle","wordWrap","wordWrapWidth","_derivetextText","drawRect","_ensureFocus","_hasFocus","TextStyle","letterSpacing","indent","textIndent","components","paddingV","paddingH","component","activeElement","domInput","rect","view","getBoundingClientRect","matrix","join","m1","m2","r1","r2","_selection","_restrict_value","_domInput","addDom","body","appendChild","_restrictRegex","regex","RegExp","slice","select","org_transform","org_display","opacity","createElement","addEvent","removeDom","removeEvent","_onInputKeyDownBind","_onInputKeyDown","_onInputInputBind","_onInputKeyUpBind","_onInputKeyUp","_onFocusedBind","_onBlurredBind","_applyRestriction","test","setSelectionRange","selectionStart","selectionEnd","keyCode","_amt","_decimals","_startValue","_maxPosition","_localMousePosition","_lastChange","_lastChanging","_thumbDrag","_trackDrag","trackImg","thumbImg","tracklightImg","_value","_minValue","_maxValue","_vertical","isExcValueSystem","onImgload","Round","minValue","maxValue","valueSystem","updatePosition","triggerValueChange","triggerValueChanging","updateLayout","_track","_thumb","_tracklight","vertical","soft","isPressed","updatePositionToMouse","mousePosition","newPos","maxPos","_checked","getCheckGroupSelectedValue","unRegistrerCheckGroup","registrerCheckGroup","updateCheckGroupSelected","onLabelChange","_radius","_lineColor","_lineWidth","graphics","lineStyle","drawCircle","geometry","tempLocalBounds","NUMBER_TO_STR","getStrFromPos","compX","compY","n1","n2","n3","bindDisplay","_touchId","_posCache","_lineKeys","startOffset","_curLineIndex","_messageCache","_isPause","_isErasing","_role","_lastPos","_mouseOffset","_lines","onMessage","getCurLineByPos","role","operate","lineId","messageIndex","drawLine","removeLine","curLocal","_eraseLine","emitMsg","getDataStrByPosCache","pointDistance","brush","getGraphics","moveTo","lineTo","dataStr","isErasing","lastDistance","distance","finalX","finalY","lastLastPos","lastPos","sumAngle","pos1","pointSub","pos2","angle","pointSignAngle","finalStrList","MAX_WIDTH","drawId","posList","charCodeAt","realX","realY","getVecListFromStr","draw","lastX","lastY","realList","halfX","halfY","cx","cy","quadraticCurveTo","delKeyIndex","line","setData","reset","_lastStartPos","_lastEndPos","_play","_autoPlay","_sourcePostion","_targetPostion","_isAnimation","lineWidth","lineColor","getLocalPos","_linePostion","startPos","pointPlus","endPos","animation","isAnimation","dt","tw","$sounds","spriteAnimated","_speed","_volume","_curProgress","_sheetSkin","_sound","volume","isPlaying","_endTime","warn","releaseSound","getSound","autoPlay","startTime","endTime","uiObjects","getGroup","_mediaInstance","onProgress","onEnd","resume","progress","FollowLineEnum"],"mappings":"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","file":"vf-gui.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { Stage } from \"../core/Stage\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\n\n/**\n * \n */\n\n/**  */\nexport function log(message?: string | number | object, ...optionalParams: string[] | number[] | object[]) {\n    console.log(message, ...optionalParams);\n}\n\n/**\n *  - ,\n */\nexport let $getSourcePath: Function;\nexport function setSourcePath(params: (path: TAny, cls?: TAny) => {}) {\n    $getSourcePath = params;\n}\n\n/**\n * \n */\nexport let $getUIDisplayObjectPath: Function;\nexport function setDisplayObjectPath(params: (cls?: TAny, target?: DisplayObject) => {}) {\n    $getUIDisplayObjectPath = params;\n}\n\n\nexport function getTexture(src: TAny) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    if (src instanceof PIXI.Texture) {\n        return src;\n    }\n    if (src == null) {\n        src = undefined;\n        return src;\n    }\n    if (src == null) {\n        src = undefined;\n        return src;\n    }\n    return PIXI.Texture.from(src);\n}\n\nexport function getSheet(src: TAny) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getSound(src: TAny) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    if (src instanceof PIXI.sound.Sound) {\n        return src;\n    }\n    return PIXI.sound.Sound.from(src);\n}\n\nexport function getDisplayObject(src: TAny, target?: DisplayObject) {\n    if ($getUIDisplayObjectPath) {\n        src = $getUIDisplayObjectPath(src, target);\n    }\n    return src;\n}\n\n/**\n * \n * @param DisplayObject \n */\nexport function getStage(target: DisplayObject | DisplayObjectAbstract | Stage): Stage | undefined {\n    if (target.$stage) {\n        return target.$stage;\n    }\n    if (target.parent instanceof Stage) {\n        return target.parent;\n    }\n    if (target.parent) {\n        return getStage(target.parent);\n    }\n    return undefined;\n}\n\n\n/**\n * \n * @param sourcr \n * @param x \n * @param y \n * @param w \n * @param h \n */\nexport function setRectangle(source: PIXI.Rectangle, x: number, y: number, w: number, h: number) {\n    source.x = x;\n    source.y = y;\n    source.width = w;\n    source.height = h;\n}\n/**  */\nexport function now() {\n    if (performance !== undefined && performance.now !== undefined) {\n        // This must be bound, because directly assigning this function\n        // leads to an invocation exception in Chrome.\n        return performance.now.bind(performance)();\n        // Use Date.now if it is available.\n    } else {\n        const offset = performance && performance.timing && performance.timing.navigationStart ? performance.timing.navigationStart : Date.now()\n        return Date.now() - offset;\n    }\n}\n\n/**\n * \n * @param source \n */\nexport function deepCopy(source: TAny, target?: TAny) {\n    if (source === undefined || typeof source !== 'object') {\n        return source;\n    } else if (Array.isArray(source)) {\n        return [].concat(source as []);\n    } else if (typeof source === 'object') {\n        const tempTarget: { [key: string]: TAny } = target || {};\n        for (const prop in source) {\n            tempTarget[prop] = deepCopy(source[prop], tempTarget[prop]);\n        }\n        return tempTarget;\n    }\n    return source;\n}\n\n/**\n * helper function to convert string hex to int or default\n * \n * 16int\n * @param str #FFFFFF,0xFFFFFF\n * @param def \n */\nexport function hexToInt(str: string, def: number) {\n    if (typeof str === 'number')\n        return str;\n\n    const result = parseInt(str.replace('#', '0x'));\n\n    if (isNaN(result)) return def;\n    return result;\n}\n\n//helper function to convert hex to rgba\n/**\n * \n * @param hex 16  #FFFFFF \n * @param alpha \n * @returns \"rgba(255,255,255,1)\" || false\n */\nexport function hexToRgba(hex: string, alpha: number) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? \"rgba(\" + parseInt(result[1], 16) + \",\" + parseInt(result[2], 16) + \",\" + parseInt(result[3], 16) + \",\" + alpha + \")\" : false;\n}\n/**\n * 1620 01\n * @param c \n */\nexport function componentToHex(c: number) {\n    const hex = c.toString(16);\n    if (hex.length == 4) {\n        return \"00\" + hex;\n    }\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n/**\n * RGB16\n * @param r  0-255\n * @param g  0-255\n * @param b  0-255\n */\nexport function rgbToHex(r: number, g: number, b: number) {\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\n\n/**\n * RGBnumber\n * @param r  0-255\n * @param g  0-255\n * @param b  0-255\n */\nexport function rgbToNumber(r: number, g: number, b: number) {\n    return r * 65536 + g * 256 + b;\n}\n\n/**\n * rgb\n * @param color rgb(255,255,255)\n */\nexport function rgbStrToNumber(color: string) {\n    const colors = color.substring(4, color.length - 1).split(\",\");\n    return rgbToNumber(parseInt(colors[0]), parseInt(colors[1]), parseInt(colors[2]));\n}\n/**\n * 10RGB\n * @param c \n */\nexport function numberToRgb(c: number) {\n    return {\n        r: Math.floor(c / (256 * 256)),\n        g: Math.floor(c / 256) % 256,\n        b: c % 256,\n    };\n}\n\n/**\n * hex  RGB\n * \n * hex: \"#ffffff\"->255,255,255\n * \n * 16: 0xffffff->255,255,255\n * @param hex \n */\nexport function hexToRgb(hex?: string | number) {\n    if (hex === undefined)\n        hex = 0xffffff;\n\n    if (typeof (hex) == \"number\") {\n        return numberToRgb(hex);\n    }\n\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n    });\n\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : { r: 255, g: 255, b: 255 };\n}\n\n/**\n * amtstart-stop\n * @param start \n * @param stop  \n * @param amt 0-1  >1100\n */\nexport function Lerp(start: number, stop: number, amt: number) {\n    if (amt > 1) amt = 1;\n    else if (amt < 0) amt = 0;\n    return start + (stop - start) * amt;\n}\n\n/**\n * \n * @param num \n * @param decimals \n */\nexport function Round(num: number, decimals: number) {\n    const pow = Math.pow(10, decimals);\n    return Math.round(num * pow) / pow;\n}\n\n\n/**  */\nexport function uid() {\n    return PIXI.utils.uid();\n}\n\n/** URL */\nexport function getQueryVariable(variable: string) {\n    const params = new URLSearchParams(location.search);\n    if (params.has(variable)) {\n        return params.get(variable);\n    }\n    return undefined;\n}\n\n/**\n * xxx(1) = 1\n * @param\n */\nexport function getStringFunctionParam(str: string) {\n    const target: { key: string; value: number } = {} as TAny;\n    target.key = str.substr(0, str.indexOf(\"(\"));\n    const value = str.substr(str.indexOf(\"(\") + 1);\n    target.value = parseFloat(value.substr(0, value.lastIndexOf(\")\")));\n    return target\n}\n\nexport function isDeltaIdentity(m: PIXI.Matrix): boolean {\n    return (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1);\n}\n\n/**\n * \n * @param value \n * @param total \n */\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n/**  */\nexport function pointDistance(pointA: PIXI.Point | { x: number; y: number }, pointB: PIXI.Point | { x: number; y: number }) {\n    return Math.sqrt((pointA.x - pointB.x) * (pointA.x - pointB.x) + (pointA.y - pointB.y) * (pointA.y - pointB.y));\n}\n\n/**  */\nexport function pointSub(source: PIXI.Point | { x: number; y: number }, subPoint: PIXI.Point | { x: number; y: number }) {\n    const x = source.x - subPoint.x;\n    const y = source.y - subPoint.y;\n    return { x, y };\n}\n\n/**  */\nexport function pointPlus(source: PIXI.Point | { x: number; y: number }, PlusPoint: PIXI.Point | { x: number; y: number }) {\n    const x = source.x + PlusPoint.x;\n    const y = source.y + PlusPoint.y;\n    return { x, y };\n}\n\n/**  */\nexport function pointSignAngle(pointA: PIXI.Point | { x: number; y: number }, pointB: PIXI.Point | { x: number; y: number }) {\n    const num1 = (pointA.x * pointB.y) - (pointB.x * pointA.y);\n    const num2 = (pointA.x * pointB.x) + (pointA.y * pointB.y);\n    return Math.atan2(num1, num2) * (360 / (Math.PI * 2));\n}","import {ClickEvent} from \"./ClickEvent\";\nimport * as DragDropController from \"./DragDropController\";\nimport {DragEvent} from \"./DragEvent\";\nimport * as InputController from \"./InputController\";\nimport {MouseScrollEvent} from \"./MouseScrollEvent\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport {TouchMouseEvent} from \"../event/TouchMouseEvent\";\nimport * as ComponentEvent from \"../event/ComponentEvent\";\nimport * as GroupController from \"./GroupController\";\n\nexport {\n    ClickEvent,\n    DragDropController,\n    DragEvent,\n    InputController,\n    MouseScrollEvent,\n    InteractionEvent,\n    TouchMouseEvent,\n    ComponentEvent,\n    GroupController\n};","import { GroupController } from \"../interaction/Index\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { CSSStyle } from \"../layout/CSSStyle\";\nimport { updateDisplayLayout } from \"../layout/CSSLayout\";\nimport { UIBaseDrag } from \"./plugs/UIBaseDrag\";\nimport { deepCopy } from \"../utils/Utils\";\nimport { UIClick } from \"./plugs/UIClick\";\n\n/**\n * UIUI\n *\n * @class\n * @since 1.0.0\n */\nexport class DisplayObject extends DisplayLayoutAbstract implements Lifecycle {\n    /**\n     * \n     */\n    public constructor() {\n        super();\n        this.container.name = (this.constructor as TAny).name;\n    }\n\n    /**\n     * ()\n     */\n    public $background?: PIXI.Graphics;\n    /**\n     * \n     */\n    public $mask?: PIXI.Graphics | PIXI.Sprite | DisplayObject;\n    /**\n     * \n     */\n    public plugs = new Map<string, Lifecycle>();\n    /**\n     * ,,\n     */\n    public dragThreshold = 0;\n    /**  */\n    private blurFilter?: PIXI.filters.BlurFilter;\n    /**  */\n    public dragStopPropagation = true;\n    /**\n     * \n     */\n    public get dragOption() {\n        if (this.plugs.has(UIBaseDrag.key)) {\n            return this.plugs.get(UIBaseDrag.key) as UIBaseDrag\n        }\n        return new UIBaseDrag(this);\n    }\n    public set dragOption(value: UIBaseDrag) {\n        const dragOption = this.dragOption;\n        deepCopy(value, dragOption);\n    }\n\n    /** TouchMouseEvent */\n    public get isClick() {\n        let click = this.plugs.get(UIClick.key) as UIClick;\n        if (click) {\n            return true;\n        }\n        return false;\n    }\n\n    public set isClick(value: boolean) {\n        let click = this.plugs.get(UIClick.key) as UIClick;\n        if (value) {\n            if (!click) {\n                new UIClick(this);\n            }\n        } else {\n            if (click) {\n                click.release();\n            }\n        }\n    }\n\n    /**\n     * \n     */\n    protected _groupName?: string;\n    public get groupName() {\n        return this._groupName;\n    }\n    public set groupName(value) {\n\n        if (value === undefined) {\n            GroupController.unRegistrerGroup(this);\n        }\n        if (this._groupName == value) {\n            return;\n        }\n        this._groupName = value;\n        GroupController.registrerGroup(this);\n    }\n\n\n    /**\n     * \n     */\n    public get alpha() {\n        return this.container.alpha;\n    }\n    public set alpha(value) {\n        this.container.alpha = value;\n    }\n\n\n    /**  */\n    private _tint: number | undefined;\n    public get tint(): number | undefined {\n        return this._tint;\n    }\n    public set tint(value: number | undefined) {\n        if (value === this._blendMode) {\n            return;\n        }\n        this._tint = value;\n        this.container.children.forEach(childrenItem => {\n            if ((childrenItem as TAny)[\"tint\"]) {\n                (childrenItem as TAny)[\"tint\"] = value;\n            }\n        });\n    }\n\n    /** \n     *  \n     */\n    private _blendMode: PIXI.BLEND_MODES | undefined;\n    public get blendMode(): PIXI.BLEND_MODES | undefined {\n        return this._blendMode;\n    }\n    public set blendMode(value: PIXI.BLEND_MODES | undefined) {\n        if (value === this._blendMode) {\n            return;\n        }\n        this._blendMode = value;\n        this.container.children.forEach(childrenItem => {\n            if (childrenItem instanceof PIXI.Sprite) {\n                childrenItem.blendMode = value || PIXI.BLEND_MODES.NORMAL;\n            }\n        });\n    }\n\n    /**\n     * Blur XY\n     *\n     * number blurX = blurY = value\n     *\n     */\n    public set filterBlur(value: number) {\n        const container = this.container;\n        if (this.blurFilter === undefined) {\n            this.blurFilter = new PIXI.filters.BlurFilter(8, 1, 1);\n            container.filters = [this.blurFilter];\n        }\n        this.blurFilter.blur = value;\n\n    }\n    public get filterBlur() {\n        return this.blurFilter ? this.blurFilter.blur : 0;\n    }\n\n    /**\n     * \n     *\n     *  number, \n     */\n    private grayscaleFilter?: PIXI.filters.ColorMatrixFilter;\n    private grayscaleFilterValue: number = 0;\n    public set filterGrayscale(value: number) {\n        const container = this.container;\n        if (this.grayscaleFilter === undefined) {\n            this.grayscaleFilter = new PIXI.filters.ColorMatrixFilter();\n            container.filters = [this.grayscaleFilter];\n        }\n\n        this.grayscaleFilterValue = value / 100;\n        this.grayscaleFilter.greyscale(this.grayscaleFilterValue, false);\n    }\n\n    public get filterGrayscale() {\n        return this.grayscaleFilterValue * 100;\n    }\n\n\n    // /**\n    //  * \n    //  *\n    //  *  , outline(10, 0xFF0000),  10  0 0xFF0000 \n    //  */\n    // private outlineFilter?: OutlineFilter;\n    // public set filterOutline(value: string | undefined) {\n    //     if (!value) return;\n\n    //     const container = this.container;\n    //     value = value.substring(value.indexOf('(') + 1, value.indexOf(')'))\n    //     const parsedValue: [number, number] = value.split(',') as any;\n\n    //     if(this.outlineFilter === undefined){\n    //         this.outlineFilter = new OutlineFilter(0, 0xffffff, 1);\n    //         container.filters = [ this.outlineFilter ];\n    //     }\n\n    //     this.outlineFilter.color = parsedValue[1];\n    //     this.outlineFilter.thickness = parsedValue[0];\n    // }\n\n    // public get filterOutline() {\n    //     if (!this.outlineFilter) return;\n\n    //     const color = this.outlineFilter.color;\n    //     const thickness = this.outlineFilter.thickness;\n    //     return `outline(${thickness},${color})`;\n    // }\n    /**\n     * \n     * */\n    protected _style?: CSSStyle;\n    /**\n    *  \n    * @default\n    */\n    public pixelPerfect = true;\n    /**\n     * \n     */\n    public attach: { [key: string]: object | number | string | Function } = {};\n    /**\n     * \n     */\n    public get style(): CSSStyle {\n        if (this._style == undefined) {\n            this._style = new CSSStyle(this);\n        }\n        return this._style;\n    }\n\n    public set style(value: CSSStyle) {\n        const style = this.style;\n        deepCopy(value, style);\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        if (this._style && this._style.display !== \"none\") {\n            //console.log(\"displayStyle\",unscaledWidth,unscaledHeight,this.left,this.right,this.x,this.y);\n            updateDisplayLayout(this, unscaledWidth, unscaledHeight);\n        } else {\n            //console.log(\"display\",this.x + this.pivotX,this.y + this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY);\n            this.updateTransform();\n        }\n    }\n\n    public load() {\n        this.initializeUIValues();\n        super.load();\n    }\n\n    public release() {\n\n        const { container, $mask, $background } = this;\n\n        if (this._style) {\n            this._style.release();\n            this._style = undefined;\n        }\n\n        if ($mask) {\n            container.mask = null;\n            if ($mask instanceof DisplayObject) {\n                $mask.release();\n            } else {\n                $mask.parent && $mask.parent.removeChild($mask).destroy();\n            }\n            this.$mask = undefined;\n        }\n\n        if ($background && $background.parent) {\n            $background.parent.removeChild($background).destroy();\n            this.$background = undefined;\n        }\n\n        this.plugs.forEach(value => {\n            value.release();\n        });\n\n        GroupController.unRegistrerGroup(this);\n\n        super.release();\n    }\n\n    public releaseAll() {\n\n        this.offAll();\n        this.release();\n\n        while (this.uiChildren.length > 0) {\n            if (this.uiChildren[0].uiChildren.length > 0) {\n                (this.uiChildren[0].uiChildren[0] as DisplayObject).releaseAll();\n            }\n            (this.uiChildren[0] as DisplayObject).releaseAll();\n        }\n\n        this.uiChildren = [];\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n    }\n}\n","import * as tween from \"../tween/private/index\";\n\n/**\n * UI\n */\nclass Ticker extends PIXI.utils.EventEmitter{\n    /**\n     * \n     * @param autoStart false\n     */\n    public constructor(autoStart: boolean){\n        super();\n        if (autoStart) {\n            this.disabled = false;\n        }\n    }\n    \n    private _disabled = true;\n    /** .false, */\n    public get disabled() {\n        return this._disabled;\n    }\n    \n    public set disabled(value: boolean) {\n        if(value == this._disabled){\n            return;\n        }\n        this._disabled = value;\n    }\n    \n    public update(deltaTime: number,lastTime: number,elapsedMS: number) {\n        if (this._disabled){\n            return;\n        }\n        tween.update(elapsedMS);\n        this.emit(\"update\", deltaTime,lastTime,elapsedMS);\n        \n    }\n    /**\n     * \n     * @param fn \n     * @param context \n     */\n    public addUpdateEvent<T>(fn: (deltaTime: number,lastTime?: number,elapsedMS?: number) => void,context: T){\n        return this.on(\"update\",fn,context);\n    }\n    /**\n     * \n     * @param fn \n     * @param context \n     */\n    public removeUpdateEvent<T>(fn: (deltaTime: number,lastTime?: number,elapsedMS?: number) => void,context: T){\n        return this.removeListener(\"update\",fn,context);\n    }\n    \n}\n\n/**\n * Ticker \n */\nexport const shared = new Ticker(true);\nexport const tickerShared = shared;\nexport default tickerShared;\n","/**\n * \n * \n * @example gui.Easing.Linear.None;\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTween\n */\nexport const Easing = {\n    Linear: {\n        None(k: number) {\n            return k;\n        }\n    },\n\n    Quadratic: {\n        In(k: number) {\n            return Math.pow(k, 2);\n        },\n\n        Out(k: number) {\n            return k * (2 - k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 2);\n            }\n\n            return -0.5 * (--k * (k - 2) - 1);\n        }\n    },\n\n    Cubic: {\n        In(k: number) {\n            return Math.pow(k, 3);\n        },\n\n        Out(k: number) {\n            return --k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 3);\n            }\n\n            return 0.5 * ((k -= 2) * k * k + 2);\n        }\n    },\n\n    Quartic: {\n        In(k: number) {\n            return Math.pow(k, 4);\n        },\n\n        Out(k: number) {\n            return 1 - --k * k * k * k;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 4);\n            }\n\n            return -0.5 * ((k -= 2) * k * k * k - 2);\n        }\n    },\n\n    Quintic: {\n        In(k: number) {\n            return Math.pow(k, 5);\n        },\n\n        Out(k: number) {\n            return --k * k * k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 5);\n            }\n\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n        }\n    },\n\n    Sinusoidal: {\n        In(k: number) {\n            return 1 - Math.cos((k * Math.PI) / 2);\n        },\n\n        Out(k: number) {\n            return Math.sin((k * Math.PI) / 2);\n        },\n\n        InOut(k: number) {\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n        }\n    },\n\n    Exponential: {\n        In(k: number) {\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n        },\n\n        Out(k: number) {\n            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n\n            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n        }\n    },\n\n    Circular: {\n        In(k: number) {\n            return 1 - Math.sqrt(1 - k * k);\n        },\n\n        Out(k: number) {\n            return Math.sqrt(1 - --k * k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n        }\n    },\n\n    Elastic: {\n        In(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n        },\n\n        Out(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            k *= 2;\n\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n        }\n    },\n\n    Back: {\n        In(k: number) {\n            const s = 1.70158;\n\n            return k * k * ((s + 1) * k - s);\n        },\n\n        Out(k: number) {\n            const s = 1.70158;\n\n            return --k * k * ((s + 1) * k + s) + 1;\n        },\n\n        InOut(k: number) {\n            const s = 1.70158 * 1.525;\n\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n        }\n    },\n\n    Bounce: {\n        In(k: number) {\n            return 1 - Easing.Bounce.Out(1 - k);\n        },\n\n        Out(k: number) {\n            const x = 2.75;\n            const y = 7.5625;\n            if (k < 1 / x) {\n                return y * k * k;\n            } else if (k < 2 / x) {\n                return y * (k -= 1.5 / x) * k + 0.75;\n            } else if (k < 2.5 / x) {\n                return y * (k -= 2.25 / x) * k + 0.9375;\n            } else {\n                return y * (k -= 2.625 / x) * k + 0.984375;\n            }\n        },\n\n        InOut(k: number) {\n            if (k < 0.5) {\n                return Easing.Bounce.In(k * 2) * 0.5;\n            }\n\n            return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n        }\n    },\n\n    Stepped: {\n        steps: (steps: number) => (k: number) => ((k * steps) | 0) / steps\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\nimport { getTexture } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n/**\n * \n * \n * @example let image = new gui.Image();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestImage\n */\nexport class Image extends DisplayObject implements MaskSprite{\n\n\n    public constructor() {\n        super();\n    }\n\n    /**  */\n    public maskSprite(){\n        return this._sprite as PIXI.Sprite;\n    }\n\n    protected _sprite: PIXI.Sprite | PIXI.TilingSprite | PIXI.NineSlicePlane | undefined;\n    protected _texture: PIXI.Texture | undefined;\n    protected _source: number | string | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n\n    /**\n     * \n     */\n    private _src: number | string | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n    public get src(): number | string | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined {\n        return this._src;\n    }\n    public set src(value: number | string | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined) {\n        this._src = value;\n        this.srcSystem();\n    }\n    /**\n     * \n     * \n     * fillMode = scale [leftWidth,rightWidth,topHeight,bottomHeight]\n     * \n     * fillMode = repeat [scalex,scaley,x,y]\n     */\n    private _scale9Grid?: number[];\n    public get scale9Grid() {\n        return this._scale9Grid;\n    }\n    public set scale9Grid(value) {\n        this._scale9Grid = value;\n        this.scale9GridSystem();\n    }\n    /**\n     * \n     * scalescale9Grid\n     */\n    private _fillMode?: \"no-repeat\" | \"repeat\" | \"scale\" = \"no-repeat\";\n    public get fillMode() {\n        return this._fillMode;\n    }\n    public set fillMode(value) {\n        this._fillMode = value;\n        this._source = undefined;\n        this.srcSystem();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.anchorSystem();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.anchorSystem();\n    }\n\n    public release() {\n        super.release();\n        this.offAll(ComponentEvent.COMPLETE);\n        if (this._sprite && this._sprite.parent) {\n            this._sprite.parent.removeChild(this._sprite).destroy();\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    protected measure(): void {\n\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if(unscaledWidth === 0 && unscaledHeight ===0){\n            return;\n        }\n        if (this._sprite) {\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n            this.scale9GridSystem();\n            this._sprite.width = unscaledWidth;\n            this._sprite.height = unscaledHeight;\n            this.anchorSystem();\n        }\n\n    }\n\n    protected srcSystem() {\n \n        const { container, src } = this;\n        if (src === undefined && this._sprite && this._sprite.parent) {\n            container.removeChild(this._sprite);\n            this._sprite.destroy();\n        }\n        if (this._texture) {\n            this._texture.removeAllListeners();\n        }\n\n        if (src !== this._source) {\n            this._source = src;\n            const texture = this._texture = getTexture(src);\n            if(texture === undefined){\n                return;\n            }\n            if (texture.frame.width > 1 && texture.frame.height > 1) {\n                this.setMeasuredSize(texture.frame.width, texture.frame.height);\n            }\n            let invalidateDisplayList = false;\n            texture.once(\"update\", () => {\n                invalidateDisplayList = true;\n                this.setMeasuredSize(texture.frame.width, texture.frame.height);\n                this.invalidateSize();\n                this.emit(ComponentEvent.COMPLETE, this);\n\n            }, this);\n\n            let sprite: PIXI.Sprite | PIXI.TilingSprite | PIXI.NineSlicePlane | undefined = this._sprite;\n\n            if (!PIXI.utils.isWebGLSupported()) {\n                sprite = PIXI.Sprite.from(texture);\n            } else {\n                if (this.fillMode === \"no-repeat\") {\n                    if (sprite instanceof PIXI.Sprite) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new PIXI.Sprite(texture);\n                    }\n                } else if (this.fillMode === \"repeat\") {\n                    if (sprite instanceof PIXI.TilingSprite) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new PIXI.TilingSprite(texture);\n                    }\n                } else if (this.fillMode === \"scale\") {\n                    if (sprite instanceof PIXI.NineSlicePlane) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new PIXI.NineSlicePlane(texture);\n                    }\n                }\n            }\n            if (sprite && sprite.parent == undefined) {\n                this._sprite = container.addChild(sprite);\n            }\n            if(!invalidateDisplayList){\n                this.invalidateDisplayList();\n                this.invalidateParentLayout();\n            }\n        }\n\n    }\n\n    protected scale9GridSystem() {\n        if (this._sprite === undefined || this.scale9Grid === undefined) {\n            return;\n        }\n\n        const sprite = this._sprite;\n        const scale9Grid = this.scale9Grid;\n\n        if (sprite instanceof PIXI.TilingSprite) {\n            sprite.tileScale.set(scale9Grid[0], scale9Grid[1]);\n            sprite.tilePosition.set(scale9Grid[2], scale9Grid[3]);\n        } else if (sprite instanceof PIXI.NineSlicePlane) {\n            if (scale9Grid[0] !== undefined) {\n                sprite.leftWidth = scale9Grid[0];\n            }\n            if (scale9Grid[1] !== undefined) {\n                sprite.rightWidth = scale9Grid[1];\n            }\n            if (scale9Grid[2] !== undefined) {\n                sprite.topHeight = scale9Grid[2];\n            }\n            if (scale9Grid[3] !== undefined) {\n                sprite.bottomHeight = scale9Grid[3];\n            }\n        }\n    }\n\n    protected anchorSystem() {\n        if (this._sprite === undefined) {\n            return;\n        }\n        const sprite = this._sprite;\n\n        if (this.anchorX) {\n            sprite.x = -Math.floor(sprite.width * this.anchorX);\n        }\n        if (this.anchorY) {\n            sprite.y = -Math.floor(sprite.height * this.anchorY);\n        }\n    }\n\n\n\n}","import { hexToRgb } from \"../../utils/Utils\";\n/**\n * \n */\nexport const FRAME_MS = 50 / 3;\n/**\n * \n */\nexport const TOO_LONG_FRAME_MS = 250;\n/**\n * key\n */\nexport const CHAINED_TWEENS = '_chainedTweens';\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP';\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\n\n\n\nconst isNaNForST = (v: string) => isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' ';\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi;\nconst hex2rgbext = (all: string, ... hex: any[]) => {\n    let rgb = hexToRgb(all);\n    return 'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')';\n}\n\nexport function decomposeString(fromValue: string | any) {\n    if (fromValue && fromValue.splice && fromValue.isString) {\n        return fromValue;\n    }\n    if (typeof fromValue !== 'string') {\n        return fromValue;\n    }\n    if (fromValue.charAt(1) === '=') {\n        return fromValue;\n    }\n    const hex = fromValue.replace(hexColor, hex2rgbext).match(NUM_REGEX);\n    let value: any;\n    if (hex) {\n        value = hex.map((v) => (isNaNForST(v) ? v : +v));\n    }\n    value.isString = true;\n    return value;\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose(prop: any, obj: any, from: any, to: any): any {\n    const fromValue: any = from[prop];\n    const toValue: any = to[prop];\n\n    if (fromValue === toValue) {\n        return true;\n    } else if (Array.isArray(fromValue) && Array.isArray(toValue) && fromValue.length === toValue.length) {\n        for (let i = 0, len = toValue.length; i < len; i++) {\n            const a = fromValue[i];\n            const b = toValue[i];\n\n            if (a === b || (typeof a === 'number' && typeof b === 'number')) {\n                continue;\n            } else {\n                decompose(i, obj[prop], fromValue, toValue);\n            }\n        }\n    }\n    if (typeof fromValue === 'number' && typeof toValue === 'number') {\n        //\n    } else if (fromValue && fromValue.splice && fromValue.isString && toValue && toValue.splice && toValue.isString) {\n        //\n    } else if (typeof fromValue === 'string' && Array.isArray(toValue)) {\n        const fromValue1 = decomposeString(fromValue);\n        const toValues = toValue.map(decomposeString);\n\n        from[prop] = fromValue1;\n        to[prop] = toValues;\n        return true;\n    } else if (typeof fromValue === 'string' || typeof toValue === 'string') {\n        let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue);\n        let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue);\n\n        if (fromValue1 === undefined) {\n            return;\n        }\n        let i = 1\n        while (i < fromValue1.length) {\n            if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n                fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i]);\n                toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i]);\n            } else {\n                i++;\n            }\n        }\n\n        i = 0;\n\n        if (fromValue1[0] === STRING_PROP) {\n            fromValue1.shift();\n        }\n        if (toValue1[0] === STRING_PROP) {\n            toValue1.shift();\n        }\n\n        from[prop] = fromValue1;\n        to[prop] = toValue1;\n        return true;\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (Array.isArray(fromValue) && !(fromValue as any).isString) {\n            return fromValue.map((v, i) => decompose(i, obj[prop], fromValue, toValue));\n        } else {\n            for (let prop2 in toValue) {\n                decompose(prop2, obj[prop], fromValue, toValue);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n// Recompose value\nexport const RGB = 'rgb(';\nexport const RGBA = 'rgba(';\n\nexport function isRGBColor(v: any, i: number, r = RGB) {\n    return typeof v[i] === 'number' && (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r);\n}\n\n\n\nexport function recompose(prop: any, obj: any, from: any, to: any, t: any, originalT: any, stringBuffer?: any) {\n    const fromValue = stringBuffer ? from : from[prop]\n    let toValue = stringBuffer ? to : to[prop]\n    if (toValue === undefined) {\n        return fromValue\n    }\n    if (fromValue === undefined || typeof fromValue === 'string' || fromValue === toValue) {\n        return toValue\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (!fromValue || !toValue) {\n            return obj[prop]\n        }\n        if (\n            typeof fromValue === 'object' &&\n            !!fromValue &&\n            fromValue.isString &&\n            toValue &&\n            toValue.splice &&\n            toValue.isString\n        ) {\n            let STRING_BUFFER = ''\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] !== toValue[i] || typeof fromValue[i] !== 'number' || typeof toValue[i] === 'number') {\n                    const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n                    let currentValue =\n                        typeof fromValue[i] !== 'number'\n                            ? fromValue[i]\n                            : isRelative\n                                ? fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n                                : fromValue[i] + (toValue[i] - fromValue[i]) * t\n                    if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n                        currentValue |= 0\n                    }\n                    STRING_BUFFER += currentValue\n                    if (isRelative && originalT === 1) {\n                        fromValue[i] = fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2))\n                    }\n                } else {\n                    STRING_BUFFER += fromValue[i]\n                }\n            }\n            if (!stringBuffer) {\n                obj[prop] = STRING_BUFFER\n            }\n            return STRING_BUFFER\n        } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] === toValue[i] || typeof obj[prop] === 'string') {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n            for (let i in fromValue) {\n                if (fromValue[i] === toValue[i]) {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        }\n    } else if (typeof fromValue === 'number') {\n        const isRelative = typeof toValue === 'string'\n        obj[prop] = isRelative\n            ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n            : fromValue + (toValue - fromValue) * t\n        if (isRelative && originalT === 1) {\n            from[prop] = obj[prop]\n        }\n    } else if (typeof toValue === 'function') {\n        obj[prop] = toValue(t)\n    }\n    return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj: any, property: any) {\n    const value = obj[property]\n    const props = property.replace(replaceBrace, '').split(propRegExp)\n    const propsLastIndex = props.length - 1\n    let lastArr = Array.isArray(obj)\n    let lastObj = typeof obj === 'object' && !lastArr\n    if (lastObj) {\n        obj[property] = null\n        delete obj[property]\n    } else if (lastArr) {\n        obj.splice(property, 1)\n    }\n    return props.reduce((nested: any, prop: any, index: number) => {\n        if (lastArr) {\n            if (prop !== '.' && prop !== '[') {\n                prop *= 1\n            }\n        }\n        let nextProp = props[index + 1]\n        let nextIsArray = nextProp === '['\n        if (prop === '.' || prop === '[') {\n            if (prop === '.') {\n                lastObj = true\n                lastArr = false\n            } else if (prop === '[') {\n                lastObj = false\n                lastArr = true\n            }\n            return nested\n        } else if (nested[prop] === undefined) {\n            if (lastArr || lastObj) {\n                nested[prop] = index === propsLastIndex ? value : lastArr || nextIsArray ? [] : lastObj ? {} : null\n                lastObj = lastArr = false\n                return nested[prop]\n            }\n        } else if (nested[prop] !== undefined) {\n            if (index === propsLastIndex) {\n                nested[prop] = value\n            }\n            return nested[prop]\n        }\n        return nested\n    }, obj)\n}\n\nexport const SET_NESTED = function (nested: any) {\n    if (typeof nested === 'object' && !!nested) {\n        for (let prop in nested) {\n            if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n                propExtract(nested, prop)\n            } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n                let nested2 = nested[prop]\n                for (let prop2 in nested2) {\n                    if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n                        propExtract(nested2, prop2)\n                    } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n                        let nested3 = nested2[prop2]\n                        for (let prop3 in nested3) {\n                            if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                                propExtract(nested3, prop3)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return nested\n}\n","\n/**\n * \n */\nexport const TweenEvent = {\n    /**\n     * \n     */\n    Callback : 'Callback',\n    /**\n     * \n     */\n    update : 'update',\n    /**\n     * \n     */\n    complete : 'complete',\n    /**\n     * \n     */\n    start : 'start',\n    /**\n     * \n     */\n    repeat : 'repeat',\n    /**\n     * \n     */\n    reverse : 'reverse',\n    /**\n     * \n     */\n    pause : 'pause',\n    /**\n     * \n     */\n    play : 'play',\n    /**\n     * \n     */\n    restart : 'restart',\n    /**\n     * \n     */\n    stop : 'stop'\n}","\n/**\n * \n * \n * import InteractionEvent,{Mouse} from \"../interaction/InteractionEvent\",\n */\nexport const TouchMouseEvent = {\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject,over: boolean)=>{}\n     */\n    onHover : \"hover\",\n    /**\n     *  \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject, isPressed: boolean)=>void\n     */\n    onPress : \"press\",\n    /**\n     * \n     */\n    onDown : \"down\",\n    /**\n     * \n     */\n    onUp : \"up\",\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onClick : \"click\",\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onMove : \"move\",\n}\n","//states\n/**  */\nexport const invalidatePropertiesFlag = Symbol(\"invalidatePropertiesFlag\");\n/**  */\nexport const invalidateSizeFlag = Symbol(\"invalidateSizeFlag\");\n/**  */\nexport const invalidateDisplayListFlag = Symbol(\"invalidateDisplayListFlag\");\n\n//Properties\nexport const explicitWidth = Symbol(\"explicitWidth\");\nexport const explicitHeight = Symbol(\"explicitHeight\");\nexport const width = Symbol(\"width\");\nexport const height = Symbol(\"height\");\nexport const minWidth = Symbol(\"minWidth\");\nexport const maxWidth = Symbol(\"maxWidth\");\nexport const minHeight = Symbol(\"minHeight\");\nexport const maxHeight = Symbol(\"maxHeight\");\nexport const percentWidth = Symbol(\"percentWidth\");\nexport const percentHeight = Symbol(\"percentHeight\");\nexport const scaleX = Symbol(\"scaleX\");\nexport const scaleY = Symbol(\"scaleY\");\nexport const x = Symbol(\"x\");\nexport const y = Symbol(\"y\");\nexport const skewX = Symbol(\"skewX\");\nexport const skewY = Symbol(\"skewY\");\nexport const pivotX = Symbol(\"pivotX\");\nexport const pivotY = Symbol(\"pivotY\");\nexport const rotation = Symbol(\"rotation\");\nexport const zIndex = Symbol(\"zIndex\");\nexport const measuredWidth = Symbol(\"measuredWidth\");\nexport const measuredHeight = Symbol(\"measuredHeight\");\nexport const oldPreferWidth = Symbol(\"oldPreferWidth\");\nexport const oldPreferHeight = Symbol(\"oldPreferHeight\");\nexport const oldX = Symbol(\"oldX\");\nexport const oldY = Symbol(\"oldY\");\nexport const oldWidth = Symbol(\"oldWidth\");\nexport const oldHeight = Symbol(\"oldHeight\");\n\n//Styles\nexport const left = Symbol(\"left\");\nexport const right = Symbol(\"right\");\nexport const top = Symbol(\"top\");\nexport const bottom = Symbol(\"bottom\");\nexport const horizontalCenter = Symbol(\"horizontalCenter\");\nexport const verticalCenter = Symbol(\"verticalCenter\");\n\n\n\n\n","import {DisplayObject} from \"../../core/DisplayObject\";\nimport { ClickEvent,InteractionEvent,InputController, TouchMouseEvent, ComponentEvent } from \"../../interaction/Index\";\n\n/**\n * \n */\nexport class InputBase extends DisplayObject{\n    public constructor(){\n        super();\n        //this.container.interactive = true;\n        this.container.interactiveChildren = false;\n\n        this.on(TouchMouseEvent.onMove,this.onMove,this);\n        this.on(TouchMouseEvent.onHover,this.onHover,this);\n        this.on(TouchMouseEvent.onPress,this.onPress,this);\n        this.on(TouchMouseEvent.onClick,this.onClick,this);\n\n    }\n\n    protected clickEvent = new ClickEvent(this,true);;\n    private _currentState: \"up\" | \"move\" | \"down\" | \"disabled\" = \"up\";\n    protected get currentState(): \"up\" | \"move\" | \"down\" | \"disabled\" {\n        return this._currentState;\n    }\n    protected set currentState(value: \"up\" | \"move\" | \"down\" | \"disabled\") {\n        if(this._currentState == value){\n            return;\n        }\n        this._currentState = value;\n        this.emit(ComponentEvent.STATE_CHANGE,this,value);\n    }\n    protected _tabIndex: undefined|number;\n    protected _tabGroup: undefined|string;\n\n    protected _focused = false;\n    protected _useTab = true;\n    protected _usePrev = true;\n    protected _useNext = true;\n    protected _down = false;\n\n    private _clickSound?: string;\n    public get clickSound() {\n        return this._clickSound;\n    }\n    public set clickSound(value) {\n        if(this._clickSound === value){\n            return;\n        }\n        this._clickSound = value;\n    }\n\n    /** \n     * \n     */\n    public up?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public down?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public move?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public disabled?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public upAndSelected?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public downAndSelected?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public moveAndSelected?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public disabledAndSelected?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n\n    protected onMove() {\n\n        if(this._down){\n            return;\n        }\n        this.currentState = \"move\";\n    }\n    \n    //e: InteractionEvent,thisObj: DisplayObject,over: boolean\n    protected onHover(){\n        this.currentState = \"up\";\n       \n    }\n\n    protected onPress(e: InteractionEvent,thisObj: DisplayObject,isPress: boolean){\n        this._down = isPress;  \n        if(isPress){\n            this.focus();\n            this.currentState = \"down\";\n        }else{\n            this.currentState = \"up\";\n        }\n            \n    }\n\n    protected onClick(){\n        if(this._clickSound){\n            this.emit(ComponentEvent.PLAY_AUDIO, {name:this._clickSound,mode:'effect'});\n            console.log(\"aaa\");\n        }\n    }\n\n    protected keyDownEvent (event: WheelEvent|Event) {\n        const e = event as WheelEvent;\n        if (e.which === 9) {\n            if (this._useTab) {\n                InputController.fireTab();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 38) {\n            if (this._usePrev) {\n                InputController.firePrev();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 40) {\n            if (this._useNext) {\n                InputController.fireNext();\n                e.preventDefault();\n            }\n        }\n    }\n\n    protected documentMouseDown(){\n        if (this.currentState!== \"down\"){\n            this.blur();\n        }    \n    }\n\n    private keyDownEventBind: TAny;\n    protected _bindEvents() {\n        if (this.stage) {\n            this.stage.on(\"pointerdown\", this.documentMouseDown,this);\n            this.keyDownEventBind = this.keyDownEvent.bind(this);\n            document.addEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    protected _clearEvents(){\n        if (this.stage) {\n            this.stage.off(\"pointerdown\", this.documentMouseDown,this);\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    public focus(){\n        if (!this._focused) {\n            this._focused = true;\n            this._bindEvents();\n            InputController.set(this);\n            this.emit(\"focusChanged\", true);\n            this.emit(\"focus\");\n        }\n    }\n\n    public blur(){\n        if (this._focused) {\n            InputController.clear();\n            this._focused = false;\n            this._clearEvents();\n            this.emit(\"focusChanged\", false);\n            this.emit(\"blur\");\n\n        }\n    }\n\n    public release() {\n        super.release();\n        this.off(TouchMouseEvent.onMove,this.onMove,this);\n        this.off(TouchMouseEvent.onHover,this.onHover,this);\n        this.off(TouchMouseEvent.onPress,this.onPress,this);\n        this.off(TouchMouseEvent.onClick,this.onClick,this);\n        if(this.keyDownEventBind)\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        if(this.documentMouseDown && this.stage)\n            this.stage.off(\"pointerdown\", this.documentMouseDown,this);\n    }\n\n    public setTabIndex(index: number|undefined,group: string|undefined){\n        this._tabIndex = index;\n        this._tabGroup = group;\n        if(index!==undefined && group!==undefined){\n            InputController.registrer(this,index,group)\n        }\n    }\n}","import { deepCopy, uid } from \"../utils/Utils\";\nimport { Easing } from './Easing';\nimport { Interpolation } from \"./private/Interpolation\";\nimport { add, get, getAll, remove, removeAll, removeDisplay, update, isRunning, isLagSmoothing } from './private/core';\nimport { decompose, recompose, FRAME_MS, TOO_LONG_FRAME_MS } from './private/constants';\nimport { TweenEvent } from '../event/TweenEvent';\n\nconst defaultEasing = Easing.Linear.None;\n/**\n * \n * \n * @example let tween = new gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTween\n */\nexport class Tween extends PIXI.utils.EventEmitter {\n\n    static core = { add, get, getAll, remove, removeAll, removeDisplay, update };\n    static Event = TweenEvent;\n    /**\n     * Easier way to call the Tween\n     * @param {object} object - Initial value\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.fromTo(myObject, {x:0}, {x:200},1000)\n     * @memberof gui.Tween\n     * @static\n     */\n    static fromTo(object: TAny, to: TAny, duration?: number) {\n        const tween = new Tween(object).to(to, duration);\n        return tween;\n    }\n    /**\n     * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n     * @param {TAny} object object\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.to(myObject, {x:200}, 1000)\n     * @memberof gui.Tween\n     * @static\n     */\n    static to(object: TAny | TAny[], to: TAny, duration?: number) {\n        return Tween.fromTo(object, to, duration)\n    }\n    /**\n     * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n     * @param {TAny} object object\n     * @param {object} from - Initial value\n     * @param {object} params - Options of tweens\n     * @example Tween.from(myObject, {x:200}, 1000)\n     * @memberof gui.Tween\n     * @static\n     */\n    static from(object: TAny, from: TAny, duration?: number) {\n        return Tween.fromTo(object, from, duration)\n    }\n    constructor(object?: TAny) {\n        super();\n\n        this.id = uid();\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n        this._interpolationFunction = Interpolation.Linear;\n        return this;\n    }\n\n    public id: number;\n    public object: TAny;\n    private _valuesEnd: TAny = null;\n    private _valuesStart: TAny;\n    protected _duration = 1000;\n    private _easingFunction = defaultEasing;\n    private _easingReverse = defaultEasing;\n    private _interpolationFunction: ((v: TAny, k: number, value: TAny) => TAny) | TAny;\n\n    protected _startTime = 0;\n    protected _delayTime = 0;\n    private _repeat = 0;\n    private _initRepeat = 0;\n    public _isPlaying = false;\n    private _yoyo = false;\n    private _reversed = false;\n\n    private _onStartCallbackFired = false;\n    private _isFinite = true;\n    private _prevTime = 0;\n\n    private _rendered = false;\n    private _reverseDelayTime = 0;\n    /**  */\n    public data: { [key: string]: TAny } = {};\n\n\n    public setObject(object: TAny){\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n    }\n    \n    /**\n     * \n     * @return {boolean} \n     * @example tween.isPlaying()\n     * @memberof gui.Tween\n     */\n    public get isPlaying() {\n        return this._isPlaying;\n    }\n\n    /**\n     * \n     * @return {boolean} \n     * @example tween.isStarted()\n     * @memberof gui.Tween\n     */\n    public get isStarted() {\n        return this._onStartCallbackFired;\n    }\n\n    /**\n     * \n     */\n    public get startTime() {\n        return this._startTime;\n    }\n    /**\n     * \n     */\n    public set startTime(value: number) {\n        this._startTime = value;\n    }\n    /**\n     * \n     * @param {number} amount \n     * @example tween.duration(2000)\n     * @memberof gui.Tween\n     * @deprecated \n     * @private\n     */\n    public set duration(amount: number | Function) {\n        this._duration = typeof amount === 'function' ? amount(this._duration) : amount;\n    }\n    public get duration() {\n        return this._duration;\n    }\n\n    /**\n     * \n     * @example tween.reverse()\n     * @param {boolean=} state \n     * @memberof gui.Tween\n     */\n    public reverse(state?: boolean) {\n        const { _reversed } = this;\n\n        this._reversed = state !== undefined ? state : !_reversed;\n\n        return this;\n    }\n\n    /**\n     * \n     * @return {boolean}\n     * @example tween.reversed() true\n     * @memberof gui.Tween\n     */\n    public reversed() {\n        return this._reversed;\n    }\n\n    /**\n     * \n     * @example tween.pause()\n     * @memberof gui.Tween\n     */\n    public pause() {\n        if (!this._isPlaying) {\n            return this;\n        }\n\n        this._isPlaying = false;\n\n        remove(this);\n\n        return this.emit(TweenEvent.pause, this.object);\n    }\n\n    /**\n     * \n     * @example tween.play()\n     * @memberof gui.Tween\n     */\n    public play() {\n        if (this._isPlaying) {\n            return this;\n        }\n\n        this._isPlaying = true;\n        this._startTime = 0;\n        add(this);\n\n        return this.emit(TweenEvent.play, this.object);\n    }\n\n    /**\n     * \n     * @param {object} properties \n     * @param {number|Object=} [duration=1000] \n     * @example let tween = new gui.Tween({x:0}).to({x:100}, 2000)\n     * @memberof gui.Tween\n     */\n    public to(properties: TAny, duration = 1000) {\n        this._valuesEnd = properties;\n        this._duration = duration;\n        return this;\n    }\n\n\n    private render() {\n        if (this._rendered) {\n            return this;\n        }\n        const { _valuesStart, _valuesEnd, object } = this;\n\n        if (!_valuesStart.processed) {\n            for (const property in _valuesEnd) {\n                const start = object && object[property] && deepCopy(object[property]);\n                _valuesStart[property] = start || 0;\n                decompose(property, object, _valuesStart, _valuesEnd);\n            }\n            _valuesStart.processed = true;\n        }\n\n        this._rendered = true;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {number|string} time \n     * @example tween.start()\n     * @memberof gui.Tween\n     */\n    public start(time?: number) {\n        this._startTime = time !== undefined ? time : 0;\n        this._startTime += this._delayTime;\n        this._prevTime = 0;\n        this._onStartCallbackFired = false;\n        this._rendered = false;\n        this._isPlaying = true;\n        add(this);\n\n        return this;\n    }\n\n    /**\n     * \n     * @example tween.stop()\n     * @memberof gui.Tween\n     */\n    public stop() {\n        const { _isPlaying, _isFinite, object, _duration, _initRepeat, _yoyo, _reversed } = this;\n\n        if (!_isPlaying) {\n            return this;\n        }\n        this._isPlaying = false;\n\n        const atStart = _isFinite ? (_initRepeat + 1) % 2 === 1 : !_reversed;\n\n        this._reversed = false;\n        if (_yoyo && atStart) {\n            this._prevTime = _duration;\n        } else {\n            this._prevTime = 0;\n        }\n        this.update(0);\n        remove(this);\n\n        return this.emit(TweenEvent.stop, object);\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.delay(500)\n     * @memberof gui.Tween\n     */\n    public delay(amount: number) {\n        this._delayTime = amount;\n        return this;\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.repeat(5)\n     * @memberof gui.Tween\n     */\n    public repeat(amount: number) {\n        this._repeat = !this._duration ? 0 : amount;\n        this._initRepeat = this._repeat;\n        this._isFinite = isFinite(amount);\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.reverseDelay(500)\n     * @memberof gui.Tween\n     */\n    public reverseDelay(amount: number) {\n        this._reverseDelayTime = amount;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {boolean} state true\n     * @param {Function=} _easingReverse Easing function \n     * @example tween.yoyo(true)\n     * @memberof gui.Tween\n     */\n    public yoyo(state?: boolean | Function, _easingReverse?: (k: number) => number) {\n        this._yoyo = typeof state === 'function' ? state(this._yoyo) : state === null ? this._yoyo : state;\n        if (!state) {\n            this._reversed = false;\n        }\n        if (_easingReverse) {\n            this._easingReverse = _easingReverse;\n        } else {\n            this._easingReverse = this._easingFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {Function} _easingFunction yoyo\n     * @example tween.easing(Easing.Elastic.InOut)\n     * @memberof gui.Tween\n     */\n    public easing(_easingFunction: ((k: number) => number) | TAny) {\n        this._easingFunction = _easingFunction;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {Function} _interpolationFunction \n     * @example tween.interpolation(Interpolation.Bezier)\n     * @memberof gui.Tween\n     */\n    public interpolation(_interpolationFunction: (v: TAny, k: number, value: TAny) => TAny) {\n        if (typeof _interpolationFunction === 'function') {\n            this._interpolationFunction = _interpolationFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * \n     * @param time \n     */\n    public gotoAndPlay(time: number) {\n        this._prevTime = time;\n        this.update(0);\n    }\n\n    /**\n     * \n     * @param time \n     */\n    public gotoAndStop(time: number) {\n        this._prevTime = time;\n        this.update(0);\n        this.pause();\n    }\n    /**\n     * \n     * @param time \n     */\n    public gotoAndEnd() {\n        this._prevTime = this._duration;\n        this.update(0);\n    }\n\n    /**\n     *  `time` \n    * @param {number=} elapsedMS \n    * @param {Boolean=} preserve \n     * @param {boolean=} forceTime \n     * @example tween.update(100)\n     * @memberof gui.Tween\n     */\n    public update(elapsedMS: number, preserve?: boolean, forceTime?: boolean) {\n\n        const {\n            _onStartCallbackFired,\n            _easingFunction,\n            _easingReverse,\n            _delayTime,\n            _reverseDelayTime,\n            _yoyo,\n            _reversed,\n            _startTime,\n            _duration,\n            _valuesStart,\n            _valuesEnd,\n            object,\n            _isFinite,\n            _isPlaying\n        } = this;\n\n        if (!_isPlaying || (_startTime > 0 && !forceTime)) {\n            this._startTime -= elapsedMS;\n            this._startTime = Math.max(0, this._startTime);\n            return true;\n        }\n\n        let elapsed: number;\n        let property: string;\n        let _repeat = this._repeat;\n        if (!_duration) {\n            elapsed = 1;\n            _repeat = 0;\n        } else {\n\n            this._prevTime += elapsedMS;\n            if (elapsedMS > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n                this._prevTime -= FRAME_MS;\n            }\n\n            elapsed = (this._prevTime) / _duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n            elapsed = _reversed ? 1 - elapsed : elapsed;\n\n        }\n        if (!_onStartCallbackFired) {\n            if (!this._rendered) {\n                this.render();\n                this._rendered = true;\n            }\n\n            this.emit(TweenEvent.start, object);\n\n            this._onStartCallbackFired = true;\n        }\n\n        const currentEasing: TAny = _reversed ? _easingReverse || _easingFunction : _easingFunction;\n\n        for (property in _valuesEnd) {\n            const start = _valuesStart[property]\n            const end = _valuesEnd[property];\n            const value = currentEasing[property] ? currentEasing[property](elapsed) : typeof currentEasing === 'function' ? currentEasing(elapsed) : defaultEasing(elapsed);\n\n            if (typeof end === 'number') {\n                object[property] = start + (end - start) * value;\n            } else if (typeof end === 'boolean') {\n                object[property] = end;\n                elapsed = _reversed ? 0 : 1;\n            } else {//\n                recompose(property, object, _valuesStart, _valuesEnd, value, elapsed);\n            }\n            // else if (Array.isArray(end) && !(end as TAny).isString && !Array.isArray(start)) {\n            //     const _interpolationFunctionCall = _interpolationFunction[property]\n            //     ? _interpolationFunction[property] : typeof _interpolationFunction === 'function' ? _interpolationFunction : Interpolation.Linear;\n            //     object[property] = _interpolationFunctionCall(end, value, object[property]);\n            // } \n        }\n\n        this.emit(TweenEvent.update, object, elapsed, elapsedMS);\n\n        if (elapsed === 1 || (_reversed && elapsed === 0)) {\n            this._prevTime = 0;\n            if (_repeat > 0 && _duration > 0) {\n                if (_isFinite) {\n                    this._repeat--;\n                }\n\n                if (_yoyo) {\n                    this._reversed = !_reversed;\n                }\n\n                this.emit(_yoyo && !_reversed ? TweenEvent.reverse : TweenEvent.repeat, object);\n\n                if (_reversed && _reverseDelayTime) {\n                    this._startTime = _reverseDelayTime;\n                } else {\n                    this._startTime = _delayTime;\n                }\n                return true;\n            } else {\n                if (!preserve) {\n                    this._isPlaying = false;\n                    remove(this);\n                }\n                this.emit(TweenEvent.complete, object);\n                this._repeat = this._initRepeat;\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public release() {\n        this.object = undefined;\n        this.stop();\n    }\n}\n","import {shared as TickerShared} from \"./Ticker\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { DisplayObject } from \"./DisplayObject\";\nimport validatorShared from \"./DisplayLayoutValidator\";\n\n/**\n * UIUI\n *\n * @class \n * @param width {Number} \n * @param height {Number} \n */\nexport class Stage extends DisplayLayoutAbstract{\n\n\n    public constructor(width: number, height: number,app?: PIXI.Application) {\n        super(); \n        this.width = width;\n        this.height = height;\n        this._stageWidth = width;\n        this._stageWidth = height;\n        this.setActualSize(width,height);\n        this.container.name = \"Stage\";\n        this.container.hitArea = new PIXI.Rectangle(0, 0, width, height);\n        this.container.interactive = true;\n        this.container.interactiveChildren = true;\n        this.initialized = true;\n        this.$nestLevel = 1;\n        this.app = app;\n    }\n\n    public app?: PIXI.Application;\n    public _stageWidth = 0;//\n    public _stageHeight = 0;//\n\n    public get stageWidth(){\n        return this._stageWidth;\n    }\n\n    public get stageHeight(){\n        return this._stageHeight;\n    }\n\n    public get scaleX() {\n        return  this.container.scale.x;\n    }\n\n    public set scaleX(value: number) {\n        this.container.scale.x = value;\n        this._stageWidth = value * this.width;\n    }\n\n    public get scaleY() {\n        return this.container.scale.y;\n    }\n\n    public set scaleY(value: number) {\n        this.container.scale.y = value;\n        this._stageHeight = value * this.height;\n    }\n\n    public set Scale(value: PIXI.Point){\n        this.container.scale.copyFrom(value);\n        this._stageWidth = value.x * this.width;\n        this._stageHeight = value.y * this.height;\n    }\n\n    public release(){\n        super.release();\n    }\n\n    public releaseAll(){\n        \n        for(let i=0;i<this.uiChildren.length;i++){\n            const ui = this.uiChildren[i] as DisplayObject;\n            ui.releaseAll();\n        }\n        this.uiChildren = [];\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n        TickerShared.removeAllListeners();\n        validatorShared.removeAllListeners();\n        validatorShared.removeDepthQueueAll();\n    }\n\n \n    public resize(): void {\n        this.container.hitArea = new PIXI.Rectangle(0, 0, this.width, this.height);\n        //this.updateChildren();\n    }\n\n}","import { Tween } from \"../Tween\";\n\n/**\n * \n * @private\n */\nconst _tweens: Tween[] = [];\n/**\n * \n */\nlet isStarted = false;\n/**\n * \n */\nlet emptyFrame = 0;\n/**\n * \n */\nlet powerModeThrottle = 120;\n/**\n * \n */\nlet handleLag = true;\n\n/**\n * \n * @namespace tween.Plugins\n * @memberof gui.tween\n * @example\n * let num = Plugins.num = function (node, start, end) {\n  * return t => start + (end - start) * t\n  * }\n  *\n  * @static\n  */\nexport const Plugins:TAny = {};\n\n/**\n * \n * @param {Tween} tween Tween \n * @memberof gui.tween\n * @example\n * let tween = new gui.tween.Tween({x:0})\n * tween.to({x:200}, 1000)\n * gui.tween.add(tween)\n */\nexport function add(tween: Tween) {\n    let i = _tweens.indexOf(tween);\n\n    if (i > -1) {\n        _tweens.splice(i, 1);\n    }\n\n    _tweens.push(tween);\n\n    emptyFrame = 0;\n\n    isStarted = true;\n}\n\n/**\n * \n * @param {number} frameCount=120 \n * @memberof gui.tween\n * @example\n * gui.tween.FrameThrottle(60)\n */\nexport function FrameThrottle(frameCount = 120) {\n    powerModeThrottle = frameCount * 1.05;\n}\n\n/**\n * canvasdom\n * @param {number} state=true \n * @memberof gui.tween\n * @example\n * gui.tween.ToggleLagSmoothing(false)\n */\nexport function ToggleLagSmoothing(_state = true) {\n    handleLag = _state;\n}\n\n/**\n * \n * @memberof gui.tween\n * gui.tween.getAll() \n */\nexport function getAll() {\n    return _tweens;\n}\n\n/**\n * \n * @example  gui.tween.removeAll()\n * @memberof gui.tween\n */\nexport function removeAll() {\n    _tweens.length = 0;\n    isStarted = false;\n}\n\n/**\n * \n * @param {Tween} tween  \n * @return {Tween} null\n * @memberof gui.tween\n * @example\n * gui.tween.get(tween)\n */\nexport function get(tween: Tween) {\n    for (let i = 0; i < _tweens.length; i++) {\n        if (tween === _tweens[i]) {\n            return _tweens[i];\n        }\n    }\n    return null;\n}\n\nexport function removeDisplay(uuid:string){\n    for (let i = 0; i < _tweens.length; i++) {\n        if (_tweens[i].object.uuid && uuid === _tweens[i].object.uuid) {\n            _tweens[i].stop();\n            remove(_tweens[i]);\n            return;\n        }\n    }\n    return;\n}\n\n/**\n * \n * @param {Tween} tween Tween instance\n * @memberof gui.tween\n * @example\n * gui.tween.remove(tween)\n */\nexport function remove(tween: Tween) {\n    const i = _tweens.indexOf(tween)\n    if (i !== -1) {\n        _tweens.splice(i, 1)\n    }\n    if (_tweens.length === 0) {\n        isStarted = false;\n    }\n}\n\n/**\n * \n * @param {number=} time \n * @param {Boolean=} preserve \n * @memberof gui.tween\n * @example\n * gui.tween.update(500)\n */\n\nexport function update(time:number, preserve = false) {\n    if (!isStarted) {\n        return false;\n    }\n    if (emptyFrame >= powerModeThrottle && handleLag) {\n        console.log(\"mptyFrame >= powerModeThrottle && handleLag\");\n        isStarted = false;\n        emptyFrame = 0;\n        return false;\n    }\n    \n    if (!_tweens.length) {\n        emptyFrame++;\n    }\n\n    let i = 0;\n    let length = _tweens.length;\n    while (i < length) {\n        _tweens[i++].update(time, preserve);\n\n        if (length > _tweens.length) {\n            // The tween has been removed, keep same index\n            i--;\n        }\n\n        length = _tweens.length;\n    }\n\n    return true;\n}\n\n/**\n * \n * @return {Boolean} true\n * @memberof gui.tween\n * @example gui.tween.isRunning()\n */\nexport function isRunning() {\n    return isStarted;\n}\n\n/**\n * \n * @return {Boolean} \n * @memberof gui.tween\n * @example gui.tween.isRunning()\n */\nexport function isLagSmoothing() {\n    return handleLag;\n}","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * \n * @namespace TWEEN.Interpolation\n * @example\n *\n * let bezier = gui.tween.Interpolation.Bezier\n * new gui.tween.Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof gui.tween\n */\nexport const Interpolation = {\n    Linear(v: any, k: number, value: any) {\n        const m = v.length - 1\n        const f = m * k\n        const i = Math.floor(f)\n        const fn = Interpolation.Utils.Linear\n\n        if (k < 0) {\n            return fn(v[0], v[1], f, value)\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f, value)\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n    },\n\n    Bezier(v: any, k: number, value: any) {\n        let b = Interpolation.Utils.Reset(value)\n        let n = v.length - 1\n        let pw = Math.pow\n        let fn = Interpolation.Utils.Bernstein\n\n        let isBArray = Array.isArray(b)\n\n        for (let i = 0; i <= n; i++) {\n            if (typeof b === 'number') {\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n            } else if (isBArray) {\n                for (let p = 0, len = b.length; p < len; p++) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'object') {\n                for (let p in b) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'string') {\n                let STRING_BUFFER = ''\n                let idx = Math.round(n * k)\n                let vCurr = v[idx]\n                for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n                    STRING_BUFFER += vCurr[ks]\n                }\n                return STRING_BUFFER\n            }\n        }\n\n        return b\n    },\n\n    CatmullRom(v: any, k: number, value: any) {\n        const m = v.length - 1\n        let f = m * k\n        let i = Math.floor(f)\n        const fn = Interpolation.Utils.CatmullRom\n\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)))\n            }\n\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value)\n        } else {\n            if (k < 0) {\n                return fn(v[1], v[1], v[0], v[0], -k, value)\n            }\n\n            if (k > 1) {\n                return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n            }\n\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value)\n        }\n    },\n\n    Utils: {\n        Linear(p0: any, p1: any, t: any, v: any) {\n            if (p0 === p1 || typeof p0 === 'string') {\n                // Quick return for performance reason\n                if (p1.length && p1.splice && p1.isString) {\n                    p1 = ''\n                    for (let i = 0, len = p0.length; i < len; i++) {\n                        p1 += p0[i]\n                    }\n                }\n                return p1\n            } else if (typeof p0 === 'number') {\n                return typeof p0 === 'function' ? (p0 as any)(t) : p0 + (p1 - p0) * t\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    const isForceStringProp = typeof p0[0] === 'string' || p0.isString\n                    if (isForceStringProp || p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = isForceStringProp ? 0 : 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                t === 0 ? p0[i] : t === 1 ? p1[i] : typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n                            if ((t > 0 && t < 1 && isRGBColor(p0, i)) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    } else if (v && v.length && v.splice) {\n                        for (let p = 0, len = v.length; p < len; p++) {\n                            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                        }\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        },\n\n        Reset(value: any) {\n            if (Array.isArray(value)) {\n                for (let i = 0, len = value.length; i < len; i++) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'object') {\n                for (let i in value) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'number') {\n                return 0\n            }\n            return value\n        },\n\n        Bernstein(n: any, i: any) {\n            const fc = Interpolation.Utils.Factorial\n\n            return fc(n) / fc(i) / fc(n - i)\n        },\n\n        Factorial: (function () {\n            const a = [1]\n\n            return (n: any) => {\n                let s = 1\n\n                if (a[n]) {\n                    return a[n]\n                }\n\n                for (let i = n; i > 1; i--) {\n                    s *= i\n                }\n\n                a[n] = s\n                return s\n            }\n        })(),\n\n        CatmullRom(p0: any, p1: any, p2: any, p3: any, t: any, v?: any) {\n            if (typeof p0 === 'string') {\n                return p1\n            } else if (typeof p0 === 'number') {\n                const v0 = (p2 - p0) * 0.5\n                const v1 = (p3 - p1) * 0.5\n                const t2 = t * t\n                const t3 = t * t2\n\n                return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    if (p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                typeof p0[i] === 'number' ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t) : p3[i]\n                            if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    }\n                    for (let p = 0, len = v.length; p < len; p++) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        }\n    }\n}\n\n\n","import { shared as tickerShared } from '../core/Ticker'\nimport { objectPoolShared } from '../utils/ObjectPool';\nimport { ComponentEvent } from '../interaction/Index';\nimport { Easing } from './Easing';\n\n/**\n * @private\n */\nclass Node {\n\n    constructor(node?: Node) {\n        this.parent = node;\n    }\n    public parent: Node | undefined;\n    public default = 0;\n    public start: TAny = 0;\n    public end: TAny = 0;\n    public easing: TAny;\n    public duration = 0;\n    public startFrame = 0;\n    public endFrame = 0;\n    public prevTime = 0;\n\n    release() {\n        this.parent = undefined;\n        this.easing = undefined;\n        this.start = 0;\n        this.end = 0;\n        this.duration = 0;\n        this.endFrame = 0;\n        this.prevTime = 0;\n    }\n\n    load() { }\n    destroy() { }\n}\n\n/**\n * \n * \n * @example let timeline = new gui.Timeline();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nexport class Timeline extends PIXI.utils.EventEmitter implements Lifecycle {\n\n    constructor() { super() }\n\n    public id: number = -1;\n    private _object: TAny;\n    private _frames = new Array<Map<string, Node>>();\n    private _frameCount = 0;\n    private _elapsedMS = 16.66; //1000/60\n    private _prevTime = 0;\n    private _isStop = false;\n    private _lastNode = new Map<string, Node>();\n    private _isSetDefault = false;\n    public loop = false;\n\n    public setDefault(object: TAny, _duration: number, fps: number) {\n\n        this._object = object;\n        this._elapsedMS = 1000 / fps;\n        const frameCount = Math.round(_duration / this._elapsedMS);\n        this._frameCount = frameCount;\n        const frames = this._frames;\n        while (frames && frames.length > frameCount) {\n            frames.pop();\n        }\n        let i = frames.length === 0 ? 0 : frames.length;\n        for (i; i <= frameCount; i++) {\n            if (frames[i] === undefined)\n                frames[i] = new Map<string, Node>();\n        }\n        this._isSetDefault = true;\n        return this;\n    }\n    public addProperty(property: string, value: number | string | boolean, endFrame: number, easing?: TAny) {\n        if (endFrame > this._frameCount) {\n            throw \"Error Timeline.addProperty overflow frame\";\n        }\n        const parentNode = this._lastNode.get(property);\n        const node = objectPoolShared.pop(Node);\n        if (parentNode === undefined) {\n            node.parent = undefined;\n        } else {\n            node.parent = parentNode;\n        }\n\n        node.startFrame = node.parent === undefined ? 0 : (node.parent.endFrame + 1);\n        node.end = value;\n        node.start = node.parent === undefined ? (this._object[property] || 0) : node.parent.end;\n        node.default = this._object[property] || 0;\n        if (easing) {\n            node.easing = easing;\n        } else {\n            node.easing = Easing.Linear.None;\n        }\n        node.duration = (endFrame - node.startFrame) * this._elapsedMS;\n        node.endFrame = endFrame;\n\n        this._lastNode.set(property, node);\n\n        for (let i = node.startFrame; i <= endFrame; i++) {\n            this._frames[i].set(property, node);\n        }\n\n        return this;\n    }\n\n    public stop() {\n        this._isStop = true;\n    }\n    public play() {\n        this._isStop = false;\n    }\n    public gotoAndPlay(frame: number) {\n        this.goto(frame, false);\n    }\n\n    public gotoAndStop(frame: number) {\n        this.goto(frame, true);\n    }\n\n    private seekLastNode(value: Node, frame: number) {\n        if (value.parent === undefined) {\n            return value;\n        }\n        if (value.endFrame > frame) {\n            this.seekLastNode(value.parent, frame);\n        }\n        return value;\n    }\n\n    private goto(frame: number, isStop: boolean) {\n\n        const { _lastNode, _frames } = this;\n        _lastNode.forEach((value: Node, key: string) => {\n            const node = this.seekLastNode(value, frame);\n            node.prevTime = node.duration;\n            this.updateobject(key, node);\n        }, this);\n\n        this._prevTime = frame * this._elapsedMS;\n        for (let i = frame; i < _frames.length; i++) {\n            _frames[i].forEach((value: Node, key: string) => {\n                if (i == frame) {\n                    value.prevTime = (frame - value.startFrame) * this._elapsedMS;\n                    this.updateobject(key, value);\n                } else {\n                    value.prevTime = 0;\n                }\n            }, this);\n        }\n\n        this._isStop = isStop;\n        if (!this._isStop) {\n            this.load();\n        }\n    }\n\n    public update(a: number, b?: number, elapsedMS = 0) {\n        if (this._isStop) {\n            return;\n        }\n        let _prevTime = this._prevTime;\n        const { _frames, _frameCount, _elapsedMS } = this;\n        const curFrame = Math.round(_prevTime / _elapsedMS);\n        \n        if (curFrame >= _frameCount) {\n            if(this.loop){\n                this.emit(ComponentEvent.LOOP,this);\n                this.goto(1,false);\n                return;\n            }\n            this._isStop = true;\n            this.emit(ComponentEvent.COMPLETE,this);\n        }\n        if (_frames[curFrame] == undefined) {\n            this._isStop = true;\n            return;\n        }\n        _prevTime += elapsedMS;\n        _frames[curFrame].forEach((value: Node, key: string) => {\n            if (value.start !== value.end) {\n                value.prevTime += elapsedMS;\n                this.updateobject(key, value);\n            }\n        }, this);\n        this._prevTime = _prevTime;\n        return true;\n    }\n\n    public updateobject(key: string, node: Node) {\n\n        let elapsed: number;\n        if (!node.duration) {\n            elapsed = 1;\n        } else {\n\n            elapsed = node.prevTime / node.duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n        }\n\n        const value = node.easing(elapsed);\n        const start = node.start;\n        const end = node.end;\n        if (typeof end === 'number') {\n            switch(key){\n                case \"x\":\n                case \"y\":\n                case \"angle\":\n                    this._object[key] =node.default + Math.floor(start + (end - start) * value);\n                    break;\n                case \"scaleX\":\n                case \"scaleY\":\n                case \"rotation\":\n                    this._object[key] = node.default * Math.floor(start + (end - start) * value);\n                    break;\n                default:\n                    this._object[key] = Math.floor(start + (end - start) * value);\n            }\n            \n        } else if (typeof end === 'boolean') {\n            this._object[key] = end;\n        }\n        if (elapsed === 1) {\n            return true\n        }\n\n        return false;\n    }\n\n\n    public load() {\n        if (!this._isSetDefault) {\n            throw \"Error Timeline.load undefined default\";\n        }\n        tickerShared.removeUpdateEvent(this.update, this)\n        tickerShared.addUpdateEvent(this.update, this);\n    }\n\n\n    release() {\n        tickerShared.removeUpdateEvent(this.update, this);\n        this._frames.forEach(map => {\n            map.forEach((value: Node, ) => {\n                objectPoolShared.push(Node, value);\n            });\n            map.clear();\n        });\n\n        this.id = -1;\n        this._object = undefined;\n        this._frameCount = 0;\n        this._elapsedMS = 16.666666666666; //1000/60\n        this._prevTime = 0;\n        this._isStop = false;\n        this._isSetDefault = false;\n        this.loop = false;\n        this._lastNode.clear();\n    }\n}\n","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\n\n/**\n * \n * \n *  :\n * ```\n *  {InteractionEvent}.DraggableEvent.onDragPress\n *  {InteractionEvent}.DraggableEvent.onDragStart\n *  {InteractionEvent}.DraggableEvent.onDragMove\n *  {InteractionEvent}.DraggableEvent.onDragEnd\n * ```\n *  :\n * ```\n * onPress: ((e: InteractionEvent, isPressed: boolean,dragObj?: DragEvent) => void) | undefined;\n * onDragEnd: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * onDragMove: ((e: InteractionEvent, offset: PIXI.Point,dragObj?: DragEvent) => void) | undefined \n * onDragStart: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * ```\n * \n * @example  `Slider` \n * \n * @since 1.0.0\n */\nexport class DragEvent {\n\n    public constructor(obj: DisplayObject) {\n        this.obj = obj;\n        obj.interactive = true;\n        this.startEvent();\n    }\n\n    private obj: DisplayObject;\n    public  id = 0;\n    private offset = new PIXI.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private bound = false;\n    private start = new PIXI.Point();\n    private mouse = new PIXI.Point();\n    private cancel = false;\n    private dragging = false;\n    private isStop = true;\n    /**\n     * ,XY,XY\n     */\n    public dragRestrictAxis?: \"x\" | \"y\" ;\n\n    public startEvent() {\n\n        if(this.isStop){\n            this.obj.container.on(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n            this.obj.container.on(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n            this.isStop = false;\n        }\n    }\n\n\n    private _onDragStart(e: InteractionEvent) {\n        if(this.obj.dragStopPropagation)\n            e.stopPropagation();\n        this.id = e.data.identifier;\n        this.onDragPress && this.onDragPress.call(this.obj, e, true,this);\n\n        if (!this.bound && this.obj.parent && this.obj.stage) {\n            const stage =  this.obj.stage.container;\n            this.start.copyFrom(e.data.global);\n            stage.on(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n            this.bound = true;\n        }\n\n        e.data.originalEvent.preventDefault();\n    }\n\n    private _onDragMove(e: InteractionEvent) {\n\n        if (e.data.identifier !== this.id) return;\n        this.mouse.copyFrom(e.data.global);\n        this.offset.set(this.mouse.x - this.start.x, this.mouse.y - this.start.y);\n        if (!this.dragging) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (this.movementX === 0 && this.movementY === 0 || Math.max(this.movementX, this.movementY) < this.obj.dragThreshold) \n                return; //thresshold\n            if (this.dragRestrictAxis !== undefined) {\n                this.cancel = false;\n                if (this.dragRestrictAxis == \"x\" && this.movementY > this.movementX) \n                    this.cancel = true;\n                else if (this.dragRestrictAxis == \"y\" && this.movementY <= this.movementX) \n                    this.cancel = true;\n                if (this.cancel) {\n                    this._onDragEnd(e);\n                    return;\n                }\n            }\n            \n            this.onDragStart && this.onDragStart.call(this.obj, e,this);\n            this.dragging = true;\n        }\n        this.onDragMove && this.onDragMove.call(this.obj, e, this.offset,this);\n    }\n\n    private _onDragEnd(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) return; \n        if (this.bound && this.obj.stage) {\n            const stage = this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n            this.dragging = false;\n            this.bound = false;\n            this.onDragEnd && this.onDragEnd.call(this.obj, e,this);\n            this.onDragPress && this.onDragPress.call(this.obj, e, false,this);\n\n        }\n    }\n\n    /**  */\n    public stopEvent() {\n        if (this.bound && this.obj.stage) {      \n            const stage =  this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            this.bound = false;\n        }\n        this.obj.container.off(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n        this.obj.container.off(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n\n        this.isStop = true;\n    }\n\n    public remove(){\n        this.stopEvent();\n        this.onDragPress = undefined;\n        this.onDragEnd = undefined;\n        this.onDragMove = undefined;\n        this.onDragStart = undefined;\n        this.obj.interactive = false;\n    }\n\n    public onDragPress: ((e: InteractionEvent, isPressed: boolean,dragObj?: DragEvent) => void) | undefined;\n    public onDragEnd: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n    public onDragMove: ((e: InteractionEvent, offset: PIXI.Point,dragObj?: DragEvent) => void) | undefined \n    public onDragStart: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { uid } from \"../utils/Utils\";\n\ninterface TWheelEvent extends WheelEvent{\n    /**  */\n    axis: number;\n}\n\n\n\n/**\n * \n * \n *  ():\n * ```\n *  {InteractionEvent}.MouseScroll.xxxxxx.\n * ```\n *  :\n * ```\n * oonMouseScroll: ((e: WheelEvent,delta: PIXI.Point) => void) | undefined\n * ```\n * \n * @example  `Slider` \n * \n * @since 1.0.0\n */\nexport class MouseScrollEvent{\n    /**\n     * \n     * @param obj \n     * @param preventDefault \n     */\n    public constructor(obj: DisplayObject, preventDefault: boolean){\n        this.obj = obj;\n        this.preventDefault = preventDefault;\n        obj.container.interactive = true;\n        this.startEvent();\n    }\n    public  id= 0;\n    private obj: DisplayObject\n    private preventDefault: boolean;\n    private delta = new PIXI.Point();\n    private mouseScrllBind: ((_e: TWheelEvent | Event) => void | undefined) | undefined;\n    private isStop = true;\n\n    public startEvent() {\n        if(this.isStop){\n            this.obj.container.on(TouchMouseEventEnum.mouseover, this._onHover, this);\n            this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            this.isStop = false;\n        }\n\n    }\n\n    private _onMouseScroll(_e: TWheelEvent|Event) {\n        _e\n        const e = _e as TWheelEvent;\n        if (this.preventDefault)\n            e.preventDefault();\n\n        if (typeof e.deltaX !== \"undefined\")\n            this.delta.set(e.deltaX, e.deltaY);\n        else //Firefox{}\n            this.delta.set(e.axis == 1 ? e.detail * 60 : 0, e.axis == 2 ? e.detail * 60 : 0);\n\n        this.onMouseScroll && this.onMouseScroll.call(this.obj, e, this.delta);\n    }\n    //e?: interaction.InteractionEvent\n\n    private _onHover() {\n        if (this.mouseScrllBind === undefined) {\n            this.id = uid();\n            this.mouseScrllBind = this._onMouseScroll.bind(this);\n            document.addEventListener(\"mousewheel\", this.mouseScrllBind, { passive: false });\n            document.addEventListener(\"DOMMouseScroll\", this.mouseScrllBind, { passive: false });\n        }\n    }\n    //e?: interaction.InteractionEvent\n    private _onMouseOut() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n    }\n\n    public stopEvent() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n        this.obj.container.removeListener('mouseover',this. _onHover,this);\n        this.obj.container.removeListener('mouseout', this._onMouseOut,this);\n        this.isStop = true;\n    }\n\n    public remove(){\n        this.stopEvent();\n    }\n\n    public onMouseScroll: ((e: WheelEvent,delta: PIXI.Point) => void) | undefined\n}","\nconst tempLocal = new PIXI.Point(0,0);\n/**\n * \n * \n *   -> TouchEventEnum.TouchEnum\n * \n * import InteractionEvent from \"../interaction/InteractionEvent\",\n */\nexport class InteractionEvent extends PIXI.interaction.InteractionEvent {\n    public constructor() {\n        super();\n        this.local = tempLocal;\n    }\n\n    public local:PIXI.Point;\n}\n","/**\n * ,UI\n * 1. CheckBox  checked \n * 2. Label  text \n * 3. SpriteAnimated  animationName \n * 4. Button \n * 5. ScrollingContainer \n * 6. Slider \n * 7. SpriteAnimated \n * 8. ConnectLine \n */\nexport const CHANGE = \"CHANGE\";\n\n/**\n * \n * \n * slider \n */\nexport const CHANGEING = \"CHANGEING\";\n\n/**\n * \n * \n * 1. SpriteAnimated (loop = false)\n * 2. Image \n * 3. Slider \n * 4. Timeline  (loop = false)\n * 5. FollowLine \n */\nexport const COMPLETE = \"COMPLETE\";\n\n/**\n * \n */\nexport const STATE_CHANGE= \"STATE_CHANGE\";\n\n/**\n * \n * \n * SpriteAnimated (loop = true)\n */\nexport const LOOP = \"LOOP\";\n\n/**\n * \n */\nexport const ADD = \"add\";\n/**\n * \n */\nexport const ADDED = \"added\";\n\n/**\n * \n */\nexport const REMOVEED = \"removed\";\n/**\n * \n */\nexport const RESIZE = \"RESIZE\";\n/**\n * \n */\nexport const MOVE = \"MOVE\";\n/**\n * \n */\nexport const CREATION_COMPLETE = \"CREATION_COMPLETE\";\n\n\n/**\n * \n */\nexport const DRAG_START_BEFORE = \"DRAG_START_BEFORE\";\n/**\n * \n */\nexport const DRAG_START = \"DRAG_START\";\n\n/**\n * \n */\nexport const DRAG_END_BEFORE = \"DRAG_END_BEFORE\";\n/**\n *  \n */\nexport const DRAG_END = \"DRAG_END\";\n/**\n * \n */\nexport const DRAG_MOVE = \"DRAG_MOVE\";\n\n/**\n * \n */\nexport const DRAG_TARGET_BEFORE = \"DRAG_TARGET_BEFORE\";\n/**\n * \n */\nexport const DRAG_TARGET = \"DRAG_TARGET\";\n\n/**\n * \n */\nexport const DROP_TARGET = \"DROP_TARGET\";\n\n/**\n *  {name,mode}\n */\nexport const PLAY_AUDIO = \"PLAY_AUDIO\";\n\n","import * as UIKeys from \"./DisplayLayoutKeys\";\nimport validatorShared from \"./DisplayLayoutValidator\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { DisplayObjectAbstract } from \"./DisplayObjectAbstract\";\n\nexport const $tempLocalBounds = new PIXI.Rectangle();\n/**\n * UI \n */\nexport class DisplayLayoutAbstract extends DisplayObjectAbstract {\n\n    public constructor() {\n        super()\n        this.initializeUIValues();\n    }\n\n    public isContainer = false;\n\n    /**\n     * @private\n     */\n    public $values: TAny = {};\n\n    public includeInLayout = true;\n    /**\n     * @private\n     * \n     */\n    protected initializeUIValues(): void {\n        this.$values = {\n            [UIKeys.invalidatePropertiesFlag]: true,\n            [UIKeys.invalidateSizeFlag]: true,\n            [UIKeys.invalidateDisplayListFlag]: true,\n            [UIKeys.left]: NaN,\n            [UIKeys.right]: NaN,\n            [UIKeys.top]: NaN,\n            [UIKeys.bottom]: NaN,\n            [UIKeys.horizontalCenter]: NaN,\n            [UIKeys.verticalCenter]: NaN,\n            [UIKeys.percentWidth]: NaN,\n            [UIKeys.percentHeight]: NaN,\n            [UIKeys.explicitWidth]: NaN,\n            [UIKeys.explicitHeight]: NaN,\n            [UIKeys.width]: 0,\n            [UIKeys.height]: 0,\n            [UIKeys.minWidth]: 0,\n            [UIKeys.maxWidth]: 100000,\n            [UIKeys.minHeight]: 0,\n            [UIKeys.maxHeight]: 100000,\n            [UIKeys.measuredWidth]: 0,\n            [UIKeys.measuredHeight]: 0,\n            [UIKeys.oldPreferWidth]: NaN,\n            [UIKeys.oldPreferHeight]: NaN,\n            [UIKeys.x]: 0,\n            [UIKeys.y]: 0,\n            [UIKeys.oldX]: 0,\n            [UIKeys.oldY]: 0,\n            [UIKeys.oldWidth]: 0,\n            [UIKeys.oldHeight]: 0,\n            [UIKeys.scaleX]: 1,\n            [UIKeys.scaleY]: 1,\n            [UIKeys.pivotX]: 0,\n            [UIKeys.pivotY]: 0,\n            [UIKeys.rotation]: 0,\n            [UIKeys.skewX]: 0,\n            [UIKeys.skewY]: 0,\n            [UIKeys.zIndex]: NaN, \n        };\n    }\n\n    /**\n     * @private\n     * \n     */\n    protected checkInvalidateFlag(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            validatorShared.invalidateProperties(this);\n        }\n        if (values[UIKeys.invalidateSizeFlag]) {\n            validatorShared.invalidateSize(this);\n        }\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            validatorShared.invalidateDisplayList(this);\n        }\n        this.validateSize();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateProperties(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            this.commitProperties();\n            values[UIKeys.invalidatePropertiesFlag] = false;\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateSize(recursive?: boolean): void {\n\n        if (recursive) {\n            const children = this.uiChildren;\n            if (children) {\n                const length = children.length;\n                for (let i = 0; i < length; i++) {\n                    const child = children[i] as DisplayLayoutAbstract;\n                    child.validateSize(true);\n                }\n            }\n        }\n        const values = this.$values;\n        if (values[UIKeys.invalidateSizeFlag]) {\n            const changed = this.measureSizes();\n            if (changed) {\n                this.invalidateDisplayList();\n                this.invalidateParentLayout();\n            }\n            if(this.parent == undefined){\n                return;\n            }\n            values[UIKeys.invalidateSizeFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    public validateDisplayList(): void {\n        if(this.parent == undefined){\n            return;\n        }\n        const values = this.$values;\n\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            this.updateSize();\n            this.updateDisplayList(values[UIKeys.width], values[UIKeys.height]);\n            values[UIKeys.invalidateDisplayListFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * invalidateProperties()\n     */\n    protected commitProperties(): void {\n        //\n    }\n    /**\n     * @private\n     * \n     */\n    protected measure(): void {\n        this.container.getLocalBounds($tempLocalBounds);\n        this.setMeasuredSize($tempLocalBounds.width,$tempLocalBounds.height);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private measureSizes(): boolean {\n        let changed = false;\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag])\n            return changed;\n\n        this.measure();\n        const parentWidth = this.parent?this.parent.width:1;\n        const parentHeight = this.parent?this.parent.height:1;\n        const maxWidth = formatRelative(values[UIKeys.maxWidth],parentWidth);\n        const maxHeight = formatRelative(values[UIKeys.maxHeight],parentHeight);\n        const minWidth = formatRelative(values[UIKeys.minWidth],parentWidth);\n        const minHeight = formatRelative(values[UIKeys.minHeight],parentHeight);\n\n        \n\n        //\n        if (isNaN(values[UIKeys.explicitWidth]) || isNaN(values[UIKeys.explicitHeight])) {\n\n            if(!isNaN(values[UIKeys.percentWidth])){\n                values[UIKeys.measuredWidth] =Math.ceil(values[UIKeys.percentWidth]*parentWidth);\n            }\n            if(!isNaN(values[UIKeys.percentHeight])){\n                values[UIKeys.measuredHeight] = Math.ceil(values[UIKeys.percentHeight]*parentHeight);\n            }\n \n            if (values[UIKeys.measuredWidth] < minWidth) {\n                values[UIKeys.measuredWidth] = minWidth;\n            }\n            if (values[UIKeys.measuredWidth] > maxWidth) {\n                values[UIKeys.measuredWidth] = maxWidth;\n            }\n            if (values[UIKeys.measuredHeight] < minHeight) {\n                values[UIKeys.measuredHeight] = minHeight;\n            }\n            if (values[UIKeys.measuredHeight] > maxHeight) {\n                values[UIKeys.measuredHeight] = maxHeight\n            }\n        }else{\n            if (values[UIKeys.explicitWidth] < minWidth) {\n                values[UIKeys.explicitWidth] = minWidth;\n            }\n            if (values[UIKeys.explicitWidth] > maxWidth) {\n                values[UIKeys.explicitWidth] = maxWidth;\n            }\n            if (values[UIKeys.explicitHeight] < minHeight) {\n                values[UIKeys.explicitHeight] = minHeight;\n            }\n            if (values[UIKeys.explicitHeight] > maxHeight) {\n                values[UIKeys.explicitHeight] = maxHeight\n            }\n        }\n        const preferredW = this.getPreferredUWidth();\n        const preferredH = this.getPreferredUHeight();\n        if (preferredW !== values[UIKeys.oldPreferWidth] ||\n            preferredH !== values[UIKeys.oldPreferHeight]) {\n            values[UIKeys.oldPreferWidth] = preferredW;\n            values[UIKeys.oldPreferHeight] = preferredH;\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * @private\n     * \n     * @param width \n     * @param height \n     */\n    public setMeasuredSize(width: number, height: number): void {\n        const values = this.$values;\n        values[UIKeys.measuredWidth] = Math.ceil(+width || 0);\n        values[UIKeys.measuredHeight] = Math.ceil(+height || 0);\n    }\n    /**\n     * @private\n     *\n     * @returns\n     */\n    protected getPreferredUWidth(): number {\n        const values = this.$values;\n        return isNaN(values[UIKeys.explicitWidth]) ?\n            values[UIKeys.measuredWidth] : values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     */\n    protected getPreferredUHeight(): number {\n        const values = this.$values;\n        return isNaN(values[UIKeys.explicitHeight]) ?\n            values[UIKeys.measuredHeight] : values[UIKeys.explicitHeight];\n    }\n    /**\n     * @private\n     * ,measure()\n     * > \n     */\n    public getPreferredBounds(bounds: PIXI.Rectangle) {\n        this.measureSizes();\n        bounds.width = this.getPreferredUWidth();\n        bounds.height = this.getPreferredUHeight();\n        bounds.x = this.$values[UIKeys.x];\n        bounds.y = this.$values[UIKeys.y];\n        return bounds;\n    }\n\n    /**\n    * @private\n    *  commitProperties() \n    *\n    * \n    * <p/>\n    *\n    *  commitProperties() \n     */\n    public invalidateProperties(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidatePropertiesFlag]) {\n            values[UIKeys.invalidatePropertiesFlag] = true;\n            validatorShared.invalidateProperties(this);\n\n        }\n    }\n\n    /**\n    * @private\n    *  measure(),updatesize() \n    */\n    public invalidateSize(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag]) {\n            values[UIKeys.invalidateSizeFlag] = true;\n            validatorShared.invalidateSize(this);\n        }\n    }\n    /**\n    * @private\n    *  updateDisplayList() \n    */\n    public invalidateDisplayList(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateDisplayListFlag]) {\n            values[UIKeys.invalidateDisplayListFlag] = true;\n            validatorShared.invalidateDisplayList(this);\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    protected invalidateParentLayout(): void {\n        const parent = this.parent;\n        if (!parent){\n            return;\n        } \n        if (parent instanceof DisplayLayoutAbstract) {\n            parent.invalidateSize();\n            parent.invalidateDisplayList();\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    public setPosition(x: number, y: number): void {\n        const values = this.$values;\n        values[UIKeys.x] = x;\n        values[UIKeys.y] = y;\n        this.updateTransform(); \n        this.emit(ComponentEvent.MOVE,this);\n        \n    }\n    \n    /**\n     * @private\n     * width,height\n     * \n     */\n    public setActualSize(w: number, h: number): void {\n        let change = false;\n        const values = this.$values;\n               \n        if (values[UIKeys.width] !== w) {\n            values[UIKeys.oldWidth] = values[UIKeys.width] ;\n            values[UIKeys.width] = w;\n            change = true;\n        }\n        if (values[UIKeys.height] !== h) {\n            values[UIKeys.oldHeight] = values[UIKeys.height] ;\n            values[UIKeys.height] = h;\n            change = true;\n        }\n\n        if (change) {\n            this.invalidateDisplayList();\n            this.emit(ComponentEvent.RESIZE, this);\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    private updateSize(): void {\n        let unscaledWidth = 0;\n        let unscaledHeight = 0;\n        const values = this.$values;\n\n        if (!isNaN(values[UIKeys.explicitWidth])) {\n            unscaledWidth = values[UIKeys.explicitWidth];\n        }\n        else if(!isNaN(values[UIKeys.measuredWidth])){\n            unscaledWidth = values[UIKeys.measuredWidth];\n        }\n\n        if (!isNaN(values[UIKeys.explicitHeight])) {\n            unscaledHeight = values[UIKeys.explicitHeight];\n        }\n        else if (!isNaN(values[UIKeys.measuredHeight])){\n            unscaledHeight = values[UIKeys.measuredHeight];\n        }\n\n        this.setActualSize(unscaledWidth,unscaledHeight);\n    }\n\n    public updateTransform(){\n        this.container.setTransform(this.x + this.pivotX,this.y + this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY);\n    }\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        //\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateNow(): void {\n        if (this.parent)\n            validatorShared.validateClient(this);\n    }\n\n    /**\n     * @private\n    * \n    *\n    * <p/>\n    *\n    *  width \n    *  width \n     */\n    public validateSizeNow(): void {\n        this.validateSize(true);\n        this.updateSize();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get left(): TAny {\n        return this.$values[UIKeys.left];\n    }\n\n    public set left(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n\n        const values = this.$values;\n        if (values[UIKeys.left] === value)\n            return;\n        values[UIKeys.left] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get right(): TAny {\n        return this.$values[UIKeys.right];\n    }\n\n    public set right(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.right] === value)\n            return;\n        values[UIKeys.right] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get top(): TAny {\n        return this.$values[UIKeys.top];\n    }\n\n    public set top(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.top] === value)\n            return;\n        values[UIKeys.top] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get bottom(): TAny {\n        return this.$values[UIKeys.bottom];\n    }\n\n    public set bottom(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.bottom] == value)\n            return;\n        values[UIKeys.bottom] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * \n     */\n    public get horizontalCenter(): TAny {\n        return this.$values[UIKeys.horizontalCenter];\n    }\n\n    public set horizontalCenter(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.horizontalCenter] === value)\n            return;\n        values[UIKeys.horizontalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get verticalCenter(): TAny {\n        return this.$values[UIKeys.verticalCenter];\n    }\n\n    public set verticalCenter(value: TAny) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.verticalCenter] === value)\n            return;\n        values[UIKeys.verticalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * \n     */\n    public get percentWidth(): number {\n        return this.$values[UIKeys.percentWidth];\n    }\n\n    public set percentWidth(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentWidth] === value)\n            return;\n        values[UIKeys.percentWidth] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get percentHeight(): number {\n        return this.$values[UIKeys.percentHeight];\n    }\n\n    public set percentHeight(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentHeight] === value)\n            return;\n        values[UIKeys.percentHeight] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get explicitWidth(): number {\n        return this.$values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get explicitHeight(): number {\n        return this.$values[UIKeys.explicitHeight];\n    }\n\n    public get _width(): number {\n        return this.$values[UIKeys.explicitWidth];\n    }\n    public get _height(): number {\n        return this.$values[UIKeys.explicitHeight];\n    }\n\n    /**\n     * @private\n     * undefinedmeasure()\n     */\n    public get width(): number {\n        //this.measureSizes();//\n        return this.getPreferredUWidth();\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set width(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.width] === value && values[UIKeys.explicitWidth] === value)\n            return;\n        values[UIKeys.explicitWidth] = value;\n        if ( isNaN(value))\n            this.invalidateSize();\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * ,NaN,NaNmeasure()\n     */\n    public get height(): number {\n        //this.validateSizeNow();\n        //this.measureSizes();//\n        return this.getPreferredUHeight();\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set height(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.height] === value && values[UIKeys.explicitHeight] === value)\n            return;\n        values[UIKeys.explicitHeight] = value;\n        if (isNaN(value))\n            this.invalidateSize();\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * ,maxWidth\n     */\n    public get minWidth(): number {\n        return this.$values[UIKeys.minWidth];\n    }\n\n    public set minWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minWidth] === value) {\n            return;\n        }\n        values[UIKeys.minWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get maxWidth(): number {\n        return this.$values[UIKeys.maxWidth];\n    }\n\n    public set maxWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxWidth] === value) {\n            return;\n        }\n        values[UIKeys.maxWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * ,maxHeight\n     */\n    public get minHeight(): number {\n        return this.$values[UIKeys.minHeight];\n    }\n\n    public set minHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minHeight] === value) {\n            return;\n        }\n        values[UIKeys.minHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * ,\n     */\n    public get maxHeight(): number {\n        return this.$values[UIKeys.maxHeight];\n    }\n\n    public set maxHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxHeight] === value) {\n            return;\n        }\n        values[UIKeys.maxHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    public get scaleX() {\n        return this.$values[UIKeys.scaleX];\n    }\n\n    public set scaleX(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.scaleX] === value) {\n            return;\n        }\n        if (value !== this.container.scale.x) {\n            values[UIKeys.scaleX] = value;\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList();\n            this.invalidateParentLayout();\n        }\n    }\n\n    public get scaleY() {\n        return this.$values[UIKeys.scaleY];\n    }\n\n    public set scaleY(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.scaleY] === value) {\n            return;\n        }\n        if (value !== this.container.scale.y) {\n            values[UIKeys.scaleY] = value;\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList();\n            this.invalidateParentLayout();\n        }\n    }\n\n\n    public get x() {\n        return this.$values[UIKeys.x];\n    }\n    public set x(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.x] === value) {\n            return;\n        }\n        values[UIKeys.x] = value;\n        if (this.container.x !== value) {\n            this.container.x = value;\n            this.invalidateParentLayout();\n        }\n    }\n\n    public get y() {\n        return this.$values[UIKeys.y];\n    }\n\n    public set y(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.y] === value) {\n            return;\n        }\n        values[UIKeys.y] = value;\n        if (value !== this.container.y) {\n            this.container.y = value;\n            this.invalidateParentLayout();\n        }\n    }\n\n\n    public get skewX() {\n        return this.$values[UIKeys.skewX];\n    }\n    public set skewX(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.skewX] === value) {\n            return;\n        }\n        values[UIKeys.skewX] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get skewY() {\n        return this.$values[UIKeys.skewY];\n    }\n    public set skewY(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.skewY] === value) {\n            return;\n        }\n        values[UIKeys.skewY] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get pivotX() {\n        return this.$values[UIKeys.pivotX];\n    }\n    public set pivotX(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.pivotX] === value) {\n            return;\n        }\n        values[UIKeys.pivotX] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get pivotY() {\n        return this.$values[UIKeys.pivotY];\n    }\n    public set pivotY(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.pivotY] === value) {\n            return;\n        }\n        values[UIKeys.pivotY] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get rotation() {\n        return this.$values[UIKeys.rotation];\n    }\n    public set rotation(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.rotation] === value) {\n            return;\n        }\n        values[UIKeys.rotation] = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     *  ==  \n     */\n    public get zIndex(){\n        return this.$values[UIKeys.zIndex];\n    }\n    public set zIndex(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.zIndex] === value) {\n            return;\n        }\n        values[UIKeys.zIndex] = value;\n        this.invalidateParentLayout();\n    }\n\n\n}","import { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport tickerShared  from \"./Ticker\";\n\n/**\n * @private\n * \n */\nclass DepthBin {\n    public map: { [key: number]: boolean } = {};\n    public items: DisplayLayoutAbstract[] = [];\n    public length: number = 0;\n\n    public insert(client: DisplayLayoutAbstract): void {\n        const hashCode = client.uuid;\n        if (this.map[hashCode]) {\n            return;\n        }\n        this.map[hashCode] = true;\n        this.length++;\n        this.items.push(client);\n    }\n\n    public pop() {\n        const client = this.items.pop();//popshift\n        if (client) {\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//key\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n        return client;\n    }\n\n    public remove(client: DisplayLayoutAbstract): void {\n        const index = this.items.indexOf(client);\n        if (index >= 0) {\n            this.items.splice(index, 1);\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//key\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n    }\n}\n/**\n * @private\n * \n */\nclass DepthQueue {\n    /**\n     * \n     */\n    private depthBins: { [key: number]: DepthBin } = {};\n\n    /**\n     * \n     */\n    private minDepth: number = 0;\n\n    /**\n     * \n     */\n    private maxDepth: number = -1;\n\n    /** \n     * \n     */\n    public removeAll(){\n        let depthBins = this.depthBins;\n        for(let key in depthBins){\n            let item:DepthBin = depthBins[key];\n            item.items = [];\n            item.map = {};\n            item.length = 0;\n        }\n        this.minDepth = 0;\n        this.maxDepth = -1;\n    }\n\n    /**\n     * \n     */\n    public insert(client: DisplayLayoutAbstract): void {\n        const depth = client.$nestLevel;\n        if (this.maxDepth < this.minDepth) {\n            this.minDepth = this.maxDepth = depth;\n        }\n        else {\n            if (depth < this.minDepth)\n                this.minDepth = depth;\n            if (depth > this.maxDepth)\n                this.maxDepth = depth;\n        }\n\n        let bin = this.depthBins[depth];\n\n        if (!bin) {\n            bin = this.depthBins[depth] = new DepthBin();\n        }\n        bin.insert(client);\n    }\n\n    /**\n     * \n     */\n    public pop(){\n        let client: DisplayLayoutAbstract|undefined;\n\n        const minDepth = this.minDepth;\n        if (minDepth <= this.maxDepth) {\n            let bin = this.depthBins[this.maxDepth];\n            while (!bin || bin.length === 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    return undefined;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    break;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n        }\n\n        return client;\n    }\n\n    /**\n     * \n     */\n    public shift() {\n        let client: DisplayLayoutAbstract|undefined;\n\n        const maxDepth = this.maxDepth;\n        if (this.minDepth <= maxDepth) {\n            let bin = this.depthBins[this.minDepth];\n            while (!bin || bin.length === 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    return undefined;\n                bin = this.depthBins[this.minDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    break;\n                bin = this.depthBins[this.minDepth];\n            }\n        }\n\n        return client;\n    }\n\n    /**\n     * \n     */\n    public removeLargestChild(client: DisplayLayoutAbstract) {\n        const hashCode = client.uuid;\n        const nestLevel = client.$nestLevel;\n        let max = this.maxDepth;\n        const min = nestLevel;\n\n        while (min <= max) {\n            const bin = this.depthBins[max];\n            if (bin && bin.length > 0) {\n                if (max === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }else if((client as TAny)[\"isContainer\"]) {\n\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as TAny;\n                        if ((client as TAny).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n                max--;\n            }\n            else {\n                if (max == this.maxDepth) {\n                    this.maxDepth--;\n                }\n                max--;\n                if (max < min)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * \n     */\n    public removeSmallestChild(client: DisplayLayoutAbstract) {\n        const nestLevel = client.$nestLevel;\n        let min = nestLevel;\n        const max = this.maxDepth;\n        const hashCode = client.uuid;\n        while (min <= max) {\n            const bin = this.depthBins[min];\n            if (bin && bin.length > 0) {\n                if (min === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }\n                else if ((client as TAny)[\"isContainer\"]) {\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as TAny;\n                        if ((client as TAny).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n\n                min++;\n            }\n            else {\n                if (min == this.minDepth)\n                    this.minDepth++;\n                min++;\n                if (min > max)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * \n     */\n    public isEmpty(): boolean {\n        return this.minDepth > this.maxDepth;\n    }\n}\n\n\n\n/**\n * @private\n * \n */\nclass UIValidator extends PIXI.utils.EventEmitter {\n    /**\n     * @private\n     * Validator\n     */\n    public constructor() {\n        super();\n        \n    }\n\n    /**\n     * @private\n     */\n    private targetLevel = Infinity;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientPropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateProperties(target: DisplayLayoutAbstract): void {\n        if (!this.invalidatePropertiesFlag) {\n            this.invalidatePropertiesFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientPropertiesFlag = true;\n        this.invalidatePropertiesQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateProperties(): void {\n        const queue = this.invalidatePropertiesQueue;\n        let target = queue.shift();\n        while (target) {\n            if (target.parent) {\n                target.validateProperties();\n            }\n            target = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidatePropertiesFlag = false;\n    }\n\n    /**\n     * @private\n     */\n    private invalidateSizeFlag: boolean = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientSizeFlag: boolean = false;\n\n    /**\n     * @private\n     */\n    private invalidateSizeQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateSize(target: DisplayLayoutAbstract): void {\n        if (!this.invalidateSizeFlag) {\n            this.invalidateSizeFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientSizeFlag = true;\n        this.invalidateSizeQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateSize(): void {\n        const queue = this.invalidateSizeQueue;\n        let target = queue.pop();\n        while (target) {\n            if (target.parent) {\n                target.validateSize();\n            }\n            target = queue.pop();\n        }\n        if (queue.isEmpty())\n            this.invalidateSizeFlag = false;\n    }\n\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListFlag: boolean = false;\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateDisplayList(client: DisplayLayoutAbstract): void {\n        if (!this.invalidateDisplayListFlag) {\n            this.invalidateDisplayListFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        this.invalidateDisplayListQueue.insert(client);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateDisplayList(): void {\n        const queue = this.invalidateDisplayListQueue;\n        let client = queue.shift();\n        while (client) {\n            if (client.parent) {\n                client.validateDisplayList();\n            }\n            client = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidateDisplayListFlag = false;\n    }\n\n    /**\n     * @private\n     * \n     */\n    private listenersAttached: boolean = false;\n\n    /**\n     * @private\n     * \n     */\n    private attachListeners(): void {\n        tickerShared.addUpdateEvent(this.doPhasedInstantiationCallBack,this);\n        this.listenersAttached = true;\n    }\n\n    /**\n     * @private\n     * \n     */\n    private doPhasedInstantiationCallBack(): void {\n        tickerShared.removeUpdateEvent(this.doPhasedInstantiationCallBack,this);\n        this.doPhasedInstantiation();\n    }\n\n    /**\n     * @private\n     */\n    private doPhasedInstantiation(): void {\n        if (this.invalidatePropertiesFlag) {\n            this.validateProperties();\n        }\n        if (this.invalidateSizeFlag) {\n            this.validateSize();\n        }\n\n        if (this.invalidateDisplayListFlag) {\n            this.validateDisplayList();\n        }\n\n        if (this.invalidatePropertiesFlag ||\n            this.invalidateSizeFlag ||\n            this.invalidateDisplayListFlag) {\n            this.attachListeners();\n        }\n        else {\n            this.listenersAttached = false;\n        }\n    }\n\n    /**\n     * @private\n     * \n     * @param target \n     */\n    public validateClient(target: DisplayLayoutAbstract): void {\n\n        let obj: DisplayLayoutAbstract|undefined;\n        let done = false;\n        const oldTargetLevel = this.targetLevel;\n\n        if (this.targetLevel === Infinity)\n            this.targetLevel = target.$nestLevel;\n\n        const propertiesQueue = this.invalidatePropertiesQueue;\n        const sizeQueue = this.invalidateSizeQueue;\n        const displayListQueue = this.invalidateDisplayListQueue;\n        while (!done) {\n            done = true;\n\n            obj = propertiesQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateProperties();\n                }\n                obj = propertiesQueue.removeSmallestChild(target);\n            }\n\n            if (propertiesQueue.isEmpty()) {\n                this.invalidatePropertiesFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n\n            obj = sizeQueue.removeLargestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateSize();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = (propertiesQueue.removeSmallestChild(target));\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = sizeQueue.removeLargestChild(target);\n            }\n\n            if (sizeQueue.isEmpty()) {\n                this.invalidateSizeFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n            this.invalidateClientSizeFlag = false;\n\n            obj = displayListQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateDisplayList();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = propertiesQueue.removeSmallestChild(target);\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                if (this.invalidateClientSizeFlag) {\n                    obj = sizeQueue.removeLargestChild(target);\n                    if (obj) {\n                        sizeQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = displayListQueue.removeSmallestChild(target);\n            }\n\n\n            if (displayListQueue.isEmpty()) {\n                this.invalidateDisplayListFlag = false;\n            }\n        }\n\n        if (oldTargetLevel === Infinity) {\n            this.targetLevel = Infinity;\n        }\n    }\n\n\n    public removeDepthQueueAll(){\n        this.invalidatePropertiesQueue.removeAll();\n        this.invalidateDisplayListQueue.removeAll();\n        this.invalidateSizeQueue.removeAll();\n        this.doPhasedInstantiation();\n    }\n\n}\n\n\nconst validatorShared = new UIValidator();\n\nexport default validatorShared;","import { ContainerBase } from \"./ContainerBase\";\nimport { Stage } from \"./Stage\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { uid, getStage } from \"../utils/Utils\";\nimport { DisplayObject } from \"./DisplayObject\";\n\n/**\n * \n */\nexport class DisplayObjectAbstract extends PIXI.utils.EventEmitter implements LifecycleHook,Lifecycle {\n\n    public constructor() {\n        super();\n        this.uuid = uid();\n        this.container = new ContainerBase();\n        this.container.on(\"added\",this.$onAddStage,this);\n        this.container.on(\"removed\",this.$onRemoveStage,this);\n    }\n    /**\n     * ID\n     */\n    public readonly uuid: number;\n    /**\n     * \n     */\n    public name = \"\";\n    /**\n     * @private\n     * 1230.\n     */\n    public $nestLevel = 0;\n    /** \n     *  \n     * @default\n     */\n    public initialized = false;\n    /** \n     * \n     */\n    public $stage?: Stage;\n    /** \n     *  \n     */\n    public parent: DisplayObject | Stage | undefined;\n    /**\n     * \n     */\n    public uiChildren: DisplayObjectAbstract[] = [];\n\n    /**  */\n    public container: ContainerBase;\n    \n    /** Core */\n    public addChild<T extends DisplayObjectAbstract>(item: T): T {\n        if (this.container.children.length !== this.uiChildren.length) {\n            return this.addChildAt(item, this.container.children.length);\n        } else {\n            return this.addChildAt(item, this.uiChildren.length);\n        }\n\n    }\n\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as TAny;       \n        item.$nestLevel = this.$nestLevel + 1;\n        this.uiChildren.splice(index, 0, item);\n        if(!item.initialized){\n            item.initialized = true;\n            item.$onInit();\n        }\n        index = Math.min(index,this.container.children.length);\n        this.emit(ComponentEvent.ADD, this);\n        this.container.addChildAt(item.container, index);\n        return item;\n    }\n\n    public getChildAt(index: number) {\n        return this.uiChildren[index] || undefined;\n    }\n\n    /**\n     * UI\n     * @param UIObject UI\n     */\n    public removeChild<T extends DisplayObjectAbstract>(item: T): T {\n        const index = this.uiChildren.indexOf(item);\n        return this.removeChildAt(index);\n    }\n\n    public removeChildAt<T>(index: number): T{   \n        index = Math.max(0,index);\n        index = Math.min(this.uiChildren.length,index);\n        const item = this.uiChildren[index];\n        if(item){\n            item.container.parent.removeChild(item.container);\n            this.uiChildren.splice(index, 1);\n            item.parent = undefined;\n        }\n        return item as TAny;\n    }\n\n    public removeChildren(beginIndex?: number | undefined, endIndex?: number | undefined) {\n        const start = beginIndex ? beginIndex : 0;\n        const end = endIndex ? endIndex : this.uiChildren.length;\n        for (let i = start; i < end; i++) {\n            this.removeChild(this.uiChildren[i]);\n        }\n    }\n    \n    /**\n     * false\n     * \n     */\n    public set renderable(value: boolean) {\n        this.container.renderable = value;\n    }\n    public get renderable() {\n        return this.container.renderable;\n    }\n\n    /**\n     * false\n     * \n     */\n    public set cacheAsBitmap(value: boolean) {\n        this.container.cacheAsBitmap = value;\n    }\n    public get cacheAsBitmap() {\n        return this.container.cacheAsBitmap;\n    }\n\n    private _interactive = true;\n    private _interactiveChildren = true;\n    /**\n     * \n     */\n    public set interactive(value: boolean) {\n        this._interactive = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactive = value;\n    }\n    public get interactive() {\n        return this.container.interactive;\n    }\n\n    /**\n     * falseHitTest\n     */\n    public set interactiveChildren(value: boolean) {\n        this._interactiveChildren = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactiveChildren = value;\n    }\n    public get interactiveChildren() {\n        return this.container.interactiveChildren;\n    }\n\n    private _enabled = true;\n    public get enabled() {\n        return this._enabled;\n    }\n    public set enabled(value: boolean) {\n        if (this._enabled === value) {\n            return;\n        }\n        this._enabled = value;\n        this.container.interactive = value;\n        this.container.interactiveChildren = value;      \n    }\n\n    /**\n     * \n     */\n    private _visible = true;\n    public get visible() {\n        return this._visible;\n    }\n    public set visible(value) {\n        if (this._visible === value) {\n            return;\n        }\n        this._visible = value;\n        this.container.visible = value;\n    }\n\n    /**  */\n    public offAll(event?: string | symbol) {\n        return this.removeAllListeners(event);\n    }\n\n    public get stage(): Stage|undefined{\n        if(this.$stage == undefined){\n            this.$stage = getStage(this);\n        }\n        return this.$stage;\n    }\n\n    protected checkInvalidateFlag(){\n\n    }\n\n    load(): void {\n        this.$onLoad();\n    }\n    release(): void {\n        if(this.parent){\n            this.parent.removeChild(this);\n        }\n        this.$onRelease();\n        this.$stage = undefined;\n    }\n\n    $onInit(){\n        this.emit(ComponentEvent.CREATION_COMPLETE,this);\n    }\n\n    $onLoad(){}\n\n    $onRelease(){}\n\n    $onAddStage(){\n        this.checkInvalidateFlag();\n        this.emit(ComponentEvent.ADDED, this);\n    }\n    $onRemoveStage(){\n        this.checkInvalidateFlag();\n        this.parent = undefined;\n        this.emit(ComponentEvent.REMOVEED, this);\n    }\n\n    \n}\n\n\n","/**  */\nexport class ContainerBase extends PIXI.Container{\n    public constructor(){\n        super();\n    }\n\n    public isEmitRender = false;\n\n    public render(renderer: PIXI.Renderer): void{\n        if(this.isEmitRender){\n            this.emit(\"renderChange\",renderer);\n        }\n        super.render(renderer);\n    }\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\n\nexport const $tempRectangle = new PIXI.Rectangle();\n\n/**\n * >> \n */\n\n\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n\n/**\n * @private\n * BasicLayout\n */\nexport function updateBasicDisplayList(target: DisplayObject|undefined,unscaledWidth: number, unscaledHeight: number){\n    if (!target)\n        return;\n    //console.log(target.container.name);\n    const values = target.$values;\n    const parentWidth = target.parent?target.parent.$values[UIKeys.width]:1;\n    const parentHeight = target.parent?target.parent.$values[UIKeys.height]:1;\n    const hCenter = formatRelative(values[UIKeys.horizontalCenter], parentWidth * 0.5);\n    const vCenter = formatRelative(values[UIKeys.verticalCenter], parentHeight * 0.5);\n    const left = formatRelative(values[UIKeys.left], parentWidth || 1);\n    const right = formatRelative(values[UIKeys.right], parentWidth);\n    const top = formatRelative(values[UIKeys.top], parentHeight || 1);\n    const bottom = formatRelative(values[UIKeys.bottom], parentHeight);\n\n    let childWidth = unscaledWidth;\n    let childHeight = unscaledHeight;\n\n    if (!isNaN(left) && !isNaN(right)) {\n        childWidth = parentWidth - right - left;\n    }\n\n    if (!isNaN(top) && !isNaN(bottom)) {\n        childHeight = parentHeight - bottom - top;\n    }\n\n    target.setMeasuredSize(childWidth,childHeight);\n    target.setActualSize(childWidth,childHeight);\n    \n    let childX = NaN;\n    let childY = NaN;\n\n    if (!isNaN(hCenter))\n        childX = Math.round((parentWidth - childWidth) / 2 + hCenter);\n    else if (!isNaN(left))\n        childX = left;\n    else if (!isNaN(right))\n        childX = parentWidth - childWidth - right;\n    else\n        childX = target.x;\n\n    if (!isNaN(vCenter))\n        childY = Math.round((parentHeight - childHeight) / 2 + vCenter);\n    else if (!isNaN(top))\n        childY = top;\n    else if (!isNaN(bottom))\n        childY = parentHeight - childHeight - bottom;\n    else\n        childY = target.y;\n\n    target.setPosition(childX, childY);\n}","import {DisplayObject} from \"../core/DisplayObject\";\n\n/**\n * \n * \n * checkGroup \n * \n * @example let container = new gui.Container();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestContainer\n */\nexport class Container extends DisplayObject{\n    public constructor(){\n        super();\n        this.isContainer = true;\n    }\n\n    /**\n     *  DisplayObjectContainer  DisplayObjectContainer \n     *  true\n     * @param child \n     * @returns  child  DisplayObjectContainer  true false\n     */\n    public contains(child: DisplayObject){\n        while (child) {\n            if (child == this) {\n                return true;\n            }\n            if(child.parent instanceof DisplayObject){\n                child = child.parent;\n            }\n            return false;\n            \n        }\n        return false;\n    }\n\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { log, getTexture, getSheet } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n/**\n * \n * \n * texturepacker\n * \n * @example let spriteAnimated = new gui.SpriteAnimated();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSpriteAnimated\n */\nexport class SpriteAnimated extends DisplayObject{\n    public constructor(){\n        super();\n        this._animatedSprites = new Map();\n    }\n\n\n    private _animatedSprites: Map<string,PIXI.AnimatedSprite>;\n    private _lastAnimatedName = \"\";\n    private _curFrameNumber = 0;\n    private _setTimeoutId = -1;\n\n    /**\n     * \n     */\n    private _animationName = \"default\";\n    public get animationName() {\n        return this._animationName;\n    }\n    public set animationName(value) {\n        if(this._animationName == value){\n            return;\n        }\n        this._animationName = value;\n        this.animatedNameSystem();\n    }\n    /**\n     * \n     */\n    private _src: PIXI.Spritesheet | PIXI.Texture[] | undefined;\n    public get src(): PIXI.Spritesheet | PIXI.Texture[] | undefined {\n        return this._src;\n    }\n    public set src(value: PIXI.Spritesheet | PIXI.Texture[] | undefined) {\n        this._src = value;\n        if(value === undefined){\n            this.releaseAnimate();\n        }else{\n            this.srcSystem();\n        }\n        \n    }\n    /**\n     * \n     */\n    private _animationSpeed = 0.1;\n    public get animationSpeed() {\n        return this._animationSpeed;\n    }\n    public set animationSpeed(value) {\n        this._animationSpeed = value;\n        this.attribSystem();\n    }\n    /** \n     * \n     */\n    private _loop = false;\n    public get loop() {\n        return this._loop;\n    }\n    public set loop(value) {\n        this._loop = value;\n        this.attribSystem()\n    }\n\n    private _playCount = 0;\n    /** \n     * \n     */\n    private _loopCount = 0;\n    public get loopCount() {\n        return this._loopCount;\n    }\n    public set loopCount(value) {\n        this._loopCount = value;\n    }\n    /** \n     * \n     */\n    private _playing = false;\n    public get playing() {\n        return this._playing;\n    }\n\n    /**\n     *  0-1,  TexturePackersheet anchor\n     */\n    private _anchorX = 0;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.attribSystem();\n    }\n    /**\n     *  0-1,  TexturePackersheet anchor\n     */\n    private _anchorY = 0;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.attribSystem();\n    }\n   \n    /** N */\n    public gotoAndPlay(frameNumber: number){\n        this._curFrameNumber = frameNumber;    \n        this._playing = true;\n        this.playSystem();\n    }\n\n    /** N */\n    public gotoAndStop(frameNumber: number){\n\n        this._curFrameNumber = frameNumber;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /**  */\n    public stop(){\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /**  */\n    public play(){\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = true;\n        this.playSystem();\n    }\n\n    public get autoPlay() {\n        return this._playing;\n    }\n    public set autoPlay(value) {\n        this._playing = value;\n    }\n    \n    public set isPlay(value: boolean){\n        if(value){\n            this.play();\n        }else{\n            this.stop();\n        }\n    }\n\n    /** \n     *  \n     */\n    public addAnimated(animationName: string,textures: PIXI.Texture[]){\n        const sp = this._animatedSprites.get(animationName);\n        if(sp){\n            if(sp.parent)\n                sp.parent.removeChild(sp);\n            sp.removeAllListeners();\n            sp.destroy();\n        }\n        this._animatedSprites.set(animationName,new PIXI.AnimatedSprite(textures));\n    }\n\n    public release(){\n        if(this._setTimeoutId){\n            clearTimeout(this._setTimeoutId);\n        }\n        super.release();\n        this.releaseAnimate();\n        this.src = undefined;\n    }\n\n    protected releaseAnimate(){\n        this._animatedSprites.forEach(element => {\n            if(element.parent){\n                element.parent.removeChild(element)\n            }\n            element.removeAllListeners();\n            element.destroy();\n        });\n        this._animatedSprites.clear();\n    }\n\n    protected srcSystem(){\n\n        this.releaseAnimate();\n        const src = getSheet(this.src);\n        if(src){\n            if(Array.isArray(src)){\n                const textures: PIXI.Texture[] = [];\n                src.forEach(value=>{\n                    textures.push(getTexture(value));\n                });\n                this.addAnimated(\"default\",textures);\n            }else{\n                for(const key in src.animations){\n                    this.addAnimated(key,src.animations[key]);\n                }\n            }\n            this.animatedNameSystem();\n        }\n    }\n\n    protected animatedNameSystem(){\n\n        if(this._animatedSprites.size == 0){\n            return;\n        }\n        if(this.animationName === this._lastAnimatedName){\n            return;\n        }\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp == undefined){\n            log(`Warning SpriteAnimated -> _animatedSprites[${this.animationName}] == undefined`);\n            return;\n        }\n        const lastAnimated = this._animatedSprites.get(this._lastAnimatedName);\n        animatedSp.onLoop = ()=>{\n            this.emit(ComponentEvent.LOOP,this);\n            this._playCount++;\n            if(this._loopCount!==0 && this._playCount>=this._loopCount){\n                this.stop();\n            }\n        }\n        animatedSp.onComplete = ()=>{\n            this.emit(ComponentEvent.COMPLETE,this);\n        }\n        if(animatedSp.parent == undefined){\n            clearTimeout(this._setTimeoutId);\n            this._setTimeoutId = setTimeout(() => {\n                //setTimeout\n                this.container.addChild(animatedSp);\n            }, 0);\n            \n        }\n        \n        if(lastAnimated && lastAnimated.parent){\n            lastAnimated.stop();\n            lastAnimated.parent.removeChild(lastAnimated);\n        }\n        this._lastAnimatedName = this.animationName;\n\n        this._curFrameNumber = 0;\n        this.emit(ComponentEvent.CHANGE,this,this.animationName);\n\n\n        this.attribSystem();\n        this.playSystem();\n    }\n\n    protected playSystem(){\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp){\n            if(this.playing){\n                animatedSp.gotoAndPlay(this._curFrameNumber);\n            }else{\n                animatedSp.gotoAndStop(this._curFrameNumber);\n            }\n        }\n    }\n\n    protected attribSystem(){\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp){\n            animatedSp.loop = this.loop;\n            animatedSp.animationSpeed = this.animationSpeed;\n            animatedSp.anchor.set(this.anchorX,this.anchorY);\n        }\n    }\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\n\n/**\n * \n * \n *  xxxx.style.breakWords = true;\n * \n * .\n * \n *  style.textAlign \n * \n * @example let label = new gui.Label();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestLabel\n */\nexport class Label extends DisplayObject {\n\n    public constructor(text = \"\") {\n        super();\n        this.sprite = new PIXI.Text(text,{breakWords : true,fill:\"#ffffff\"});\n        this.container.addChild(this.sprite);\n\n    }\n\n    public readonly sprite: PIXI.Text;\n\n    /**\n     * \n     */\n    public get resolution() {\n        return this.sprite.resolution;\n    }\n    public set resolution(value) {\n        this.sprite.resolution = value;\n    }\n\n    /**\n     * \n     */\n    public get text() {\n        return this.sprite.text;\n    }\n    public set text(value) {\n        this.sprite.text = value;\n        this.invalidateSize();\n        this.invalidateDisplayList();\n        this.emit(ComponentEvent.CHANGE,this);\n    }\n\n    public set fontCssStyle(value: TAny){\n        if(value.color){\n            value.fill = value.color;\n        }\n        value.breakWords = true;\n        this.sprite.style = value;\n        this.invalidateSize();\n        this.invalidateDisplayList();\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n        const values = this.$values;\n        if(!isNaN(values[UIKeys.explicitWidth])){\n            switch(this.style.textAlign){\n                case \"left\":\n                    this.sprite.x = 0;\n                    break;\n                case \"right\":\n                    this.sprite.x =  values[UIKeys.explicitWidth] - this.sprite.width;\n                    break;\n                case \"center\":\n                    this.sprite.x = values[UIKeys.explicitWidth] - this.sprite.width >>1;\n                    break;\n            }\n            \n        }\n        if(!isNaN(values[UIKeys.explicitHeight])){\n            this.sprite.y = values[UIKeys.explicitHeight] - this.sprite.height >>1; \n        }\n    }\n\n    public release(){\n        super.release();\n        const sprite = this.sprite;\n        if(sprite && sprite.parent){\n            sprite.parent.removeChild(sprite).destroy();\n        }\n        this.offAll(ComponentEvent.CHANGE);\n    }\n}","import {Label} from \"./Label\";\nimport {Image} from \"./Image\";\nimport { InputBase } from \"./private/InputBase\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * \n * \n * @example let button = new gui.Button();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestButton\n */\nexport class Button extends InputBase{\n\n    public constructor() {\n        super();\n        this.container.buttonMode = true;\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3,3,3,3];\n        this.addChild(this.img);\n\n        this.label.sprite.style.fontSize = 18;\n        this.addChild(this.label);\n\n        this.on(ComponentEvent.STATE_CHANGE,this.onStateChange,this);\n    }\n\n    protected _selectedStr: \"AndSelected\"|\"\" = \"\";\n    protected _oldState = \"\";\n\n\n    /**  */\n    public readonly img = new Image();\n    /**  */\n    public readonly label = new Label();\n\n    private _text = \"\";\n    /**\n     * \n     */\n    public get text() {\n        return this.label.text;\n    }\n    public set text(value) {\n        this._text = value;\n        this.invalidateDisplayList();\n\n    }\n\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n        \n        this.container.hitArea = new PIXI.Rectangle(0, 0, unscaledWidth, unscaledHeight);\n\n        const img = this.img;\n        img.width = unscaledWidth;\n        img.height = unscaledHeight;\n\n        if(this.label.width!==unscaledWidth)\n            this.label.width = unscaledWidth;\n        if(this.label.height!==unscaledHeight)\n            this.label.height = unscaledHeight;\n\n        if(this.label.text !== this._text){\n            this.label.text = this._text;\n\n        }\n\n        this.onStateChange(this,this.currentState);\n\n    }\n\n    public release() {\n        super.release();\n        this.offAll(ComponentEvent.STATE_CHANGE);\n        this.img.release();\n        this.label.release();\n    }\n\n\n    protected onStateChange(label: Button,state: string){\n        if(this._oldState == state){\n            return;\n        }\n        this._oldState = state;\n        this.img.src = (this as TAny)[state + this._selectedStr];\n    }\n}","import * as vfgui from \"./UI\";\n\n// //\n// if(!Array.from){\n//     Array.from = function (el: unknown[]) {\n//         return Array.apply(this, el);\n//     }\n// }\n// String.prototype.startsWith || (String.prototype.startsWith = function(word,pos?: number) {\n//     return this.lastIndexOf(word, pos1.1.7.1.1.7.1.1.7) ==1.1.7.1.1.7.1.1.7;\n// });\nwindow.gui = vfgui;\nwindow.gui.version = \"1.1.7\";\nexport default vfgui;\n// declare namespace gui{\n//     export * from \"src/UI\";\n// }\n","/**  */\nimport * as Utils from \"./utils/Utils\";\n/** UI UI */\nimport {Stage} from \"./core/Stage\";\n/** UI */\nimport {DisplayObject} from \"./core/DisplayObject\";\n/**  */\nimport {shared as TickerShared} from \"./core/Ticker\";\n\n/**\n * \n * \n * checkGroup \n * \n * @example let container = new gui.Container();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestContainer\n */\nimport {Container} from \"./display/Container\";\n/**\n * \n * \n * @example let scrollingContainer = new gui.ScrollingContainer();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestRect\n */\nimport {ScrollingContainer} from \"./display/ScrollingContainer\";\n/**\n * \n * \n * @example let image = new gui.Image();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestImage\n */\nimport {Image} from \"./display/Image\";\n/**\n * \n * \n * texturepacker\n * \n * @example let spriteAnimated = new gui.SpriteAnimated();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSpriteAnimated\n */\nimport {SpriteAnimated} from \"./display/SpriteAnimated\";\n/**\n * \n * \n *  xxxx.style.breakWords = true;\n * \n * \n * \n * @example let label = new gui.Label();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestLabel\n */\nimport {Label} from \"./display/Label\";\n/**\n * \n * \n * @example let textInput = new gui.TextInput(true|false);//\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTextInput\n */\nimport {TextInput} from \"./display/TextInput\";\n/**\n * /\n * \n * @example let slider = new gui.Slider();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSlider\n */\nimport {Slider} from \"./display/Slider\";\n/**\n * \n * \n * @example let button = new gui.Button();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestButton\n */\nimport {Button} from \"./display/Button\";\n\n/**\n * \\\n * \n * checkGroup \n * \n * @example let checkBox = new gui.CheckBox();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestCheckBox\n */\nimport {CheckBox} from \"./display/CheckBox\";\n/**\n * \n * \n * @example let rect = new gui.Rect();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestRect\n */\nimport {Rect} from \"./display/Rect\";\n/**\n * \n * \n * @example let rect = new gui.Circle();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestCircle\n */\nimport {Circle} from \"./display/Circle\";\n/**\n * \n * \n * @example let graphics = new gui.Graphics();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nimport {Graphics} from \"./display/Graphics\";\n/**\n * \n * \n * @example let graphics = new gui.FollowLine();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nimport {FollowLine} from \"./display/FollowLine\";\n/**\n * \n * \n * \n * @example let connectLine = new gui.ConnectLine();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestConnectLine\n */\nimport {ConnectLine} from \"./display/ConnectLine\";\n/**\n * \n * \n * @example let sound = new gui.Sound();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSound\n */\nimport {Sound} from \"./display/Sound\";\n/**\n * \n * \n * @example gui.Easing.Linear.None;\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTween\n */\nimport {Easing} from \"./tween/Easing\";\n/**\n * \n * \n * @example let tween = new gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTween\n */\nimport {Tween} from \"./tween/Tween\";\n/**\n * \n * \n * @example let timeline = new gui.Timeline();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nimport {Timeline} from \"./tween/Timeline\";\n\n/**\n * inputbase\n */\nimport * as Interaction from \"./interaction/Index\";\n/**\n * \n */\nimport * as Event from \"./event/Index\";\n\n/**\n * \n */\nimport * as Enum from './enum/Index';\n\n/** UI */\nexport {Utils,Stage,Container,ScrollingContainer,Slider,\n    Label,TextInput,Button,CheckBox,Rect,Circle,Graphics,FollowLine,ConnectLine,Interaction,\n    DisplayObject,TickerShared,Tween,Timeline,Easing,Image,SpriteAnimated,Sound,Event,Enum};","import {\n    add,\n    get,\n    getAll,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Plugins,\n    remove,\n    removeAll,\n    removeDisplay,\n    update\n} from './core'\nimport {Interpolation} from './Interpolation'\nimport * as utils from './constants'\nimport {TweenEvent} from \"../../event/TweenEvent\"\nimport {Timeline} from '../Timeline'\nexport {\n    Plugins,\n    get,\n    getAll,\n    removeAll,\n    remove,\n    removeDisplay,\n    add,\n    update,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Interpolation,\n    TweenEvent,\n    Timeline,\n    utils\n}\n\n","\n/** */\nclass ObjectPool{\n    public constructor() {}\n \n    /**\n\t * dict\n\t */\n    private objPoolDict = new Map<TAny,TAny[]>();\n\t\n    /**\n\t * \n\t */\n    public push<T extends Lifecycle,S>(keyClass: S,oldObj: T): void{\n        if(oldObj === undefined){\n            return;\n        }\n        let objs = this.objPoolDict.get(keyClass);\n        if(objs === undefined){\n            objs = [];\n            this.objPoolDict.set(keyClass,objs);\n        }\n        if(objs.indexOf(oldObj) === -1){\n            oldObj.release();\n            objs.push(oldObj);\n        }\n    } \n \n \n    /**\n\t * \n\t * @return \n\t *\n\t */\n    public pop<T>(keyClass: T): TAny{\n\n        const objs = this.objPoolDict.get(keyClass);\n        if(objs !== undefined && objs.length>0){\n            return objs.pop();\n        }\n        return new (keyClass as TAny)();\n    }\n}\n\n/**\n * \n */\nexport const objectPoolShared = new ObjectPool();","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport {TouchMouseEvent } from \"../event/TouchMouseEvent\";\n\n/**\n * ,UI\n * \n *  :\n * ```\n *  {InteractionEvent}.TouchEvent.onHover\n *  {InteractionEvent}.TouchEvent.onPress\n *  {InteractionEvent}.TouchEvent.onClick\n *  {InteractionEvent}.TouchEvent.onMove\n * ```\n *  :\n * ```\n *  onHover: ((e: InteractionEvent,thisOBj:DisplayObject,over: boolean) => void) | undefined\n *  onPress: ((e: InteractionEvent,thisOBj:DisplayObject, isPressed: boolean) => void) | undefined;\n *  onClick: ((e: InteractionEvent,thisOBj:DisplayObject) => void) | undefined \n *  onMove: ((e: InteractionEvent,thisOBj:DisplayObject) => void) | undefined\n * ```\n * \n * @example  `TestSliceSprite` \n * \n * @since 1.0.0\n */\nexport class ClickEvent {\n\n    /**\n     * ClickEvent \n     * @param obj \n     * @param isOpenEmitEvent falseInteractionEventTouchEvent\n     * @param includeHover true\n     * @param rightMouseButton false\n     * @param doubleClick ,false\n     */\n    public constructor(obj: DisplayObject,isOpenEmitEvent?: boolean,includeHover?: boolean, rightMouseButton?: boolean, doubleClick?: boolean) {\n        this.obj = obj;\n        \n        if(isOpenEmitEvent!==undefined){\n            this.isOpenEmitEvent = isOpenEmitEvent;\n        }\n        if(includeHover!==undefined){\n            this.right = includeHover;\n        }\n        if(rightMouseButton!==undefined){\n            this.hover = rightMouseButton;\n        }\n        if(doubleClick!==undefined){\n            this.double = doubleClick;\n        }\n\n        if(this.right){\n            this.eventnameMousedown = TouchMouseEventEnum.mouseRightDown;\n            this.eventnameMouseup = TouchMouseEventEnum.mouseRightup;\n            this.eventnameMouseupoutside = TouchMouseEventEnum.mouseRightupoutside;\n        }\n\n        obj.interactive = true;\n\n        this.startEvent();\n    }\n\n    private obj: DisplayObject;\n    public  id = 0;\n    /**  InteractionEvent.TouchEvent | gui.Interaction.TouchEvent */\n    public isOpenEmitEvent = false;\n    /** InteractionEventlocalX localYfalse0 */\n    public isOpenLocalPoint = false;\n    private localOffset = new PIXI.Point();\n    private offset = new PIXI.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private ishover = false;\n    private mouse = new PIXI.Point();\n    private bound = false;\n    private right = false;\n    private hover = true;\n    private double = false;\n    private time = 0;\n    private eventnameMousedown =  TouchMouseEventEnum.mousedown;\n    private eventnameMouseup =  TouchMouseEventEnum.mouseup;\n    private eventnameMouseupoutside =  TouchMouseEventEnum.mouseupoutside;\n    private isStop = true;\n\n    public getTarget(){\n        return this.obj;\n    }\n\n    public startEvent() {\n\n        if(this.isStop){\n            this.obj.container.on(this.eventnameMousedown, this._onMouseDown,this);\n            if (!this.right) \n                this.obj.container.on(TouchMouseEventEnum.touchstart, this._onMouseDown,this);\n    \n            if (this.hover) {\n                this.obj.container.on(TouchMouseEventEnum.mouseover, this._onMouseOver,this);\n                this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut,this);\n            }\n            this.isStop = false;\n        }\n    }\n\n    /**  */\n    public stopEvent() {\n        if (this.bound) {\n            this.obj.container.off(this.eventnameMouseup, this._onMouseUp,this);\n            this.obj.container.off(this.eventnameMouseupoutside, this._onMouseUpOutside,this);\n\n            if (!this.right) {\n                this.obj.container.off(TouchMouseEventEnum.touchend, this._onMouseUp,this);\n                this.obj.container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside,this);\n            }\n            this.bound = false;\n        }\n        this.obj.container.off(this.eventnameMousedown, this._onMouseDown,this);\n        if (!this.right) \n            this.obj.container.off(TouchMouseEventEnum.touchstart, this._onMouseDown,this);\n\n        if (this.hover) {\n            this.obj.container.off(TouchMouseEventEnum.mouseover, this._onMouseOver,this);\n            this.obj.container.off(TouchMouseEventEnum.mouseout, this._onMouseOut,this);\n            this.obj.container.off(TouchMouseEventEnum.mousemove, this._onMouseMove,this);\n            this.obj.container.off(TouchMouseEventEnum.touchmove, this._onMouseMove,this);\n        }\n        this.isStop = true;\n    }\n\n    private _onMouseDown(e: InteractionEvent) {\n        this.setLocalPoint(e);\n        this.mouse.copyFrom(e.data.global);\n        this.id = e.data.identifier;\n        this.onPress && this.onPress.call(this.obj, e,this.obj, true),this.obj;\n        this.emitTouchEvent(TouchMouseEvent.onPress,e,true);\n        if(this.obj.listenerCount(TouchMouseEvent.onDown)>0){\n            this.emitTouchEvent(TouchMouseEvent.onDown,e);\n        }\n        if (!this.bound) {\n            this.obj.container.on(this.eventnameMouseup, this._onMouseUp,this);\n            this.obj.container.on(this.eventnameMouseupoutside, this._onMouseUpOutside,this);\n            if (!this.right) {\n                this.obj.container.on(TouchMouseEventEnum.touchend, this._onMouseUp,this);\n                this.obj.container.on(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside,this);\n            }\n            this.bound = true;\n        }\n\n        if (this.double) {\n            const now = performance.now();\n            if (now - this.time < 210) {\n                this.onClick && this.onClick.call(this.obj, e,this.obj);\n                this.emitTouchEvent(TouchMouseEvent.onClick,e);\n            }\n            else {\n                this.time = now;\n            }\n        }\n\n        e.data.originalEvent.preventDefault();\n    }\n\n    private emitTouchEvent(event: string | symbol,e: InteractionEvent, ... args: unknown[]){\n        if(this.isOpenEmitEvent){\n            e.type = event.toString();\n            this.obj.emit(e.type,e,this.obj,... args);\n        }\n        \n    }\n\n    private _mouseUpAll(e: InteractionEvent){\n        if (e.data.identifier !== this.id) \n            return;\n        this.offset.set(e.data.global.x - this.mouse.x, e.data.global.y - this.mouse.y);\n        if (this.bound) {\n\n            this.obj.container.off(this.eventnameMouseup, this._onMouseUp,this);\n            this.obj.container.off(this.eventnameMouseupoutside, this._onMouseUpOutside,this);\n            if (!this.right) {\n                this.obj.container.off(TouchMouseEventEnum.touchend, this._onMouseUp,this);\n                this.obj.container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside,this);\n            }\n            this.bound = false;\n        }\n        this.onPress && this.onPress.call(this.obj, e,this.obj, false);\n        if(this.obj.listenerCount(TouchMouseEvent.onUp)>0){\n            this.emitTouchEvent(TouchMouseEvent.onUp,e);\n        }\n        this.emitTouchEvent(TouchMouseEvent.onPress,e,false);\n    }\n    private _onMouseUp(e: InteractionEvent) {\n\n        if (e.data.identifier !== this.id) \n            return;\n        this._mouseUpAll(e);\n\n        //prevent clicks with scrolling/dragging objects\n        if (this.obj.dragThreshold) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (Math.max(this.movementX, this.movementY) > this.obj.dragThreshold) \n                return;\n        }\n\n        if (!this.double){    \n            this.onClick && this.onClick.call(this.obj, e,this.obj);\n            this.emitTouchEvent(TouchMouseEvent.onClick,e,false);\n        }\n    }\n\n    private _onMouseUpOutside(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) \n            return;\n        this._mouseUpAll(e);\n    }\n\n    private _onMouseOver(e: InteractionEvent) {\n        if (!this.ishover) {\n            this.ishover = true;\n            this.obj.container.on(TouchMouseEventEnum.mousemove, this._onMouseMove,this);\n            this.obj.container.on(TouchMouseEventEnum.touchmove, this._onMouseMove,this);\n            this.onHover && this.onHover.call(this.obj, e, this.obj,true);\n            this.emitTouchEvent(TouchMouseEvent.onHover,e,true);\n        }\n    }\n\n    private _onMouseOut(e: InteractionEvent) {\n        if (this.ishover) {\n            this.ishover = false;\n            this.obj.container.off(TouchMouseEventEnum.mousemove,this. _onMouseMove,this);\n            this.obj.container.off(TouchMouseEventEnum.touchmove, this._onMouseMove,this);\n            this.onHover && this.onHover.call(this.obj, e, this.obj,false);\n            this.emitTouchEvent(TouchMouseEvent.onHover,e,false);\n        }\n    }\n\n    private _onMouseMove(e: InteractionEvent) {\n        this.setLocalPoint(e);\n        this.onMove && this.onMove.call(this.obj, e,this.obj);\n        this.emitTouchEvent(TouchMouseEvent.onMove,e);\n    }\n\n    private setLocalPoint(e: InteractionEvent){\n        if(this.isOpenLocalPoint){\n            this.obj.container.toLocal(e.data.global,undefined,this.localOffset);\n            e.local = this.localOffset;\n        }\n    }\n\n    public remove(){\n        this.stopEvent();\n        this.onPress = undefined;\n        this.onHover = undefined;\n        this.onClick = undefined;\n        this.onMove = undefined;\n        this.obj.container.interactive = false;\n    }\n    public onHover: ((e: InteractionEvent,thisOBj: DisplayObject,over: boolean) => void) | undefined\n    public onPress: ((e: InteractionEvent,thisOBj: DisplayObject, isPressed: boolean) => void) | undefined;\n    public onClick: ((e: InteractionEvent,thisOBj: DisplayObject) => void) | undefined \n    public onMove: ((e: InteractionEvent,thisOBj: DisplayObject) => void) | undefined\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\n\n/**\n * UI\n * @private\n */\nexport const _items: DisplayObject[] = [];\n/**\n * \n * @param item UI\n * @param e \n * @returns true|false\n * @since 1.0.0\n */\nexport function add(item: DisplayObject, e: InteractionEvent) {\n    item.attach.dragDropEventId = e.data.identifier;\n    if (_items.indexOf(item) === -1) {\n        _items.push(item);\n        return true;\n    }\n    return false;\n}\n\n/**\n * \n * @param item UI\n * @returns flase | item\n */\nexport function getItem(item: DisplayObject) {\n    let index: number | undefined;\n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i] === item) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}\n\n/**\n * \n * @param e \n * @param group \n */\nexport function getEventItem(e: InteractionEvent, group: string | undefined) {\n    let item = null, index: number | undefined;\n    const id = e.data.identifier;\n    \n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i].attach.dragDropEventId === id) {\n            if (group !== _items[i].attach.dragGroup && _items[i].attach.dragGroup!==\"\") {\n                return false;\n            }\n            item = _items[i];\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { CheckBox } from \"../display/CheckBox\";\n\ninterface CheckGroupObject{\n    groups: {[key: string]: {[value: string]: CheckBox}} ;\n    values: {[key: string]: string|undefined}; \n}\n/**\n * UI\n * @private\n */\nlet _currentItem: DisplayObject|undefined;\n/**\n * \n * @private\n */\nexport const tabGroups: {[key: string]: DisplayObject[]} = {};\n/**\n * \n * @private\n */\nexport const _checkGroupObject: CheckGroupObject = {\n    groups: {},\n    values: {}\n} \n\n/**\n * \n * @param item \n * @param tabIndex \n * @param tabGroup \n * @returns tabIndex 0-11\n */\nexport function registrer(item: DisplayObject, tabIndex: number, tabGroup?: string) {\n    const groupName = tabGroup || \"default\";\n\n    let items = tabGroups[groupName];\n    if (!items)\n        items = tabGroups[groupName] = [];\n\n    const i = items.indexOf(item);\n    if (i === -1) {\n        item.attach._tabIndex = tabIndex !== undefined ? tabIndex : -1;\n        item.attach._tabGroup = items;\n        items.push(item);\n        items.sort(function (a, b) {\n            if (a.attach._tabIndex < b.attach._tabIndex)\n                return -1;\n            if (a.attach._tabIndex > b.attach._tabIndex)\n                return 1;\n            return 0;\n        });\n    }\n}\n/**  */\nexport function blur(){\n    const obj = _currentItem as TInputBase;\n    if(obj){\n        if(obj.blur && typeof obj.blur == \"function\"){\n            obj.blur();\n        }\n    }     \n}\n/**  */\nexport function set(item: DisplayObject){\n    blur();\n    _currentItem = item;\n}\n\n/**  */\nexport function clear(){\n    _currentItem = undefined;\n}\n/** tab  */\nexport function fireTab(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/**   */\nexport function fireNext(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = _tabGroup.length - 1;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/**   */\nexport function firePrev(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) - 1;\n        if (i < 0) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/** \n * checkBox \n * \n *  ==== checkbox ====\n * \n * checkGroups = [key]:{[\"value\"]:cb}\n */\nexport function registrerCheckGroup(cb: CheckBox){\n    const name = cb.checkGroup;\n    if(name){\n        let group = _checkGroupObject.groups[name];\n        if (!group) \n            group = _checkGroupObject.groups[name] = {};\n    \n        group[cb.uuid.toString()] = cb;\n    \n        if (cb.checked)\n            _checkGroupObject.values[name] = cb.uuid.toString();\n    }\n}\n\n/**\n * \n * @param cb CheckBox\n */\nexport function unRegistrerCheckGroup(cb: CheckBox){\n    if(cb.checkGroup && _checkGroupObject.groups[cb.checkGroup]){\n        delete _checkGroupObject.groups[cb.checkGroup][cb.uuid.toString()];\n        let isKey = false;\n        for(const key in _checkGroupObject.groups[cb.checkGroup]){\n            if(key) isKey = true;\n            break;\n        }\n        if(!isKey){\n            delete _checkGroupObject.groups[name];\n        }\n        if (cb.checked)\n            _checkGroupObject.values[name] = undefined;\n    }\n}\n/** checkbox  */\nexport function updateCheckGroupSelected(cb: CheckBox){\n    if(cb.checkGroup){\n        const group = _checkGroupObject.groups[cb.checkGroup];\n        for (const val in group) {\n            const b = group[val];\n            if (b !== cb)\n                b.checked = false;\n        }\n        _checkGroupObject.values[cb.checkGroup] = cb.uuid.toString();\n    }\n}\n\n/** checkbox */\nexport function getCheckGroupSelectedValue(name: string){\n    const uuid = _checkGroupObject.values[name];\n    if(uuid){\n        const cb = _checkGroupObject.groups[name][uuid.toString()];\n        return cb.value;\n    }\n    return undefined;\n}\n\n/**  */\nexport function setCheckGroupSelectedValue(name: string,uuid: string){\n    const group = _checkGroupObject.groups[name];\n    if (group) {\n        const cb = group[uuid];\n        if (cb) {\n            cb.checked = true;\n        }\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\n\n/**\n * \n * @private\n */\nexport const _GroupObject = new Map<string, { [key: string]: DisplayObject }>();\n\n/** \n * \n */\nexport function registrerGroup(ui: DisplayObject) {\n    if ( ui.groupName) {\n\n        let group = _GroupObject.get( ui.groupName);\n        if (!group) {\n            group = {};\n            _GroupObject.set( ui.groupName, group);\n        }\n        group[ui.uuid] = ui;\n    }\n}\n\n/**\n * \n */\nexport function unRegistrerGroup(ui: DisplayObject) {\n    if (ui.groupName) {\n        const group = _GroupObject.get(ui.groupName);\n        if (group) {\n            delete group[ui.uuid];\n        }\n        let isKey = false;\n        for (const key in group) {\n            isKey = true;\n            break;\n        }\n        if (isKey) {\n            _GroupObject.delete(ui.groupName);\n        }\n    }\n}\n\n/**  */\nexport function getGroup(name?: string): { [key: string]: DisplayObject } | undefined {\n    if (name == undefined) {\n        return undefined;\n    }\n    return _GroupObject.get(name);\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as CSSFunction from \"./CSSSSystem\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { getStringFunctionParam } from \"../utils/Utils\";\n\n\n/**\n * \t\n *\n *   \"left\", \"top\", \"right\"  \"bottom\" \n *\n * \tabsolute \n *\n *  fixed \n *\n *  static  top, bottom, left, right  z-index \n */\nexport type Position = \"absolute\" | \"fixed\" | \"static\";\n\n/**  grid */\nexport type Align = \"flex-start\" | \"flex-end\" | \"center\";\n\n/**  */\nexport type Display = \"none\" | \"block\" | \"grid\";\n\nfunction formatRelative(value: number | string | undefined): { percent: number; value: number } {\n\n    if (value == undefined) {\n        return { percent: NaN, value: NaN };\n    }\n    if (typeof value === \"number\") {\n        return { percent: NaN, value: value };\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return { percent: NaN, value: +str };\n    }\n    const percent = +str.substring(0, index);\n    return { percent: Math.min(percent * 0.01, 1), value: NaN };\n}\n\n/**\n * \n */\nexport class CSSStyle {\n\n    public constructor(target: DisplayObject) {\n        this.parent = target;\n        target.on(ComponentEvent.RESIZE, this.onResize, this);\n    }\n    public parent: DisplayObject;\n\n    public release() {\n        this.parent.off(ComponentEvent.RESIZE, this.onResize, this);\n    }\n    /**\n     * \n     *\n     * grid left,top,rightbottom,width,height\n     *\n     * none style\n     * */\n    private _display: Display = \"block\";\n    public get display(): Display {\n        return this._display;\n    }\n    public set display(value: Display) {\n        this._display = value;\n    }\n    /**\n     * \n     * */\n    private _position: Position = \"absolute\";\n    public get position(): Position {\n        return this._position;\n    }\n    public set position(value: Position) {\n        this._position = value;\n    }\n\n    /**\n     * \n     */\n    private _justifyContent?: Align;\n    public get justifyContent() {\n        return this._justifyContent;\n    }\n    public set justifyContent(value) {\n        this._justifyContent = value;\n    }\n\n    /**\n     * \n     */\n    private _alignContent?: Align;\n    public get alignContent() {\n        return this._alignContent;\n    }\n    public set alignContent(value) {\n        this._alignContent = value;\n    }\n    /**\n     *  \n     *\n     *  [80,90,100]|[\"30%\",\"40%\",\"30%\"] 80100\n     *\n     *  [\"repeat\",3,100] 100\n     */\n    private _gridTemplateColumns?: number[] | string[] | [string, number, number];\n    public get gridTemplateColumns() {\n        return this._gridTemplateColumns;\n    }\n    public set gridTemplateColumns(value) {\n        this._gridTemplateColumns = value;\n    }\n\n    /**\n     * \n     */\n    private _gridColumnGap?: number;\n    public get gridColumnGap() {\n        return this._gridColumnGap;\n    }\n    public set gridColumnGap(value) {\n        this._gridColumnGap = value;\n    }\n    /**\n     *  \n     *\n     *  [80,90,100]|[\"30%\",\"40%\",\"30%\"] 8090100\n     *\n     *  [\"repeat\",3,100] 100\n     */\n    private _gridTemplateRows?: number[] | string[] | [string, number, number];\n    public get gridTemplateRows() {\n        return this._gridTemplateRows;\n    }\n    public set gridTemplateRows(value) {\n        this._gridTemplateRows = value;\n    }\n    /**\n     * \n     */\n    private _gridRowGap?: number;\n    public get gridRowGap() {\n        return this._gridRowGap;\n    }\n    public set gridRowGap(value) {\n        this._gridRowGap = value;\n    }\n\n    /**\n     * \n     * */\n    public get width() {\n        return this.parent.width;\n    }\n    public set width(value: number | string) {\n        const relative = formatRelative(value);\n        this.parent.width = relative.value;\n        this.parent.percentWidth = relative.percent;\n    }\n    /**\n     * \n     * */\n    public get height() {\n        return this.parent.height;\n    }\n    public set height(value: number | string) {\n        const relative = formatRelative(value);\n        this.parent.height = relative.value;\n        this.parent.percentHeight = relative.percent;\n    }\n\n    /**\n     * \n     */\n    public get minWidth() {\n        return this.parent.minWidth;\n    }\n    public set minWidth(value) {\n        this.parent.minWidth = value;\n    }\n    /**\n     * \n     */\n    public get maxWidth() {\n        return this.parent.maxWidth;\n    }\n    public set maxWidth(value) {\n        this.parent.maxWidth = value;\n    }\n\n    /**\n     * \n     */\n    public get maxHeight() {\n        return this.parent.maxHeight;\n    }\n    public set maxHeight(value) {\n        this.parent.maxHeight = value;\n    }\n    /**\n     * \n     * */\n    public get minHeight() {\n        return this.parent.minHeight;\n    }\n    public set minHeight(value) {\n        this.parent.minHeight = value;\n    }\n\n    /**\n     * \n     * */\n    public get left() {\n        return this.parent.left;\n    }\n    public set left(value) {\n        this.parent.left = value;\n    }\n    /**\n     * \n     * */\n    public get top() {\n        return this.parent.top;\n    }\n    public set top(value) {\n        this.parent.top = value;\n    }\n    /**\n     * \n     * */\n    public get right() {\n        return this.parent.right;\n    }\n    public set right(value) {\n        this.parent.right = value;\n    }\n    /**\n     * \n     * */\n    public get bottom() {\n        return this.parent.bottom;\n    }\n    public set bottom(value) {\n        this.parent.bottom = value;\n    }\n\n    /**\n     * \n     * */\n    public get scaleX() {\n        return this.parent.scaleX;\n    }\n    public set scaleX(value) {\n        this.parent.scaleX = value;\n    }\n    /**\n     * \n     * */\n    public get scaleY() {\n        return this.parent.scaleY;\n    }\n    public set scaleY(value) {\n        this.parent.scaleY = value;\n    }\n    /**\n     * \n     * */\n    public get skewX() {\n        return this.parent.skewX;\n    }\n    public set skewX(value) {\n        this.parent.skewX = value;\n    }\n    /**\n     * \n     * */\n    public get skewY() {\n        return this.parent.skewY;\n    }\n    public set skewY(value) {\n        this.parent.skewY = value;\n    }\n\n    /**\n     *  \n    */\n    public get rotate() {\n        return this.parent.rotation;\n    }\n    public set rotate(value) {\n        this.parent.rotation = value;\n    }\n    /**\n     *  \n    */\n    public get rotation() {\n        return this.parent.rotation;\n    }\n    public set rotation(value: number) {\n        this.parent.rotation = value;\n    }\n\n    /**\n     *  \n     */\n    public get pivotX() {\n        return this.parent.pivotX;\n    }\n    public set pivotX(value) {\n        this.parent.pivotX = value;\n    }\n    /**\n     *  \n     */\n    public get pivotY() {\n        return this.parent.pivotY;\n    }\n    public set pivotY(value) {\n        this.parent.pivotY = value;\n    }\n\n    /**\n      * 0xFFFFFF\n      */\n    public get tint() {\n        return this.parent.tint;\n    }\n    public set tint(value) {\n        this.parent.tint = value;\n    }\n\n    /**\n     *  Alpha 0 1\n     * */\n    public get alpha() {\n        return this.parent.alpha;\n    }\n    public set alpha(value) {\n        this.parent.alpha = value;\n    }\n\n    /**\n     * \n     * */\n    public get visible() {\n        return this.parent.visible;\n    }\n    public set visible(value) {\n        this.parent.visible = value;\n    }\n    public get visibility() {\n        return this.parent.visible ? \"visible\" : \"hidden\";\n    }\n    public set visibility(value: \"visible\" | \"hidden\") {\n        this.visible = value === \"hidden\" ? false : true;\n    }\n\n\n    /**\n     * 160xffffff\n     * */\n    private _backgroundColor?: number;\n    public get backgroundColor() {\n        return this._backgroundColor;\n    }\n    public set backgroundColor(value) {\n        if (value === this.backgroundColor) {\n            return;\n        }\n        this._backgroundColor = value;\n        CSSFunction.backgroundColor(this.parent);\n\n    }\n\n    /**\n     * backgroundImage = \"./xxx.png\"\n     * */\n    private _backgroundImage?: PIXI.Texture | string;\n    public get backgroundImage() {\n        return this._backgroundImage;\n    }\n    public set backgroundImage(value) {\n        this._backgroundImage = value;\n        CSSFunction.backgroundImage(this.parent);\n    }\n    /**\n     *  backgroundImage  X\n     * */\n    private _backgroundPositionX?: number;\n    public get backgroundPositionX() {\n        return this._backgroundPositionX;\n    }\n    public set backgroundPositionX(value) {\n        this._backgroundPositionX = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage  Y\n     * */\n    private _backgroundPositionY?: number;\n    public get backgroundPositionY() {\n        return this._backgroundPositionY;\n    }\n    public set backgroundPositionY(value) {\n        this._backgroundPositionY = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage   [width,height]\n     * */\n    private _backgroundSize?: number[];\n    public get backgroundSize() {\n        return this._backgroundSize;\n    }\n    public set backgroundSize(value) {\n        this._backgroundSize = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage \n     * repeat\n     * no-repeat\n     */\n    private _backgroundRepeat: \"no-repeat\" | \"repeat\" = \"no-repeat\";\n    public get backgroundRepeat() {\n        return this._backgroundRepeat;\n    }\n    public set backgroundRepeat(value) {\n        this._backgroundRepeat = value;\n        CSSFunction.backgroundRepeat(this.parent);\n    }\n\n\n\n    /**\n     * \n     */\n    private _maskImage?: string | PIXI.Graphics | PIXI.Texture | DisplayObject;\n    public get maskImage() {\n        return this._maskImage;\n    }\n    public set maskImage(value) {\n        this._maskImage = value;\n        CSSFunction.maskImage(this.parent);\n    }\n    /**\n     *  [x,y]\n     */\n    private _maskPosition?: number[];\n    public get maskPosition() {\n        return this._maskPosition;\n    }\n    public set maskPosition(value) {\n        this._maskPosition = value;\n        CSSFunction.maskPosition(this.parent);\n\n    }\n    /**\n     * \n     */\n    private _maskSize?: number[];\n    public get maskSize() {\n        return this._maskSize;\n    }\n    public set maskSize(value) {\n        this._maskSize = value;\n        CSSFunction.maskSize(this.parent);\n    }\n\n    /**\n     * \n     *\n     *  blur(number)\n     */\n    private _filter?: string;\n    public get filter() {\n        return this._filter;\n    }\n    public set filter(value: string | undefined) {\n        if (value === this._filter) {\n            return;\n        }\n        this._filter = value;\n        if (value === undefined || value === 'none') {\n            this.parent.container.filters = [];\n            return;\n        }\n        const target = getStringFunctionParam(value);\n        switch (target.key) {\n            case \"blur\":\n                this.parent.filterBlur = target.value;\n                break;\n            case \"grayscale\":\n                this.parent.filterGrayscale = target.value;\n                break;\n            case \"outline\":\n                //this.parent.filterOutline = value;\n                break;\n        }\n    }\n\n\n    /**\n     * \n     */\n    public get cursor() {\n        return this.parent.container.cursor;\n    }\n    public set cursor(value: string) {\n        this.parent.container.cursor = value;\n    }\n\n\n\n\n    /**\n     * 16\n     * */\n    private _color?: number | number[] = 0xfffff0;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        CSSFunction.color(this.parent, \"color\", value);\n    }\n    /**  */\n    private _letterSpacing?: number;\n    public get letterSpacing() {\n        return this._letterSpacing;\n    }\n    public set letterSpacing(value) {\n        this._letterSpacing = value;\n        CSSFunction.updateFontStyle(this.parent, \"letterSpacing\", value);\n    }\n    /**\n     * \n     * */\n    private _wordWrap = false;\n    public get wordWrap() {\n        return this._wordWrap;\n    }\n    public set wordWrap(value) {\n        this._wordWrap = value;\n        CSSFunction.updateFontStyle(this.parent, \"wordWrap\", value);\n    }\n    /**\n     * \n     * */\n    private _wordWrapWidth?: number;\n    public get wordWrapWidth() {\n        return this._wordWrapWidth;\n    }\n    public set wordWrapWidth(value) {\n        this._wordWrapWidth = value;\n        CSSFunction.updateFontStyle(this.parent, \"wordWrapWidth\", value);\n    }\n    /**\n     * (wordWrap = true) - \n     * */\n    private _textAlign: \"left\" | \"right\" | \"center\" = \"center\";\n    public get textAlign() {\n        return this._textAlign;\n    }\n    public set textAlign(value) {\n        this._textAlign = value;\n        CSSFunction.updateFontStyle(this.parent, \"textAlign\", value);\n        CSSFunction.updateFontStyle(this.parent, \"align\", value);\n\n    }\n    /**\n     * (wordWrap = true) - \n     * */\n    private _lineHeight?: number;\n    public get lineHeight() {\n        return this._lineHeight;\n    }\n    public set lineHeight(value) {\n        this._lineHeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"lineHeight\", value);\n    }\n    /**  fontFamily = \"\\\"Comic Sans MS\\\", cursive, sans-serif\" */\n    private _fontFamily?: string | string[];\n    public get fontFamily() {\n        return this._fontFamily;\n    }\n    public set fontFamily(value) {\n        this._fontFamily = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontFamily\", value);\n    }\n    /**  */\n    private _fontSize = 22;\n    public get fontSize() {\n        return this._fontSize;\n    }\n    public set fontSize(value) {\n        this._fontSize = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontSize\", value);\n    }\n    /**  */\n    private _fontStyle: \"normal\" | \"italic\" | \"oblique\" = \"normal\";\n    public get fontStyle() {\n        return this._fontStyle;\n    }\n    public set fontStyle(value) {\n        this._fontStyle = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontStyle\", value);\n    }\n    /**    */\n    private _fontVariant: \"normal\" | \"small-caps\" = \"normal\";\n    public get fontVariant() {\n        return this._fontVariant;\n    }\n    public set fontVariant(value) {\n        this._fontVariant = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontVariant\", value);\n    }\n    /**  */\n    private _fontWeight: \"normal\" | 'bold' | 'bolder' | 'lighter' | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 = \"normal\";\n    public get fontWeight() {\n        return this._fontWeight;\n    }\n    public set fontWeight(value) {\n        this._fontWeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontWeight\", value);\n    }\n    /** , */\n    private _padding?: number;\n    public get padding() {\n        return this._padding;\n    }\n    public set padding(value) {\n        this._padding = value;\n        CSSFunction.updateFontStyle(this.parent, \"padding\", value);\n    }\n    /**  */\n    private _stroke?: string | number;\n    public get stroke() {\n        return this._stroke;\n    }\n    public set stroke(value) {\n        this._stroke = value;\n        CSSFunction.updateFontStyle(this.parent, \"stroke\", value);\n    }\n    /**  */\n    private _strokeThickness = 0;\n    public get strokeThickness() {\n        return this._strokeThickness;\n    }\n    public set strokeThickness(value) {\n        this._strokeThickness = value;\n        CSSFunction.updateFontStyle(this.parent, \"strokeThickness\", value);\n    }\n    /**  */\n    private _dropShadow = false;\n    public get dropShadow() {\n        return this._dropShadow;\n    }\n    public set dropShadow(value) {\n        this._dropShadow = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadow\", value);\n    }\n    /** alpha */\n    private _dropShadowAlpha = false;\n    public get dropShadowAlpha() {\n        return this._dropShadowAlpha;\n    }\n    public set dropShadowAlpha(value) {\n        this._dropShadowAlpha = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAlpha\", value);\n    }\n    /**  */\n    private _dropShadowAngle = 0;//Math.PI / 6;\n    public get dropShadowAngle() {\n        return this._dropShadowAngle;\n    }\n    public set dropShadowAngle(value) {\n        this._dropShadowAngle = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAngle\", value);\n    }\n    /**  */\n    private _dropShadowBlur = 0;\n    public get dropShadowBlur() {\n        return this._dropShadowBlur;\n    }\n    public set dropShadowBlur(value) {\n        this._dropShadowBlur = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowBlur\", value);\n    }\n    /**  */\n    private _dropShadowColor = 0x000000;\n    public get dropShadowColor() {\n        return this._dropShadowColor;\n    }\n    public set dropShadowColor(value) {\n        this._dropShadowColor = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowColor\", value);\n    }\n    /**  */\n    private _dropShadowDistance = 5;\n    public get dropShadowDistance() {\n        return this._dropShadowDistance;\n    }\n    public set dropShadowDistance(value) {\n        this._dropShadowDistance = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowDistance\", value);\n    }\n    /**  */\n    private _breakWords = true;\n    public get breakWords() {\n        return this._breakWords;\n    }\n    public set breakWords(value) {\n        this._breakWords = value;\n        CSSFunction.updateFontStyle(this.parent, \"breakWords\", value);\n    }\n\n    private onResize() {\n\n\n        const target = this.parent;\n        if (target.width == 0 || target.height == 0) {\n            return;\n        }\n        if (this.backgroundColor && target.$background) {\n\n            const background = target.$background;\n            //console.log(\"onResize backgroundColor\",background.width , target.width ,background.height ,target.height)\n            background.clear();\n            background.beginFill(this.backgroundColor);\n            background.drawRoundedRect(0, 0, target.width, target.height, 0);\n            background.endFill();\n\n        }\n        if (target.$background && target.$background.mask) {\n            //console.log(\"onResize backgroundColor mask\",this.backgroundColor)\n            const mask = target.$background.mask as PIXI.Graphics;\n            mask.clear();\n            mask.beginFill(this.backgroundColor);\n            mask.drawRoundedRect(0, 0, target.width, target.height, 0);\n            mask.endFill();\n        }\n    }\n}\n\n\n\n/*\nCSS3.0 \n\n    background: string | null;\n    backgroundAttachment: string | null;\n    backgroundClip: string | null;\n    // backgroundColor: string | null;\n    // backgroundImage: string | null;\n    backgroundOrigin: string | null;\n    backgroundPosition: string | null;\n    // backgroundPositionX: string | null;\n    // backgroundPositionY: string | null;\n    backgroundRepeat: string | null;\n    // backgroundSize: string | null;\n\n\n    alignContent: string;\n    alignItems: string;\n    alignSelf: string;\n    alignmentBaseline: string | null;\n    animation: string;\n    animationDelay: string;\n    animationDirection: string;\n    animationDuration: string;\n    animationFillMode: string;\n    animationIterationCount: string;\n    animationName: string;\n    animationPlayState: string;\n    animationTimingFunction: string;\n    backfaceVisibility: string | null;\n\n    baselineShift: string | null;\n    border: string | null;\n    borderBottom: string | null;\n    borderBottomColor: string | null;\n    borderBottomLeftRadius: string | null;\n    borderBottomRightRadius: string | null;\n    borderBottomStyle: string | null;\n    borderBottomWidth: string | null;\n    borderCollapse: string | null;\n    borderColor: string | null;\n    borderImage: string | null;\n    borderImageOutset: string | null;\n    borderImageRepeat: string | null;\n    borderImageSlice: string | null;\n    borderImageSource: string | null;\n    borderImageWidth: string | null;\n    borderLeft: string | null;\n    borderLeftColor: string | null;\n    borderLeftStyle: string | null;\n    borderLeftWidth: string | null;\n    borderRadius: string | null;\n    borderRight: string | null;\n    borderRightColor: string | null;\n    borderRightStyle: string | null;\n    borderRightWidth: string | null;\n    borderSpacing: string | null;\n    borderStyle: string | null;\n    borderTop: string | null;\n    borderTopColor: string | null;\n    borderTopLeftRadius: string | null;\n    borderTopRightRadius: string | null;\n    borderTopStyle: string | null;\n    borderTopWidth: string | null;\n    borderWidth: string | null;\n    // bottom: string | null;\n    boxShadow: string | null;\n    boxSizing: string;\n    breakAfter: string | null;\n    breakBefore: string | null;\n    breakInside: string | null;\n    captionSide: string | null;\n    caretColor: string;\n    clear: string | null;\n    clip: string;\n    clipPath: string;\n    clipRule: string;\n    // color: string | null;\n    colorInterpolationFilters: string;\n    columnCount: string;\n    columnFill: string;\n    columnGap: string;\n    columnRule: string;\n    columnRuleColor: string;\n    columnRuleStyle: string;\n    columnRuleWidth: string;\n    columnSpan: string;\n    columnWidth: string;\n    columns: string;\n    content: string | null;\n    counterIncrement: string | null;\n    counterReset: string | null;\n    cssFloat: string | null;\n    cssText: string;\n    cursor: string;\n    direction: string;\n    // display: string | null;\n    dominantBaseline: string | null;\n    emptyCells: string | null;\n    enableBackground: string | null;\n    fill: string | null;\n    fillOpacity: string | null;\n    fillRule: string | null;\n    filter: string;\n    flex: string | null;\n    flexBasis: string | null;\n    flexDirection: string | null;\n    flexFlow: string | null;\n    flexGrow: string | null;\n    flexShrink: string | null;\n    flexWrap: string | null;\n    floodColor: string;\n    floodOpacity: string;\n    font: string;\n    // fontFamily: string;\n    fontFeatureSettings: string;\n    fontKerning: string;\n    // fontSize: string;\n    fontSizeAdjust: string;\n    fontStretch: string;\n    // fontStyle: string;\n    fontSynthesis: string;\n    // fontVariant: string;\n    fontVariantCaps: string;\n    fontVariantEastAsian: string;\n    fontVariantLigatures: string;\n    fontVariantNumeric: string;\n    fontVariantPosition: string;\n    // fontWeight: string;\n    gap: string;\n    glyphOrientationHorizontal: string | null;\n    glyphOrientationVertical: string;\n    grid: string | null;\n    gridArea: string | null;\n    gridAutoColumns: string | null;\n    gridAutoFlow: string | null;\n    gridAutoRows: string | null;\n    gridColumn: string | null;\n    gridColumnEnd: string | null;\n    gridColumnGap: string;\n    gridColumnStart: string | null;\n    gridGap: string;\n    gridRow: string | null;\n    gridRowEnd: string | null;\n    gridRowGap: string;\n    gridRowStart: string | null;\n    gridTemplate: string | null;\n    gridTemplateAreas: string | null;\n    gridTemplateColumns: string | null;\n    gridTemplateRows: string | null;\n    // height: string | null;\n    hyphens: string;\n    imageOrientation: string;\n    imageRendering: string;\n    imeMode: string | null;\n    justifyContent: string;\n    justifyItems: string;\n    justifySelf: string;\n    kerning: string | null;\n    layoutGrid: string | null;\n    layoutGridChar: string | null;\n    layoutGridLine: string | null;\n    layoutGridMode: string | null;\n    layoutGridType: string | null;\n    // left: string | null;\n    readonly length: number;\n    // letterSpacing: string;\n    lightingColor: string;\n    lineBreak: string;\n    // lineHeight: string | null;\n    listStyle: string | null;\n    listStyleImage: string | null;\n    listStylePosition: string | null;\n    listStyleType: string | null;\n\n    margin: string | null;\n    marginBottom: string | null;\n    marginLeft: string | null;\n    marginRight: string | null;\n    marginTop: string | null;\n\n    marker: string | null;\n    markerEnd: string | null;\n    markerMid: string | null;\n    markerStart: string | null;\n    mask: string;\n    maskComposite: string;\n    maskImage: string;\n    maskPosition: string;\n    maskRepeat: string;\n    maskSize: string;\n    maskType: string;\n\n    // maxHeight: string | null;\n    // maxWidth: string | null;\n    // minHeight: string | null;\n    // minWidth: string | null;\n\n    objectFit: string;\n    objectPosition: string;\n    opacity: string | null;\n    order: string | null;\n    orphans: string | null;\n    outline: string;\n    outlineColor: string;\n    outlineOffset: string;\n    outlineStyle: string;\n    outlineWidth: string;\n\n    overflow: string;\n    overflowAnchor: string;\n    overflowWrap: string;\n    overflowX: string;\n    overflowY: string;\n\n    padding: string | null;\n    paddingBottom: string | null;\n    paddingLeft: string | null;\n    paddingRight: string | null;\n    paddingTop: string | null;\n\n    pageBreakAfter: string | null;\n    pageBreakBefore: string | null;\n    pageBreakInside: string | null;\n    readonly parentRule: CSSRule;\n    penAction: string | null;\n    perspective: string | null;\n    perspectiveOrigin: string | null;\n    placeContent: string;\n    placeItems: string;\n    placeSelf: string;\n    pointerEvents: string | null;\n    // position: string | null;\n    quotes: string | null;\n    resize: string;\n    // right: string | null;\n    rotate: string | null;\n    rowGap: string;\n    rubyAlign: string | null;\n    rubyOverhang: string | null;\n    rubyPosition: string | null;\n    // scale: string | null;\n    scrollBehavior: string;\n    stopColor: string | null;\n    stopOpacity: string | null;\n\n    stroke: string | null;\n    strokeDasharray: string | null;\n    strokeDashoffset: string | null;\n    strokeLinecap: string | null;\n    strokeLinejoin: string | null;\n    strokeMiterlimit: string | null;\n    strokeOpacity: string | null;\n    strokeWidth: string | null;\n\n    tabSize: string;\n    tableLayout: string | null;\n    // textAlign: string;\n    textAlignLast: string;\n    textAnchor: string | null;\n    textCombineUpright: string;\n    textDecoration: string;\n    textDecorationColor: string;\n    textDecorationLine: string;\n    textDecorationStyle: string;\n    textEmphasis: string;\n    textEmphasisColor: string;\n    textEmphasisPosition: string;\n    textEmphasisStyle: string;\n    textIndent: string;\n    textJustify: string;\n    textKashida: string | null;\n    textKashidaSpace: string | null;\n    textOrientation: string;\n    textOverflow: string;\n    textShadow: string;\n    textTransform: string;\n    textUnderlinePosition: string;\n    // top: string | null;\n    touchAction: string;\n    transform: string;\n    transformBox: string;\n    transformOrigin: string;\n    transformStyle: string | null;\n    transition: string;\n    transitionDelay: string;\n    transitionDuration: string;\n    transitionProperty: string;\n    transitionTimingFunction: string;\n    translate: string | null;\n    unicodeBidi: string;\n    userSelect: string;\n    verticalAlign: string | null;\n    visibility: string | null;\n\n    whiteSpace: string;\n    widows: string | null;\n    // width: string | null;\n    willChange: string;\n    wordBreak: string;\n    wordSpacing: string;\n    // wordWrap: string;\n    writingMode: string;\n    // zIndex: string | null;\n    zoom: string | null;\n    */\n","import { getTexture, getDisplayObject } from \"../utils/Utils\";\nimport { DisplayObject } from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/** ===================== background  ===================== */\n\nexport function backgroundColor(target: DisplayObject){\n\n    if(target.style == undefined){\n        return;\n    }\n    if(target.style.backgroundColor==undefined  && target.$background == undefined){\n        return;\n    }\n    if (target.$background === undefined) {\n        target.$background = new PIXI.Graphics();\n        target.$background.name = \"background\";\n        target.container.addChildAt(target.$background, 0);\n    }\n}\n\nexport function backgroundPositionSize(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if (target.$background && target.$background.children.length > 0) {\n        const sprite = target.$background.getChildAt(0) as PIXI.Sprite;\n        const style = target.style;\n        if (sprite instanceof PIXI.TilingSprite) {\n            sprite.tilePosition.set(style.backgroundPositionX || 0, style.backgroundPositionY || 0);\n        } else {\n            if (style.backgroundSize) {\n                sprite.width = style.backgroundSize[0];\n                sprite.height = style.backgroundSize[1];\n            }\n            sprite.position.set(style.backgroundPositionX || 0, style.backgroundPositionY || 0);\n        }\n    }\n}\n\nexport function backgroundRepeat(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    const style = target.style;\n    if (style.backgroundImage && target.$background) {\n        target.$background.removeChildren();\n\n        let backgroundImage: PIXI.Texture | undefined;\n        if (style.backgroundImage instanceof PIXI.Texture) {\n            backgroundImage = style.backgroundImage;\n        } else if (typeof style.backgroundImage === \"string\") {\n            backgroundImage = getTexture(style.backgroundImage);\n        }\n        if (backgroundImage) {\n            let sprite: PIXI.TilingSprite | PIXI.NineSlicePlane | PIXI.Sprite;\n            if (style.backgroundRepeat === undefined) {\n                style.backgroundRepeat = \"no-repeat\";\n            }\n            if (style.backgroundRepeat === \"repeat\") {\n                sprite = new PIXI.TilingSprite(backgroundImage);\n            } else {\n                sprite = new PIXI.Sprite(backgroundImage);\n            }\n\n            target.$background.addChild(sprite);\n            const maskGraphics = new PIXI.Graphics();\n            target.$background.addChild(maskGraphics);\n            target.$background.mask = maskGraphics;\n        }\n    }\n}\n\nexport function backgroundImage(target: DisplayObject){\n    if (target.$background === undefined) {\n        target.$background = new PIXI.Graphics();\n        target.$background.name = \"background\";\n        target.container.addChildAt(target.$background, 0);\n    }\n    backgroundRepeat(target);\n    backgroundPositionSize(target);\n\n}\n\n/** ===================== mask  ===================== */\n\n\nexport function maskPosition(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if(target.$mask){\n        const style = target.style;\n        if(style.maskPosition === undefined){\n            return;\n        }\n        \n        if(target.$mask instanceof DisplayObject){\n            target.$mask.x = style.maskPosition[0];\n            target.$mask.y =  style.maskPosition[1];\n        }else{\n            target.$mask.position.set(style.maskPosition[0],style.maskPosition[1])\n        }\n    }\n}\n\nexport function maskSize(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if(target.$mask){\n        const style = target.style;\n        if(style.maskSize === undefined){\n            return;\n        }\n\n        target.$mask.width = style.maskSize[0];\n        target.$mask.height = style.maskSize[1];\n        if(target.$mask instanceof PIXI.Graphics){\n            //target.$mask.clone\n        }\n        if(!(target.$mask instanceof DisplayObject))\n            target.$mask.updateTransform();\n    }\n}\n\nexport function maskImage(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    target.container.mask = null;\n    if (target.$mask && target.$mask.parent) {\n        if (target.$mask instanceof DisplayObject) {\n            target.removeChild(target.$mask);\n        } else {\n            target.$mask.parent.removeChild(target.$mask);\n        }\n    }\n\n    for (let i = 0; i < target.uiChildren.length; i++) {\n        if (target.uiChildren[i].name == \"maskImage\") {\n            target.removeChild(target.uiChildren[i]);\n            break;\n        }\n    }\n\n    target.$mask = undefined;\n    const style = target.style;\n    const container = target.container;\n    const maskdisplay = getDisplayObject( style.maskImage,target) as MaskSprite | PIXI.Graphics | string;\n\n    if(maskdisplay == null || maskdisplay === ''){\n        return;\n    }\n\n    if (maskdisplay instanceof PIXI.Graphics) {\n        target.$mask = maskdisplay;\n        container.mask = target.$mask;\n        container.addChild(target.$mask);\n    } else if (maskdisplay instanceof DisplayObject) {\n\n        if((maskdisplay as MaskSprite).maskSprite){\n            target.$mask = maskdisplay;//gui\n            target.$mask.name = \"maskImage\";\n            container.mask = maskdisplay.maskSprite() || null;//pixi\n            if(maskdisplay.parent == undefined){\n                target.addChild(maskdisplay);\n            }\n                \n        }\n    } else {\n        target.$mask = PIXI.Sprite.from(getTexture(style.maskImage));\n        container.mask = target.$mask;\n        container.addChild(target.$mask);\n    }\n\n    maskSize(target);\n    maskPosition(target)\n\n}\n\n\n/** ===================== font  ===================== */\nexport function updateFontStyle(target: TAny,key: string,value: TAny){\n    if(target.setInputStyle){\n        target.setInputStyle(key, value);\n    }else{\n        target.sprite.style[key] =value;\n    } \n}\nexport function color(target: TAny,key: string,value: TAny){\n    if(target.setInputStyle){\n        target.setInputStyle(key, value);\n    }else{\n        target.sprite.style.fill =value;\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { updateGridLayout } from \"./CSSGridLayout\";\nimport { updateBasicDisplayList } from \"./CSSBasicLayout\";\n\nexport const $TempRectangle = new PIXI.Rectangle();\n\nfunction updateDisplayAlign(target: DisplayObject,parentWidth: number,parentHeight: number,marginTop=0,marginLeft=0){\n\n\n    if(target.style == undefined){\n        return;\n    }\n    if (target.style.justifyContent == undefined && target.style.alignContent == undefined) {\n        return\n    }\n    let startX = 0;\n    let startY = 0;\n    const bounds = target.getPreferredBounds($TempRectangle);\n\n    switch(target.style.justifyContent){\n        case \"center\":\n            startX = parentWidth - bounds.width >>1 ;\n            break;\n        case \"flex-start\":\n            startX = marginLeft;\n            break;\n        case \"flex-end\":\n            startX = parentWidth - bounds.width - (marginLeft);\n            break;\n\n    }\n\n    switch(target.style.alignContent){\n        case \"center\":\n            startY = parentHeight - bounds.height >>1 ;\n            break;\n        case \"flex-start\":\n            startY = marginTop;\n            break;\n        case \"flex-end\":\n            startY = parentHeight - bounds.height - (marginTop);\n            break;\n\n    }\n    if(startX!==0) target.x = startX;\n    if(startY!==0) target.y = startY;\n}\n\n\n/**\n * \n */\nexport function updateDisplayLayout(target: DisplayObject,unscaledWidth: number, unscaledHeight: number) {\n\n    if(target.style == undefined){\n        return;\n    }\n    if(target.style.display === \"block\"){\n        const pos = updateBasicDisplayList(target,unscaledWidth, unscaledHeight);\n        //console.log(pos);\n    }else if(target.style.display === \"grid\"){\n        const size = updateGridLayout(target);\n        updateBasicDisplayList(target,size.width, size.height);\n    }\n    \n    if(target.parent){\n        updateDisplayAlign(target,target.parent.width,target.parent.height,target.style.gridRowGap,target.style.gridColumnGap);\n    }\n\n    if(target.isContainer){\n        \n        const bounds = target.getPreferredBounds($TempRectangle);\n        let child: DisplayObject;\n        for(let i = 0;i<target.uiChildren.length;i++){\n            child = target.uiChildren[i] as DisplayObject;\n            updateDisplayAlign(child,bounds.width,bounds.height,child.style.gridRowGap,child.style.gridColumnGap);  \n        }\n        \n    }\n\n}\n\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { $tempRectangle } from \"./CSSBasicLayout\";\n\nfunction getColumnRowValue(gridTemplate: number[] | string[] | [string, number, number] | undefined, parentValue: number) {\n    const list: number[] = [];\n    let isInfinity = false;\n    if (gridTemplate) {\n        if (gridTemplate[0] === \"repeat\") {\n            if (gridTemplate[1] === Infinity) {\n                isInfinity = true;\n                list.push(formatRelative(0, parentValue));\n            } else {\n                for (let i = 0; i < gridTemplate[1]; i++) {\n                    list.push(formatRelative(gridTemplate[2], parentValue));\n                }\n            }\n        } else {\n            for (let i = 0; i < gridTemplate.length; i++) {\n                list.push(formatRelative(gridTemplate[i], parentValue));\n            }\n        }\n    }\n    return { list, isInfinity };\n}\n\n/**\n *  \n * \n * 100 100%\n * \n *  \n * \n * grid\n * \n *  https://developer.mozilla.org/zh-CN/docs/Glossary/Grid\n * \n *  gridTemplateRows https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-columns\n * \n *  gridTemplateColumns https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-rows\n * \n *  gridRowGap   https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-row-gap\n * \n *  gridColumnGap  https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-column-gap\n * \n *   justifyContentalignContent\n * \n *  https://developer.mozilla.org/en-US/docs/Glossary/Grid_Lines\n * \n * https://developer.mozilla.org/zh-CN/docs/Glossary/Grid_Areas\n */\nexport function updateGridLayout(target: DisplayObject) {\n\n    if (target.parent == undefined) {\n        return $tempRectangle;\n    }\n    if (target.style == undefined) {\n        return $tempRectangle;\n    }\n\n\n    let rowHeightTotal = 0;\n    let columnWidthTotal = 0;\n\n    const style = target.style;\n\n    const gridColumnGap = style.gridColumnGap || 0;\n    const gridRowGap = style.gridRowGap || 0;\n\n    const column = getColumnRowValue(style.gridTemplateColumns, target.parent.width);\n    const row = getColumnRowValue(style.gridTemplateRows, target.parent.height);\n\n\n\n    let child: DisplayObject;\n\n    let cloumnIndex = 0;\n    let rowIndex = 0;\n\n    let cloumnWidth = 0;\n    let rowHeight = 0;\n\n    let widthTotal = 0;\n    for (let i = 0; i < target.uiChildren.length; i++) {\n        child = target.uiChildren[i] as DisplayObject;\n        if (child.style.justifyContent || child.style.alignContent) {\n            continue;\n        }\n        if (column.isInfinity) {\n            cloumnWidth = column.list[0] || 0;\n        } else {\n            cloumnWidth = column.list[cloumnIndex] || 0;\n        }\n\n        if (row.isInfinity) {\n            rowHeight = row.list[0] || 0;\n        } else {\n            rowHeight = row.list[rowIndex] || 0;\n        }\n\n        child.width = child.explicitWidth || cloumnWidth;\n        child.height = child.explicitHeight || rowHeight;\n\n        child.x = widthTotal;\n        child.y = rowHeightTotal;\n\n        widthTotal += cloumnWidth + gridColumnGap;\n        cloumnIndex++;\n        if (widthTotal > columnWidthTotal) {\n            columnWidthTotal = widthTotal;\n        }\n        if (cloumnIndex >= column.list.length) {\n            cloumnIndex = 0;\n            widthTotal = 0;\n            if (rowHeight !== 0) {\n                rowHeightTotal += (rowHeight + gridRowGap);\n            } else {\n                rowHeightTotal += (child.height + gridRowGap);\n            }\n            if (!column.isInfinity)\n                rowIndex++;\n        }\n    }\n    columnWidthTotal = Math.max(target.width, columnWidthTotal - gridColumnGap);\n    rowHeightTotal = Math.max(target.height, rowHeightTotal - gridRowGap);\n\n    target.width = columnWidthTotal\n    target.height = rowHeightTotal\n    $tempRectangle.width = columnWidthTotal;\n    $tempRectangle.height = rowHeightTotal;\n    return $tempRectangle;\n\n}\n\n","import { DisplayObject } from \"../DisplayObject\";\nimport { DragEvent, DragDropController, InteractionEvent, ComponentEvent } from \"../../interaction/Index\";\nimport { TouchMouseEventEnum } from \"../../interaction/TouchMouseEventEnum\";\nimport { DisplayObjectAbstract } from \"../DisplayObjectAbstract\";\nimport { Stage } from \"../Stage\";\nimport { getDisplayObject } from \"../../utils/Utils\";\n\n\n/**\n *  \n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestDrop\n */\nexport class UIBaseDrag implements Lifecycle {\n    /**\n     * \n     */\n    public constructor(target: DisplayObject) {\n        this.target = target;\n        this.target.plugs.set(UIBaseDrag.key, this);\n    }\n\n    public static key = \"UIBaseDrag\";\n\n    private target: DisplayObject | undefined;\n    public $targetParent: DisplayObject | Stage | undefined;\n    /** \n     * \n     *  @default\n     */\n    private dragInitialized = false;\n    /** \n     * \n     * @default\n    */\n    private dropInitialized = false;\n    /** \n     *  \n     */\n    private drag: DragEvent | undefined;\n    /** \n     *  \n     * \n     */\n    private _dragPosition = new PIXI.Point();\n    /**\n     * \n     */\n    private _containerStart: PIXI.Point | undefined;\n\n    /** \n     * \n     * @default\n     */\n    public dragging = false;\n    /** \n     * IDDragDropController \n     */\n    public get dragDropEventId(): number | undefined {\n        if (this.target) {\n            return this.target.attach.dragDropEventId as number;\n        }\n    }\n\n    /**\n     * \n     * @default false\n     */\n    public set draggable(value: boolean) {\n        if (value)\n            this.initDraggable();\n        else\n            this.clearDraggable();\n    }\n\n    /**\n     * \n     * @default false\n     */\n    public dragBoundary = false;\n    /**\n     * \b\n     */\n    public dragBounces = false;\n\n    /**\n     * ,XY,XY\n     */\n    private _dragRestrictAxis?: \"x\" | \"y\";\n    public get dragRestrictAxis() {\n        return this._dragRestrictAxis;\n    }\n    public set dragRestrictAxis(value) {\n        this._dragRestrictAxis = value;\n        if (this.drag) {\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n        }\n    }\n\n    /** \n     * \n     */\n    public get dragGroup(): string {\n        if (this.target) {\n            return this.target.attach.dragGroup as string;\n        }\n        return \"\";\n    }\n    public set dragGroup(value: string) {\n        if (this.target)\n            this.target.attach.dragGroup = value;\n    }\n\n    /**\n     * \n     */\n    private _dragContainer: DisplayObjectAbstract | undefined;\n    public get dragContainer() {\n        return this._dragContainer;\n    }\n    public set dragContainer(value) {\n        this._dragContainer = getDisplayObject(value,this.target);\n    }\n\n    /**\n     * \n     */\n    public set droppable(value: boolean | undefined) {\n        if (value)\n            this.initDroppable();\n        else\n            this.clearDroppable();\n    }\n\n    /**\n     * \n     */\n    private _droppableReparent: DisplayObject | undefined;\n    public get droppableReparent() {\n        return this._droppableReparent;\n    }\n    public set droppableReparent(value) {\n        this._droppableReparent = getDisplayObject(value,this.target);\n    }\n    /**\n     * \n     */\n    public dropGroup: string | undefined;\n\n\n    protected clearDraggable() {\n        if (this.dragInitialized) {\n            this.dragInitialized = false;\n            this.drag && this.drag.stopEvent();\n        }\n    }\n\n    protected initDraggable() {\n        if (this.target == undefined) {\n            return;\n        }\n        if (!this.dragInitialized) {\n\n            this.dragInitialized = true;\n            const containerStart = new PIXI.Point();\n            const stageOffset = new PIXI.Point();\n            this._containerStart = containerStart;\n            this._dragPosition.set(0, 0);\n\n            this.drag = new DragEvent(this.target);\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n\n            this.drag.onDragStart = (e: InteractionEvent) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                let target = this.target;\n                this.$targetParent = target.parent;\n                \n                if(this._dragContainer == undefined && !this.dragBoundary){\n                    this._dragContainer = this.target.stage;\n                }    \n                \n                const added = DragDropController.add(target, e);\n                if (!this.dragging && added) {\n                    target.emit(ComponentEvent.DRAG_START_BEFORE, target, e);\n                    this.dragging = true;\n                    target.interactive = false;\n                    containerStart.copyFrom(target.container.position);\n                    if (this._dragContainer) {\n                        let c: DisplayObjectAbstract | undefined;\n                        if (this._dragContainer instanceof DisplayObjectAbstract) {\n                            c = this._dragContainer;\n                        }\n                        if (c && target.parent) {\n                            //_this.container._recursivePostUpdateTransform();\n                            stageOffset.set(c.container.worldTransform.tx - target.parent.container.worldTransform.tx, c.container.worldTransform.ty - target.parent.container.worldTransform.ty);\n                            c.addChild(target);\n                            stageOffset.set(stageOffset.x/target.parent.scaleX,stageOffset.y/target.parent.scaleY);\n                        }\n                    } else {\n                        stageOffset.set(0);\n                    }\n                    target.emit(ComponentEvent.DRAG_START, target, e);\n                }\n            };\n\n\n            this.drag.onDragMove = (e: InteractionEvent, offset: PIXI.Point) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                let target = this.target;\n                if (this.dragging && target.stage) {\n                    let x = containerStart.x + (offset.x/target.stage.scaleX) - stageOffset.x;\n                    let y = containerStart.y + (offset.y/target.stage.scaleY) - stageOffset.y;\n                    if (this.dragRestrictAxis == \"x\") {\n                        this._dragPosition.set(x, containerStart.y - stageOffset.y);\n                    } else if (this.dragRestrictAxis == \"y\") {\n                        this._dragPosition.set(containerStart.x - stageOffset.x, y);\n                    } else {\n                        this._dragPosition.set(x, y);\n                    }\n                    if (this.dragBoundary && target.parent) {\n                        this._dragPosition.x = Math.max(0, this._dragPosition.x);\n                        this._dragPosition.x = Math.min(this._dragPosition.x, target.parent.width - target.width);\n                        this._dragPosition.y = Math.max(0, this._dragPosition.y);\n                        this._dragPosition.y = Math.min(this._dragPosition.y, target.parent.height - target.height);\n                    }\n                    target.setPosition(this._dragPosition.x, this._dragPosition.y);\n                    target.emit(ComponentEvent.DRAG_MOVE, target, e);\n                }\n\n            };\n\n            this.drag.onDragEnd = (e: InteractionEvent) => {\n                if (this.dragging) {\n                    this.dragging = false;\n\n                    //0\n                    setTimeout(() => {\n                        if (this.target == undefined) {\n                            return;\n                        }\n\n                        //dragBounces\n                        let target = this.target;\n                        let parent = this.$targetParent;\n                        target.interactive = true;\n                        const item = DragDropController.getItem(target);\n                        target.emit(ComponentEvent.DRAG_END_BEFORE, target, e);\n                        if (item && parent) {\n                            if (target.parent !== parent && target.parent) {\n                                parent.container.toLocal(target.container.position, target.container.parent, this._dragPosition);\n                                parent.addChild(target);\n                                target.x = this._dragPosition.x;\n                                target.y = this._dragPosition.y;\n                            }\n                            if (this.dragBounces && this._containerStart) {\n                                target.x = this._containerStart.x;\n                                target.y = this._containerStart.y;\n                            }\n                        }\n                        target.emit(ComponentEvent.DRAG_END, target, e);\n\n\n                    }, 0);\n                }\n\n            };\n        }\n    }\n\n    protected clearDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        let target = this.target;\n        if (this.dropInitialized) {\n            this.dropInitialized = false;\n            target.container.off(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            target.container.off(TouchMouseEventEnum.touchend, this.onDrop, this);\n        }\n    }\n\n    protected initDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        let target = this.target;\n        if (!this.dropInitialized) {\n            this.dropInitialized = true;\n            const container = target.container;\n            //self = this;\n            container.interactive = true;\n            container.on(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            container.on(TouchMouseEventEnum.touchend, this.onDrop, this);\n\n        }\n    }\n\n    private onDrop(e: InteractionEvent) {\n        if (this.target == undefined) {\n            return;\n        }\n        let target = this.target;\n        const item = DragDropController.getEventItem(e, this.dropGroup);\n        if (item && item.dragOption.dragging) {\n            item.dragOption.dragging = false;\n            item.interactive = true;\n            const parent = item.dragOption.droppableReparent !== undefined ? item.dragOption.droppableReparent : target;\n            if (parent) {\n                parent.container.toLocal(item.container.position, item.container.parent, this._dragPosition);\n                item.x = this._dragPosition.x;\n                item.y = this._dragPosition.y;\n                if (parent != item.parent) {\n                    parent.addChild(item);\n                    parent.emit(ComponentEvent.DROP_TARGET, parent, item, e);\n                }\n                item.dragOption.$targetParent = parent;\n            }\n            item.emit(ComponentEvent.DRAG_TARGET, item, e);\n        }\n    }\n\n    load() {\n\n    }\n\n    release() {\n\n        this.clearDraggable();\n        this.clearDroppable();\n\n        if (this.target) {\n            this.target.plugs.delete(UIBaseDrag.key);\n            this.target = undefined;\n            this.$targetParent = undefined;\n            this.dragContainer = undefined;\n        }\n    }\n\n}","import { DisplayObject } from \"../DisplayObject\";\nimport { ClickEvent } from \"../../interaction/Index\";\n\n/**\n *  \n * \n */\nexport class UIClick implements Lifecycle {\n    /**\n     * \n     */\n    public constructor(target: DisplayObject) {\n        this._target = target;\n        this._target.plugs.set(UIClick.key, this);\n        this._clickEvent = new ClickEvent(target,true);;\n    }\n\n    public static key = \"UIClick\";\n    private _target: DisplayObject | undefined;\n    private _clickEvent:ClickEvent;\n\n    load() {\n\n    }\n\n    release() {\n\n        this._clickEvent.remove();\n        if (this._target) {\n            this._target.plugs.delete(UIClick.key);\n            this._target = undefined;\n        }\n    }\n\n}","import {Container} from \"./Container\";\nimport * as Ticker from \"../core/Ticker\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent} from \"../interaction/DragEvent\";\nimport {MouseScrollEvent} from \"../interaction/MouseScrollEvent\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport { now } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { ContainerBase } from \"../core/ContainerBase\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\n\n\n/**\n * \n * \n * @example let scrollingContainer = new gui.ScrollingContainer();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestRect\n */\nexport class ScrollingContainer extends Container {\n    public constructor() {\n        super();\n        this.container.addChild(this._innerContainer);\n        this.container.name = \"ScrollingContainer\";\n        this._innerContainer.name = \"innerContainer\";\n\n        const _graphics = new PIXI.Graphics();\n        _graphics.clear();\n        _graphics.beginFill(0xffcc00);   \n        _graphics.drawRoundedRect(0,0,200,200,0);\n        _graphics.endFill();\n        this.style.maskImage =_graphics;   \n\n        this.dragEvent.onDragStart = () => {\n            if (!this.scrolling) {\n                this._containerStart.copyFrom(this._innerContainer.position);\n                this._Position.copyFrom(this._innerContainer.position);\n                this.scrolling = true;\n                this.setScrollPosition();\n                Ticker.shared.addUpdateEvent(this.updateScrollPosition, this);\n            }\n        };\n\n        this.dragEvent.onDragMove = (e: InteractionEvent, offset: PIXI.Point) => {\n            if (this.scrollX)\n                this._targetPosition.x = this._containerStart.x + offset.x;\n            if (this.scrollY)\n                this._targetPosition.y = this._containerStart.y + offset.y;\n        };\n\n        this.dragEvent.onDragEnd = () => {\n            if (this.scrolling) {\n                this.scrolling = false;\n                Ticker.shared.removeUpdateEvent(this.updateScrollPosition, this);\n            }\n        };\n\n        const scrollSpeed = new PIXI.Point();\n        this.mouseScrollEvent.onMouseScroll = (e: WheelEvent,delta: PIXI.Point) => {\n            scrollSpeed.set(-delta.x * 0.2, -delta.y * 0.2);\n            this.setScrollPosition(scrollSpeed);\n        };\n\n    }\n    /**\n     * \n     * @default true\n     */\n    private _dragScrolling = true;\n    public get dragScrolling() {\n        return this._dragScrolling;\n    }\n    public set dragScrolling(value) {\n        this._dragScrolling = value;\n        //Drag scroll and Mouse scroll\n        if (value) {\n            this.mouseScrollEvent.startEvent();\n            this.dragEvent.startEvent();\n        }else{\n            this.mouseScrollEvent.stopEvent();\n            this.dragEvent.stopEvent();\n        }\n    }\n    /**\n     *  (0-1) \n     * @default 0.5\n     */\n    public softness = 0.5;\n    /** \n     *  0\n     * @default 0\n     */\n    public radius = 0;\n    /**\n     * \n     */\n    public expandMask = 0;\n    /** \n     *  \n     * @default false\n     */\n    public animating = false;\n    /** \n     *  \n     * @default false\n     */\n    public scrollX = false;\n    /**\n     * \n     */\n    public scrollY = false;\n    \n    /**\n     * \n     * @private\n     */\n    private _innerContainer = new ContainerBase();\n    /**\n     * \n     */\n    public innerBounds = new PIXI.Rectangle();\n    /** \n     * \n     */\n    private dragEvent = new DragEvent(this);\n    /**\n     * \n     */\n    private mouseScrollEvent = new MouseScrollEvent(this,true);\n    /**\n     * \n     */\n    private scrolling = false;\n    /**\n     * \n     */\n    private _boundCached = now() - 1000;\n\n    private _lastWidth = 0;\n    private _lastHeight = 0;\n\n    private _isInitScrolling = false;\n\n    private _containerStart = new PIXI.Point();\n    private _targetPosition = new PIXI.Point();\n    private _lastPosition = new PIXI.Point();\n    private _Position = new PIXI.Point();\n    private _Speed = new PIXI.Point();\n    private _stop = false;\n\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if (this._lastWidth != unscaledWidth || this._lastHeight != unscaledHeight) {\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n            const _of = this.expandMask;\n            this.style.maskPosition = [_of,_of];\n            \n            this._lastWidth = unscaledWidth;\n            this._lastHeight = unscaledHeight;\n            this.style.maskSize = [unscaledWidth,unscaledHeight];\n            this.setScrollPosition();\n        }\n    }\n\n    protected setScrollPosition(speed?: PIXI.Point) {\n        if (speed) {\n            this._Speed = speed;\n        }\n\n        if (!this.animating) {\n            this.animating = true;\n            this._lastPosition.copyFrom(this._innerContainer.position);\n            this._targetPosition.copyFrom(this._innerContainer.position);\n            this.updateScrollPosition(0);\n        }\n    }\n\n\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as TAny;    \n        index = Math.min(this._innerContainer.children.length,index);\n        this._innerContainer.addChildAt(item.container, index);\n        this.uiChildren.splice(index, 0, item);\n        this.getInnerBounds(true);\n        \n        return item as TAny;\n    }\n\n    protected getInnerBounds(force?: boolean) {\n\n        //this is a temporary fix, because we cant rely on innercontainer height if the children is positioned > 0 y.\n        if (force || now() - this._boundCached > 1000) {\n            this._innerContainer.getLocalBounds(this.innerBounds);\n            this.innerBounds.height = this.innerBounds.y + this._innerContainer.height;\n            this.innerBounds.width = this.innerBounds.x + this._innerContainer.width;\n            this._boundCached = now();\n        }\n        return this.innerBounds;\n    }\n\n\n\n    $onInit(){\n        super.$onInit();\n        this.initScrolling();\n    }\n    protected initScrolling() {\n\n        this._isInitScrolling = true;\n\n        this.updateScrollBars();\n    }\n\n    protected updateScrollBars() {\n        this.emit(ComponentEvent.CHANGE,this)\n    }\n\n\n    /**\n     * \n     * @param direction \n     * @param pct 0-1\n     */\n    public forcePctPosition(direction: \"x\" | \"y\", pct: number) {\n        const bounds = this.getInnerBounds();\n        if (this.scrollX && direction == \"x\") {\n            this._innerContainer.position[direction] = -((bounds.width - this._width) * pct);\n        }\n        if (this.scrollY && direction == \"y\") {\n            this._innerContainer[direction] = -((bounds.height - this._height) * pct);\n        }\n        this._Position[direction] = this._targetPosition[direction] = this._innerContainer.position[direction];\n    }\n\n    /**  */\n    public focusPosition(pos: PIXI.Point) {\n        const bounds = this.getInnerBounds();\n\n        let dif;\n        if (this.scrollX) {\n            const x = Math.max(0, (Math.min(bounds.width, pos.x)));\n            if (x + this._innerContainer.x > this._width) {\n                dif = x - this._width;\n                this._innerContainer.x = -dif;\n            }\n            else if (x + this._innerContainer.x < 0) {\n                dif = x + this._innerContainer.x;\n                this._innerContainer.x -= dif;\n            }\n        }\n\n        if (this.scrollY) {\n            const y = Math.max(0, (Math.min(bounds.height, pos.y)));\n\n            if (y + this._innerContainer.y > this._height) {\n                dif = y - this._height;\n                this._innerContainer.y = -dif;\n            }\n            else if (y + this._innerContainer.y < 0) {\n                dif = y + this._innerContainer.y;\n                this._innerContainer.y -= dif;\n            }\n        }\n\n        this._lastPosition.copyFrom(this._innerContainer.position);\n        this._targetPosition.copyFrom(this._innerContainer.position);\n        this._Position.copyFrom(this._innerContainer.position);\n        this.updateScrollBars();\n    }\n\n\n    protected updateScrollPosition(delta: number) {\n        this._stop = true;\n        if (this.scrollX) this.updateDirection(\"x\", delta);\n        if (this.scrollY) this.updateDirection(\"y\", delta);\n        if (stop) {\n            this.animating = false;\n        }\n    }\n\n    protected updateDirection(direction: \"x\" | \"y\", delta: number) {\n        delta = delta * 0.001;\n\n        const bounds = this.getInnerBounds();\n\n        let min: number;\n        if (direction == \"y\")\n            min = Math.round(Math.min(0, this._height - bounds.height));\n        else\n            min = Math.round(Math.min(0, this._width - bounds.width));\n\n        if (!this.scrolling && Math.round(this._Speed[direction]) !== 0) {\n\n            this._targetPosition[direction] += this._Speed[direction];\n            this._Speed[direction] = Utils.Lerp(this._Speed[direction], 0, (5 + 2.5 / Math.max(this.softness, 0.01)) * delta);\n\n            if (this._targetPosition[direction] > 0) {\n                this._targetPosition[direction] = 0;\n\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._targetPosition[direction] = min;\n\n            }\n        }\n        \n        if (!this.scrolling && Math.round(this._Speed[direction]) === 0 && (this._innerContainer[direction] > 0 || this._innerContainer[direction] < min)) {\n            const target = this._Position[direction] > 0 ? 0 : min;\n            this._Position[direction] = Utils.Lerp(this._Position[direction], target, (40 - (30 * this.softness)) * delta);\n            this._stop = false;\n        }\n        else if (this.scrolling || Math.round(this._Speed[direction]) !== 0) {\n\n            if (this.scrolling) {\n                this._Speed[direction] = this._Position[direction] - this._lastPosition[direction];\n                this._lastPosition.copyFrom(this._Position);\n            }\n            if (this._targetPosition[direction] > 0) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = 100 * this.softness * (1 - Math.exp(this._targetPosition[direction] / -200));\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = min - (100 * this.softness * (1 - Math.exp((min - this._targetPosition[direction]) / -200)));\n            }\n            else {\n                this._Position[direction] = this._targetPosition[direction];\n            }\n            this._stop = false;\n        }\n\n        this._innerContainer.position[direction] = Math.round(this._Position[direction]);\n\n        this.updateScrollBars();\n    }\n\n}","import HtmlInput from \"./private/HtmlInput\";\nimport { KeyEvent } from \"../event/KeyEvent\";\nimport { componentToHex } from \"../utils/Utils\";\nimport { InputBase } from \"./private/InputBase\";\nimport { Image } from \"./Image\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * \n * \n * @example let textInput = new gui.TextInput(true|false);//\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTextInput\n */\nexport class TextInput extends InputBase {\n\n    constructor(multiline = false) {\n        super();\n\n        this._inputStyle = Object.assign(\n            {\n                position: 'absolute',\n                background: 'none',\n                border: 'none',\n                outline: 'none',\n                transformOrigin: '0 0',\n                padding: '5px 8px',\n                color: '#26272e',\n                lineHeight: '1',\n                fontSize: \"25px\"\n            },\n            {\n                multiline: multiline\n            }\n        ) as TAny;\n\n        this.htmlInputShared = new HtmlInput(this._inputStyle.multiline);\n        this.htmlInputShared.setStyle(this._inputStyle);\n        this.htmlInputShared.on(KeyEvent.input, this._onInputInput, this);\n        this.htmlInputShared.on('focus', this._onFocused, this);\n        this.htmlInputShared.on('blur', this._onBlurred, this);\n\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3, 3, 3, 3];\n        this.addChild(this.img);\n\n        this._textHitbox = new PIXI.Graphics();\n        this._textHitbox.name = \"_textHitbox\";\n        this._textHitbox.alpha = 0;\n        this._textHitbox.interactive = true;\n        this._textHitbox.cursor = 'text';\n        this._textHitbox.on('pointerdown', this._ontextFocus, this);\n        this.container.addChild(this._textHitbox);\n\n        this._textMask = new PIXI.Graphics();\n        this._textMask.name = \"_textMask\";\n        this.container.addChild(this._textMask);\n\n        this._text = new PIXI.Text('', {});\n        this._text.name = \"_text\";\n        this._text.visible = false;\n        this.container.addChild(this._text);\n\n        this._text.mask = this._textMask;\n\n        this._domVisible = false;\n\n        this.container.interactiveChildren = true;\n\n        this.on(ComponentEvent.STATE_CHANGE,this.onStateChange,this);\n        this.container.isEmitRender = false;\n        this.container.on(\"renderChange\",this.updateSystem,this);\n        \n    }\n\n    protected _oldState = \"\";\n\n    protected htmlInputShared: HtmlInput;\n\n    protected _lastRenderer: PIXI.Renderer | undefined;\n    protected _resolution = 1;\n    protected _canvasBounds: { top: number; left: number; width: number; height: number } | undefined;\n    protected _previous: { canvasBounds: TAny; worldTransform: TAny; worldAlpha: TAny; worldVisible: TAny } | TAny = {};\n\n    protected _inputStyle: InputStyle;\n    /**\n     * \n     */\n    protected placeholderColor = 0xa9a9a9;\n    protected _domVisible = true;\n\n    protected _textHitbox: PIXI.Graphics;\n    protected _textMask: PIXI.Graphics;\n    protected _text: PIXI.Text;\n\n\n    protected _fontMetrics: PIXI.IFontMetrics | undefined;\n    protected state = 'DEFAULT';\n\n    /**\n     * \n     */\n    public get text() {\n        return this._text.text;\n    }\n    public set text(value) {\n        this._text.text = value;\n        this.container.isEmitRender = true;\n    }\n    /**\n     * \n     */\n    private _placeholder = '';\n    public get placeholder() {\n        return this._placeholder;\n    }\n    public set placeholder(value) {\n        this._placeholder = value;\n        this.container.isEmitRender = true;\n    }\n    /**\n     * \n     */\n    private _maxLength = 99999;\n    public get maxLength() {\n        return this._maxLength;\n    }\n    public set maxLength(value) {\n        this._maxLength = value;\n        this.container.isEmitRender = true;\n    }\n    /** \n     * \n     */\n    private _restrict: RegExp | undefined;\n    public get restrict(): RegExp | undefined {\n        return this._restrict;\n    }\n    public set restrict(value: RegExp | undefined) {\n        this._restrict = value;\n        this.container.isEmitRender = true;\n    }\n\n    /** \n     * \n    */\n    public readonly img = new Image();\n\n\n    // GETTERS & SETTERS\n    public updateSystem(renderer?: PIXI.Renderer) {\n\n        if(renderer === undefined){\n            return;\n        }\n        const { htmlInputShared } = this;\n\n        htmlInputShared.maxlength = this.maxLength;\n        htmlInputShared.placeholder = this.placeholder;\n        htmlInputShared.disabled = !this.enabled;\n        htmlInputShared.restrict = this.restrict;\n\n        this.setInputStyle(\"fontFamily\", this.style.fontFamily);\n        this.setInputStyle(\"fontSize\", this.style.fontSize);\n        this.setInputStyle(\"color\", this.style.color);\n\n        this.setInputStyle(\"width\", this._width + \"px\");\n        this.setInputStyle(\"height\", this._height + \"px\");\n       \n        this.render(renderer);\n\n        this.onStateChange(this, this.currentState);\n        this.container.isEmitRender = false;\n    }\n\n    /** \n     *  \n     */\n    public focus() {\n        this.htmlInputShared.focus();\n\n    }\n    /** \n     *  \n     */\n    public blur() {\n        this.htmlInputShared.blur();\n    }\n\n    /**\n     * css style\n     * @param key \n     * @param value \n     */\n    public setInputStyle(key: TAny, value: TAny) {\n        if (key === \"fontSize\") {\n            value = value + \"px\";\n        }\n        if (key === \"color\") {\n            value = \"#\" + componentToHex(value);\n        }\n        this._inputStyle[key] = value;\n        this.htmlInputShared.setStyleValue(key, value);\n    }\n\n    protected onStateChange(ui: TextInput, state: string) {\n        if (this._oldState == state) {\n            return;\n        }\n        if (!this.enabled) {\n            this.currentState = \"disabled\";\n        }\n        this._oldState = state;\n        const img = this.img;\n        img.src = (this as TAny)[state];\n    }\n\n    // SETUP\n    private _onInputInput() {\n        this._updateSubstitution();\n    }\n\n    private _onFocused() {\n        this._setState('FOCUSED');\n    }\n\n    private _onBlurred() {\n        this._setState('DEFAULT');\n    }\n\n\n    private _setState(state: string) {\n        this.state = state;\n        this._updateSubstitution();\n    }\n\n    private _updateSubstitution() {\n        if (this.state === 'FOCUSED') {\n            this._domVisible = true;\n            this._text.visible = false;\n        } else {\n            this._domVisible = false;\n            this._text.visible = true;\n        }\n        this._updateDOMInput();\n        this._updatetext();\n    }\n\n\n    // RENDER & UPDATE\n    // for pixi v5\n    public render(renderer: PIXI.Renderer) {\n        this._renderInternal(renderer);\n    }\n\n    private _renderInternal(renderer: PIXI.Renderer) {\n        this._resolution = renderer.resolution;\n        this._lastRenderer = renderer;\n        this._canvasBounds = this._getCanvasBounds();\n        if (this._needsUpdate()) {\n            this._updateSubstitution();\n        }\n\n    }\n\n    private _updateDOMInput() {\n        if (!this._canvasBounds)\n            return;\n        const cb = this._canvasBounds;\n        const transform = this._pixiMatrixToCSS(this._getDOMRelativeWorldTransform());\n        this.htmlInputShared.updatePostion(cb.top, cb.left, transform, this.container.worldAlpha);\n        this.htmlInputShared.visible = this.container.worldVisible && this._domVisible;\n\n        this._previous.canvasBounds = this._canvasBounds;\n        this._previous.worldTransform = this.container.worldTransform.clone();\n        this._previous.worldAlpha = this.container.worldAlpha;\n        this._previous.worldVisible = this.container.worldVisible;\n    }\n\n    // STATE COMPAIRSON (FOR PERFORMANCE BENEFITS)\n    private _needsUpdate() {\n        return (\n            !this._comparePixiMatrices(this.container.worldTransform, this._previous.worldTransform)\n            || !this._compareClientRects(this._canvasBounds, this._previous.canvasBounds)\n            || this.container.worldAlpha != this._previous.worldAlpha\n            || this.container.worldVisible != this._previous.worldVisible\n        )\n    }\n\n    private _updatetext() {\n\n        const padding = this._derivetextPadding();\n        const inputBounds = this.htmlInputShared.getDOMInputBounds();\n\n        this._text.style = this._derivetextStyle();\n        this._text.style.padding = Math.max(...padding);\n        this._text.y = this._inputStyle.multiline ? padding[0] : (inputBounds.height - this._text.height) / 2;\n        this._text.x = padding[3];\n        if (this._inputStyle.multiline) {\n            this._text.style.wordWrap = true;\n            this._text.style.wordWrapWidth = inputBounds.width;\n            this._text.style.breakWords = true;\n        }\n\n        this._text.text = this._derivetextText();\n\n        this._textHitbox.clear();\n        this._textHitbox.beginFill(0);\n        this._textHitbox.drawRect(0, 0, inputBounds.width, inputBounds.height);\n        this._textHitbox.endFill();\n        this._textHitbox.interactive = this.enabled;\n\n        this._textMask.clear();\n        this._textMask.beginFill(0);\n        this._textMask.drawRect(padding[3], 0, inputBounds.width - padding[3] - padding[1], inputBounds.height);\n        this._textMask.endFill();\n\n        this.img.width = inputBounds.width;\n        this.img.height = inputBounds.height;\n    }\n\n\n    private _ontextFocus() {\n        this.htmlInputShared.visible = true;\n        //sometimes the input is not being focused by the mouseclick\n        setTimeout(this._ensureFocus.bind(this), 10);\n    }\n\n    private _ensureFocus() {\n        if (!this._hasFocus())\n            this.focus();\n    }\n\n    private _derivetextStyle() {\n        const style: TAny = new PIXI.TextStyle()\n\n        for (const key in this._inputStyle) {\n            switch (key) {\n                case 'color':\n                    style.fill = this._inputStyle.color;\n                    break\n                case 'fontFamily':\n                case 'fontSize':\n                case 'fontWeight':\n                case 'fontVariant':\n                case 'fontStyle':\n                    style[key] = this._inputStyle[key];\n                    break\n                case 'letterSpacing':\n                    style.letterSpacing = parseFloat(this._inputStyle.letterSpacing as TAny);\n                    break\n            }\n        }\n\n        if (this._inputStyle.multiline) {\n            style.lineHeight = parseFloat(style.fontSize);\n            style.wordWrap = true;\n            style.wordWrapWidth = this.htmlInputShared.getDOMInputBounds().width;\n        }\n\n        if (this.htmlInputShared.value.length === 0)\n            style.fill = this.placeholderColor;\n\n        return style;\n    }\n\n    private _derivetextPadding() {\n        const indent = this._inputStyle.textIndent ? parseFloat(this._inputStyle.textIndent) : 0\n\n        if (this._inputStyle.padding && this._inputStyle.padding.length > 0) {\n            const components = this._inputStyle.padding.trim().split(' ');\n\n            if (components.length == 1) {\n                const padding = parseFloat(components[0]);\n                return [padding, padding, padding, padding + indent];\n            } else if (components.length == 2) {\n                const paddingV = parseFloat(components[0]);\n                const paddingH = parseFloat(components[1]);\n                return [paddingV, paddingH, paddingV, paddingH + indent];\n            } else if (components.length == 4) {\n                const padding = components.map(component => {\n                    return parseFloat(component);\n                })\n                padding[3] += indent;\n                return padding;\n            }\n        }\n\n        return [0, 0, 0, indent];\n    }\n\n    private _derivetextText() {\n        return this.htmlInputShared.value.length === 0 ? this.placeholder : this.htmlInputShared.value;\n    }\n\n    // private _updateFontMetrics() {\n    //     const style = this._derivetextStyle();\n    //     const font = style.toFontString();\n    //     this._fontMetrics = PIXI.TextMetrics.measureFont(font);\n    // }\n\n    // HELPER FUNCTIONS\n\n    private _hasFocus() {\n        return document.activeElement === this.htmlInputShared.domInput;\n    }\n\n    private _getCanvasBounds() {\n        if (this._lastRenderer) {\n            const rect = this._lastRenderer.view.getBoundingClientRect();\n            const bounds = { top: rect.top, left: rect.left, width: rect.width, height: rect.height };\n            bounds.left += window.scrollX;\n            bounds.top += window.scrollY;\n            return bounds;\n        }\n        return undefined;\n    }\n\n    private _getDOMRelativeWorldTransform() {\n        if (this._lastRenderer) {\n            const canvasBounds = this._lastRenderer.view.getBoundingClientRect();\n            const matrix = this.container.worldTransform.clone();\n\n            matrix.scale(this._resolution, this._resolution);\n            matrix.scale(canvasBounds.width / this._lastRenderer.width,\n                canvasBounds.height / this._lastRenderer.height)\n            return matrix;\n        }\n\n    }\n\n    private _pixiMatrixToCSS(m: TAny) {\n        return 'matrix(' + [m.a, m.b, m.c, m.d, m.tx, m.ty].join(',') + ')';\n    }\n\n    private _comparePixiMatrices(m1: TAny, m2: TAny) {\n        if (!m1 || !m2) return false\n        return (\n            m1.a == m2.a\n            && m1.b == m2.b\n            && m1.c == m2.c\n            && m1.d == m2.d\n            && m1.tx == m2.tx\n            && m1.ty == m2.ty\n        )\n    }\n\n    private _compareClientRects(r1: TAny, r2: TAny) {\n        if (!r1 || !r2) return false\n        return (\n            r1.left == r2.left\n            && r1.top == r2.top\n            && r1.width == r2.width\n            && r1.height == r2.height\n        )\n    }\n\n    public release() {\n\n        super.release();\n\n        this.container.removeChild(this._text);\n        this.container.removeChild(this._textHitbox);\n\n        this.img.release();\n\n        this._text.destroy();\n        this._textHitbox && this._textHitbox.destroy();\n\n        this.htmlInputShared.release();\n\n        this.container.off(\"renderChange\",this.updateSystem,this);\n        this.offAll(ComponentEvent.STATE_CHANGE);\n\n    }\n\n\n}\n\n","import { KeyEvent } from \"../../event/KeyEvent\";\n\n/**\n * PIXIJSHTML\n */\nexport default class HtmlInput extends PIXI.utils.EventEmitter{\n    public constructor(multiline:boolean){\n        super();\n        console.log(\"HtmlInput\");\n        this._domInput = this.addDom(multiline);\n        this.visible = false;\n        document.body.appendChild(this._domInput);\n    }\n\n    private _domInput: HTMLInputElement|HTMLTextAreaElement;\n    private _selection = [0, 0];\n    private _restrictRegex:RegExp|undefined;\n    private _restrict_value = '';\n    \n    public get domInput(){\n        return this._domInput;\n    }\n    public set visible(value:boolean){\n        this._domInput.style.display = value ? 'block' : 'none'\n    }\n    public get visible(){\n        if(this._domInput.style.display === 'block')\n            return true;\n        return false;\n    }\n    \n    public get value(): string {\n        return this._domInput.value;\n    }\n    public set value(value: string) {\n        this._domInput.value = value;\n    }\n\n    public set placeholder(value:string){\n        this._domInput.placeholder = value;\n    }\n\n    public set disabled(value:boolean){\n        this._domInput.disabled = value;\n    }\n\n    public get maxlength(){\n        return this._domInput.maxLength;\n    }\n\n    public set maxlength(value:number){\n        this._domInput.maxLength = value;\n    }\n\n    /*  */\n    public get restrict() {\n        return this._restrictRegex;\n    }\n    public set restrict(regex) {\n        if(regex === undefined){\n            return;\n        }\n        if (regex instanceof RegExp) {\n            let str = regex.toString().slice(1, -1);\n\n            if (str.charAt(0) !== '^')\n                 str = '^' + str;\n\n            if (str.charAt(str.length - 1) !== '$')\n                str = str + '$';\n\n            regex = new RegExp(str);\n        } else {\n            regex = new RegExp('^[' + regex + ']*$');\n        }\n        this._restrictRegex = regex;\n    }\n\n    public setStyle(style:InputStyle){  \n        for (let key in style) {\n            this._domInput.style[key as any] = style[key];\n        }  \n        //this._domInput.setAttribute(\"style\", stylestr);\n    }\n\n    public setStyleValue(key:TAny,value:TAny){\n        this._domInput.style[key] = value;\n    }\n\n    public select(){\n        this._domInput.select(); \n    }\n    \n    /** body */\n    public getDOMInputBounds() {\n\n        let org_transform = this._domInput.style.transform;\n        let org_display = this._domInput.style.display;\n        this._domInput.style.transform = '';\n        this._domInput.style.display = 'block';\n        let bounds = this._domInput.getBoundingClientRect();\n        this._domInput.style.transform = org_transform;\n        this._domInput.style.display = org_display;\n\n        return bounds;\n    }\n\n    public updatePostion(top:string|number,left:string|number,transform:string,opacity?:string|number){\n        this._domInput.style.top = top + 'px'\n        this._domInput.style.left = left + 'px'\n        this._domInput.style.transform = transform;\n        if(opacity)\n            this._domInput.style.opacity = opacity.toString();\n    }\n\n    private addDom(multiline:boolean){\n        \n        if (multiline) {\n            this._domInput = document.createElement('textarea')\n            this._domInput.style.resize = 'none';\n        } else {\n            this._domInput = document.createElement('input')\n            this._domInput.type = 'text';\n        }\n        this.addEvent();\n        document.body.appendChild(this._domInput);\n        return this._domInput;\n    }\n\n    private removeDom(){\n        if(this._domInput){ \n            document.body.removeChild(this._domInput);\n        }\n    }\n\n    public release(){\n        this.removeDom();\n        this.removeEvent();\n        this.removeAllListeners();\n    }\n\n\n\n    \n    private _onInputKeyDownBind:TAny;\n    private _onInputInputBind:TAny;\n    private _onInputKeyUpBind:TAny;\n    private _onFocusedBind:TAny;\n    private _onBlurredBind:TAny;\n\n    private addEvent(){\n        if(this._onInputKeyDownBind){\n            return;\n        }\n        this._onInputKeyDownBind = this._onInputKeyDown.bind(this);\n        this._onInputInputBind = this._onInputInput.bind(this);\n        this._onInputKeyUpBind = this._onInputKeyUp.bind(this);\n        this._onFocusedBind = this._onFocused.bind(this);\n        this._onBlurredBind = this._onBlurred.bind(this);\n        this._domInput.addEventListener('keydown', this._onInputKeyDownBind,{passive:false});\n        this._domInput.addEventListener('input',this._onInputInputBind,{passive:false} );\n        this._domInput.addEventListener('keyup', this._onInputKeyUpBind,{passive:false});\n        this._domInput.addEventListener('focus', this._onFocusedBind,{passive:false});\n        this._domInput.addEventListener('blur', this._onBlurredBind,{passive:false} );\n    }\n    private removeEvent(){\n        if(this._onInputKeyDownBind){\n            this._domInput.removeEventListener('keydown', this._onInputKeyDownBind );\n            this._domInput.removeEventListener('input', this._onInputInputBind );\n            this._domInput.removeEventListener('keyup', this._onInputKeyUpBind);\n            this._domInput.removeEventListener('focus', this._onFocusedBind);\n            this._domInput.removeEventListener('blur', this._onBlurredBind );\n            this._onInputKeyDownBind = undefined;\n            this._onInputInputBind = undefined;\n            this._onInputKeyUpBind = undefined;\n            this._onFocusedBind = undefined;\n            this._onBlurredBind = undefined;\n        }\n    }\n    private _applyRestriction() {\n        if(this._restrictRegex){\n            if (this._restrictRegex.test(this.value)) {\n                this._restrict_value = this.value;\n            } else {\n                this.value = this._restrict_value;\n                this._domInput.setSelectionRange(\n                    this._selection[0],\n                    this._selection[1]\n                )\n            }\n        }\n    }\n\n    private _onInputKeyDown(e:KeyboardEvent){\n        this._selection = [\n            this._domInput.selectionStart || 0,\n            this._domInput.selectionEnd || 0\n        ]\n        this.emit(KeyEvent.keydown,this,e.keyCode);\n        //e.preventDefault();\n    }\n\n    private _onInputInput(e: KeyboardEvent){\n        if((e as TAny).data != null){\n            if (this._restrictRegex)\n            this._applyRestriction();\n        }\n        this.emit(KeyEvent.input, this.value)\n        e.preventDefault();\n    }\n\n    private _onInputKeyUp(e: KeyboardEvent){\n        this.emit(KeyEvent.keyup, this.value)\n        e.preventDefault();\n    }\n\n    private _onFocused(e: KeyboardEvent){\n        this.emit('focus')\n        e.preventDefault();\n    }\n    \n    private _onBlurred(e: KeyboardEvent){\n        this.emit('blur')\n        e.preventDefault();\n    }\n\n    public focus(){\n\n        document.body.removeChild(this._domInput);\n        document.body.appendChild(this._domInput); \n        this._domInput.focus();\n        \n    }\n    public blur(){\n        this._domInput.blur();\n    }\n\n}\n","import {DisplayObject} from \"../core/DisplayObject\";\nimport {Image as VfuiImage} from \"./Image\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent,InteractionEvent, ComponentEvent} from \"../interaction/Index\";\nimport { Tween } from \"../tween/Tween\";\nimport { Easing } from \"../tween/Easing\";\n\n/**\n * /\n * \n * @example let slider = new gui.Slider();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSlider\n */\nexport class Slider extends DisplayObject{\n\n    public constructor(){\n        super();\n\n        this._thumbDrag.onDragPress = this.onPress;\n        this._thumbDrag.onDragStart = this.onDragStart;\n        this._thumbDrag.onDragMove = this.onDragMove;\n        this._thumbDrag.onDragEnd = this.onDragEnd;\n\n        this._trackDrag.onDragPress = this.onPress;\n        this._trackDrag.onDragStart = this.onDragStart;\n        this._trackDrag.onDragMove = this.onDragMove;\n        this._trackDrag.onDragEnd = this.onDragEnd;\n\n        this.thumbImg.container.name = \"thumbImg\";\n        this.thumbImg.anchorX = 0.5;\n        this.thumbImg.anchorY = 0.5;\n        this.thumbImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.trackImg.container.name = \"trackImg\";\n        this.trackImg.fillMode = \"scale\";\n        this.trackImg.scale9Grid = [2,2,2,2];\n        this.trackImg.style.width = \"100%\";\n        this.trackImg.style.height = \"100%\";\n        this.trackImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.tracklightImg.container.name = \"tracklightImg\";\n        this.tracklightImg.fillMode = \"scale\";\n        this.tracklightImg.scale9Grid = [2,2,2,2];\n\n        this.addChild(this.trackImg);\n        this.addChild(this.tracklightImg);\n        this.addChild(this.thumbImg);\n    }\n    /** \n     *  \n     */\n    protected _amt = 0;\n    /**\n     * 0\n     * @default 0\n     */\n    protected _decimals = 0;\n\n    protected _startValue = 0;\n    protected _maxPosition = 0;\n    protected _localMousePosition = new PIXI.Point();\n    protected _lastChange = 0;\n    protected _lastChanging = 0;\n    \n    private _thumbDrag = new DragEvent(this);\n    private _trackDrag = new DragEvent(this);\n\n    /**  */\n    readonly trackImg = new VfuiImage();\n    readonly thumbImg = new VfuiImage();\n    readonly tracklightImg = new VfuiImage();\n\n    private _value = 0;\n    /**\n     * \n     */\n    public get value() {\n        return Utils.Round(Utils.Lerp(this.minValue, this.maxValue, this._amt), this._decimals);\n    }\n    public set value(value: number) {\n        this._value = value;\n        this.valueSystem();\n    }\n\n    protected valueSystem(){\n        this._amt = (Math.max(this.minValue, Math.min(this.maxValue, this._value)) - this.minValue) / (this.maxValue - this.minValue);\n        this.updatePosition();\n        this.triggerValueChange();\n        this.triggerValueChanging();\n    }\n\n    /**\n     * \n     */\n    private _minValue = 0;\n    public get minValue() {\n        return this._minValue;\n    }\n    public set minValue(value) {\n        this._minValue = value;\n    }\n    /**\n     * \n     */\n    private _maxValue = 100;\n    public get maxValue() {\n        return this._maxValue;\n    }\n    public set maxValue(value) {\n        this._maxValue = value;\n    }\n    /**\n     * ,\n     */\n    private _vertical = false;\n    public get vertical() {\n        return this._vertical;\n    }\n    public set vertical(value) {\n        this._vertical = value;\n        this.updateLayout();\n    }\n    /** \n     * \n     */\n    private _track?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get track(){\n        return this._track;\n    }\n    public set track(value) {\n        if(value !== this._track){\n            this._track = value;\n            this.trackImg.src = value; \n        }\n    }\n    /** \n     * \n     */\n    private _thumb?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get thumb() {\n        return this._thumb;\n    }\n    public set thumb(value) {\n        if(value !== this._thumb){\n            this._thumb = value;\n            this.thumbImg.src = value; \n        }\n    }\n    /** \n     * \n     */\n    private _tracklight?: string | number | PIXI.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get tracklight() {\n        return this._tracklight;\n    }\n    public set tracklight(value) {\n        if(value !== this._tracklight){\n            this._tracklight = value;\n            this.tracklightImg.src = value; \n        }\n    }\n\n    private isExcValueSystem = false;\n    public setActualSize(w: number, h: number): void {\n        super.setActualSize(w,h);\n        if(this.trackImg.width!==w){\n            this.trackImg.width = w;\n        }\n        if(this.trackImg.height!==w){\n            this.trackImg.height = h;\n        }\n        if(!this.isExcValueSystem){\n            this.valueSystem();\n            this.isExcValueSystem = true;\n        }\n\n    }\n\n    public release(){\n        super.release();\n        this.trackImg.release();\n        this.thumbImg.release();\n        this.tracklightImg.release();\n    }\n    \n    private onImgload(){\n        this.updateLayout();\n    }\n\n    protected updateLayout(){\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n        if (this.vertical) {\n            //thumbImg.style.top =this._amt; \n            thumbImg.x = this._width >> 1;\n            tracklightImg.width =this._width;\n            //tracklightImg.style.height = this._amt * this.height;\n        }else {\n            thumbImg.y =this._height >> 1;\n            //thumbImg.style.left = this._amt; \n            tracklightImg.height =this._height;\n            //tracklightImg.style.width =  this._amt * this.width;\n        }\n    }\n\n\n    protected updatePosition(soft?: boolean){\n\n        let val = 0;\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n\n        if (this.vertical) {\n            val = this._height * this._amt;\n            if (soft) {\n                Tween.to({y:thumbImg.y,height:tracklightImg.height},{ y: val,height: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: TAny) => {\n                        thumbImg.y = obj.y;\n                        tracklightImg.height = obj.height;\n                    }) .start();\n            }\n            else {\n                thumbImg.y = val;\n                tracklightImg.height = val;\n            }\n        }\n        else {\n            val = this._width* this._amt;\n            if (soft) {\n                Tween.to({x:thumbImg.x,width:tracklightImg.width},{ x: val,width: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: TAny\n                    ) => {\n                        thumbImg.x = obj.x;\n                        tracklightImg.width = obj.width;\n                    }) .start();\n            }\n            else {\n                thumbImg.x = val;\n                tracklightImg.width = val;\n            }\n        }\n    }\n\n    protected onPress (event: InteractionEvent,isPressed: boolean,dragEvent?: DragEvent) {     \n        event.stopPropagation();\n        if(this._trackDrag==dragEvent && this._trackDrag.id == event.data.identifier){\n            if (isPressed){\n                this.updatePositionToMouse(event.data.global, true);\n            }    \n        }\n    }\n\n    protected onDragStart (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._startValue = this._amt;\n            this._maxPosition = this.vertical ? this._height : this._width;\n        }\n    }\n\n    protected onDragMove (event: InteractionEvent,offset: PIXI.Point) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._amt = !this._maxPosition ? 0 : Math.max(0, Math.min(1, this._startValue + ((this.vertical ? offset.y : offset.x) / this._maxPosition)));\n            this.triggerValueChanging();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.updatePositionToMouse(event.data.global, false);\n        }\n\n    }\n\n    protected onDragEnd (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this.triggerValueChange();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.triggerValueChange();\n        }\n    }\n    protected updatePositionToMouse (mousePosition: PIXI.Point, soft: boolean) {\n        this.trackImg.container.toLocal(mousePosition, undefined, this._localMousePosition, true);\n\n        const newPos = this.vertical ? this._localMousePosition.y  : this._localMousePosition.x;\n        const maxPos = this.vertical ? this._height: this._width ;\n        this._amt = !maxPos ? 0 : Math.max(0, Math.min(1, newPos / maxPos));\n        this.updatePosition(soft);\n        this.triggerValueChanging();\n    }\n\n    protected triggerValueChange() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGE,this, value,this._lastChange);\n        if (this._lastChange != value) {\n            this._lastChange = value;\n        }\n    }\n\n    protected triggerValueChanging() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGEING,this, value,this._lastChanging);\n        if (this._lastChanging != value) {\n            this._lastChanging = value;\n        }\n    }\n}\n","import {Label} from \"./Label\";\nimport { ComponentEvent, InputController } from \"../interaction/Index\";\nimport {  Button } from \"./Button\";\n\n\n/**\n * \\\n * \n * checkGroup \n * \n * @example let checkBox = new gui.CheckBox();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestCheckBox\n */\nexport class CheckBox extends Button{\n\n    public constructor() {\n        super();\n    }\n\n    /**\n     * \n     */\n    private _value = \"\";\n    /** \n     *  \n     * */\n    private _checked = false;\n\n    /** \n     * \n     */\n    public get selectedValue() {\n        if(this.checkGroup){\n            return InputController.getCheckGroupSelectedValue(this.checkGroup);\n        }\n        return undefined;\n    }\n\n    /** \n     * \n     */\n    public get checkGroup(): string | undefined {\n        return  this._groupName;\n    }\n    public set checkGroup(value: string | undefined) {\n        if(value === undefined){     \n            InputController.unRegistrerCheckGroup(this)\n        }\n        if(this._groupName == value){\n            return;\n        }\n        this._groupName = value;//registrerCheckGroup\n        InputController.registrerCheckGroup(this);\n    }\n\n    /** \n     *  \n     */\n    public get value() {\n        return this._value;\n    }\n    public set value(value) {\n        if(value === this._value){\n            return;\n        }\n        this._value = value;\n    }\n\n    /** \n     *  \n     * @default false\n     */\n    public get checked() {\n        return this._checked;\n    }\n    public set checked(value) {\n        if (value !==  this._checked) {\n            if (this.checkGroup)\n                InputController.updateCheckGroupSelected(this);\n            \n            this._oldState = \"\";\n            if(value){\n                this._selectedStr = \"AndSelected\";\n            }else{\n                \n                this._selectedStr = \"\";\n            }\n            this._checked = value;\n            this.emit(ComponentEvent.CHANGE,this);\n            this.onStateChange(this,this.currentState);\n        }\n    }\n\n\n    protected onClick(){\n        super.onClick();\n        if (this.checkGroup && this.checked)\n            return;\n        this.checked = !this.checked;\n    }\n\n    protected onLabelChange(label: Label){\n        label.style.left = this.width;\n        label.style.top =  this.height - label.height >> 1;\n    }\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/**\n * \n * \n *  lineWidth  color \n * \n * @example let rect = new gui.Rect();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestRect\n */\nexport class Rect extends DisplayObject implements MaskSprite{\n    public constructor(){\n        super();\n        this.graphics = new PIXI.Graphics();\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: PIXI.Graphics;\n\n    /**  */\n    public maskSprite(){\n        return this.graphics;\n    }\n\n    /**\n     * \n     */\n    private _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 0;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.invalidateDisplayList();\n    }\n    /** \n     *  \n     */\n    private _color?: number;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawRoundedRect(){\n        const graphics = this.graphics;\n        graphics.clear();\n        if(this._radius>=(this.width/2)){\n            graphics.lineStyle(this._lineWidth,this._lineColor,1,1,true);\n        }else{\n            graphics.lineStyle(this._lineWidth,this._lineColor);\n        }\n        \n        if(this._color !== undefined)\n            graphics.beginFill(this._color);   \n        \n        \n        graphics.drawRoundedRect(this._anchorX?-this._anchorX*this.width:0,this._anchorY?-this._anchorY*this.height:0,this.width, this.height,this._radius);\n        graphics.endFill();\n    }\n    \n    public release(){\n        super.release();\n        if(this.graphics.parent){\n            this.graphics.parent.removeChild(this.graphics).destroy();\n        }\n        \n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        this.drawRoundedRect();\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n    }\n\n\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/**\n * \n * \n *  lineWidth  color \n * \n * @example let circle = new gui.Circle();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestCircle\n */\nexport class Circle extends DisplayObject implements MaskSprite{\n    public constructor(){\n        super();\n        this.graphics = new PIXI.Graphics();\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: PIXI.Graphics;\n\n    /**  */\n    public maskSprite(){\n        return this.graphics;\n    }\n\n    /**\n     * \n     */\n    private _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 0;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.invalidateDisplayList();\n    }\n    /** \n     *  \n     */\n    private _color?: number;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawCircle(){\n        const graphics = this.graphics;\n        graphics.clear();\n        graphics.lineStyle(this._lineWidth,this._lineColor);\n        \n        if(this._color !== undefined)\n            graphics.beginFill(this._color);   \n        \n        \n        graphics.drawCircle(this._anchorX || 0,this._anchorY || 0,this._radius);\n        graphics.endFill();\n    }\n    \n    public release(){\n        super.release();\n        if(this.graphics.parent){\n            this.graphics.parent.removeChild(this.graphics).destroy();\n        }\n        \n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        this.drawCircle();\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n    }\n\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\n\n\n/**\n * \n * \n * @example let graphics = new gui.Graphics();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nexport class Graphics extends DisplayObject {\n\n    public constructor(geometry?: PIXI.GraphicsGeometry | undefined) {\n        super();\n        this.graphics = new PIXI.Graphics(geometry);\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: PIXI.Graphics;\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { InteractionEvent, TouchMouseEvent, ClickEvent, ComponentEvent } from \"../interaction/Index\";\nimport { pointDistance, pointSub, pointSignAngle } from \"../utils/Utils\";\nimport { FollowLineEnum } from \"../enum/Index\";\n\nconst tempLocalBounds = new PIXI.Rectangle();\n\n/**  */\nconst POS_DISTANCE: number = 7;\n/**  */\nconst MAX_ARC: number = 0.09; // 5\n\n/**  */\nconst DIGIT: number = 90;\n/**  ascii */\nconst NUMBER_TO_STR: string = \"$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\";\n\n/**  */\nconst COMPRESS_RATE: number = 2;\n\n/**  */\nconst MAX_WIDTH = 1500;\n\n/**  */\nconst POSITIVE: number = MAX_WIDTH / 2;\n\n/**  */\nconst MAX_LINES = 100;\n\nconst TeacherDrawColor = 0xcd0032;\nconst StudentDrawColor = 0x3200cd;\n\n/** xy3MAX_WIDTH */\nfunction getStrFromPos(x: number, y: number) {\n    x = Math.min(Math.max(0, x), MAX_WIDTH);\n    y = Math.min(Math.max(0, y), MAX_WIDTH);\n\n    // \n    let compX = Math.floor(x / COMPRESS_RATE);\n    let compY = Math.floor(y / COMPRESS_RATE);\n\n    let n1 = compX % DIGIT;\n    let n2 = compY % DIGIT;\n    let n3 = Math.floor(compX / DIGIT) * 10 + Math.floor(compY / DIGIT);\n\n    return NUMBER_TO_STR[n1] + NUMBER_TO_STR[n2] + NUMBER_TO_STR[n3];\n}\n\n/**  */\nfunction getVecListFromStr(str: string, from: number, to: number): number[] {\n    let list = [];\n    for (let index = from; index < to; index += 3) {\n        let n1 = str.charCodeAt(index) - 36;\n        let n2 = str.charCodeAt(index + 1) - 36;\n        let n3 = str.charCodeAt(index + 2) - 36;\n\n        let n12 = Math.floor(n3 / 10);\n        let n22 = n3 % 10;\n\n        let compX = n1 + n12 * DIGIT;\n        let compY = n2 + n22 * DIGIT;\n\n        let realX = compX * COMPRESS_RATE;\n        let realY = compY * COMPRESS_RATE;\n\n        list.push(realX);\n        list.push(realY);\n    }\n    return list;\n}\n\n\n/**\n * \n * \n * @example let graphics = new gui.FollowLine();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestTimeLine\n */\nexport class FollowLine extends DisplayObject {\n\n    public constructor(bindDisplay?: DisplayObject) {\n        super();\n        this._lastPos = new PIXI.Point();\n        this._mouseOffset = new PIXI.Point();\n        this._lines = new Map();\n        this.container.interactiveChildren = false;\n        if (bindDisplay) {\n            this.clickEvent = new ClickEvent(bindDisplay, true);\n        } else {\n            this.clickEvent = new ClickEvent(this, true);\n        }\n        this.clickEvent.isOpenLocalPoint = true;\n    }\n    protected clickEvent: ClickEvent;\n    /**  */\n    private _lines: Map<string, PIXI.Graphics>;\n    /**  */\n    private _eraseLine?: PIXI.Graphics;\n    /** ID */\n    private _touchId = -1;\n    /**  */\n    private _posCache: PIXI.Point[] = [];\n    /** key */\n    private _lineKeys: string[] = [];\n    /**  */\n    private _mouseOffset: PIXI.Point;\n    /**  */\n    private startOffset = new PIXI.Point();\n    /**  */\n    private _lastPos: PIXI.Point;\n    /**\n     * \n     */\n    private _curLineIndex = 0;\n    /**\n     * \n     */\n    private _messageCache: string[] = [];\n    /**\n     * \n     */\n    private _lineColor = 0x000000;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n    }\n\n    /**\n     * \n     */\n    private _isPause = false;\n    public get isPause() {\n        return this._isPause;\n    }\n    public set isPause(value) {\n        this._isPause = value;\n    }\n\n    /**  */\n    private _isErasing = false;\n    public get isErasing() {\n        return this._isErasing;\n    }\n    public set isErasing(value) {\n        if (this._isErasing === value) {\n            return;\n        }\n        this._isErasing = value;\n        if (value) {\n            this.clickEvent.getTarget().container.cursor = \"grab\";\n        } else {\n            this.clickEvent.getTarget().container.cursor = \"auto\";\n        }\n    }\n    /**  */\n    private _role: FollowLineEnum.Role = FollowLineEnum.Role.teacher;\n    public get role() {\n        return this._role;\n    }\n    public set role(value) {\n        this._role = value;\n        if (value == FollowLineEnum.Role.teacher) {\n            this._lineColor = TeacherDrawColor;\n        } else {\n            this._lineColor = StudentDrawColor;\n        }\n    }\n\n    /**\n     * @private\n     * invalidateProperties()\n     */\n    protected commitProperties(): void {\n        this.onMessage();\n        this.getCurLineByPos();\n    }\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        this.container.hitArea = new PIXI.Rectangle(0, 0, this.width, this.height);\n    }\n\n    $onInit() {\n        //this.on(\"xxxx\")\n        this.clickEvent.getTarget().on(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().on(TouchMouseEvent.onMove, this.onMove, this);\n    }\n\n\n    $onRelease() {\n        this.clickEvent.getTarget().off(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().off(TouchMouseEvent.onMove, this.onMove, this);\n        this.clickEvent.remove();\n        this.clear();\n    }\n\n    private onMessage() {\n        let { _messageCache } = this;\n        if (_messageCache.length > 0) {\n            let message: string;\n            let data: string;\n            let role: string;\n            let operate: FollowLineEnum.Operate;\n            let lineId: string;\n            while (_messageCache.length > 0) {\n                message = _messageCache.pop() as string;\n                operate = message.charAt(0) as FollowLineEnum.Operate;\n                let messageIndex = message.indexOf('|');\n                role = message.charAt(1);\n                lineId = message.substr(2, messageIndex - 2);\n                switch (operate) {\n                    case FollowLineEnum.Operate.add:\n                        data = message.substr(messageIndex + 1);\n                        this.drawLine(lineId, data, 0, data.length, role);\n                        break;\n                    case FollowLineEnum.Operate.remove:\n                        this.removeLine(role + lineId);\n                        break;\n                    case FollowLineEnum.Operate.clear:\n                        this.clear();\n                        break;\n                }\n            }\n        }\n    }\n\n\n    private onPress(e: InteractionEvent, thisObj: DisplayObject, isPress: boolean) {\n        if (this._isPause) {\n            return;\n        }\n        e.stopPropagation();\n        if (isPress) {\n            if (this.parent === undefined) return;\n\n            if (this._isErasing) return;\n\n            if (this._touchId !== -1) return;\n\n            this._touchId = e.data.identifier;\n            let curLocal = this.container.toLocal(e.local, thisObj.container);\n            this.startOffset.set(Math.floor(e.local.x - curLocal.x), Math.floor(e.local.y - curLocal.y));\n            this._lastPos.copyFrom(curLocal);\n            this._posCache = [this._lastPos.clone()];\n            this._curLineIndex++;\n\n        } else {\n\n            // \n            if (this._isErasing && this._eraseLine) {\n                let name = this._eraseLine.name;\n                this.removeLine(name);\n                this.emitMsg(FollowLineEnum.Operate.remove, name.charAt(0) as FollowLineEnum.Role, name.substr(1));\n                this._eraseLine = undefined;\n                return;\n            }\n\n            if (this._touchId === -1 || this._touchId != e.data.identifier) return;\n\n            this._touchId = -1;\n\n            if (this._posCache.length == 1) { //\n                console.log('gui ->  >' + POS_DISTANCE);\n                this._curLineIndex--;\n                this._posCache.pop();\n                return;\n            }\n            this.emitMsg(FollowLineEnum.Operate.add, this.role, this._curLineIndex.toString(), this.getDataStrByPosCache());\n        }\n    }\n\n\n\n    private onMove(e: InteractionEvent) {\n        e.stopPropagation();\n        this._mouseOffset.set(Math.floor(e.local.x) - this.startOffset.x, Math.floor(e.local.y) - this.startOffset.y);\n\n        if (this._isErasing) {\n            if (this._role == FollowLineEnum.Role.teacher) {\n                this.invalidateProperties();\n            }\n            return;\n        }\n\n\n        if (this._touchId === -1 || !this._lastPos || this._touchId != e.data.identifier) return;\n\n        let { _lastPos, _posCache } = this;\n\n        let len = pointDistance(_lastPos, this._mouseOffset);\n\n        if (len < POS_DISTANCE) {\n            return;\n        }\n\n        let brush = this.getGraphics(this._curLineIndex.toString(), this.role);\n        brush.moveTo(_lastPos.x, _lastPos.y);\n        brush.lineTo(this._mouseOffset.x, this._mouseOffset.y);\n        _lastPos.copyFrom(this._mouseOffset);\n        _posCache.push(_lastPos.clone());\n\n    }\n\n    /**\n     * \n     * @param operate   1 2 3\n     * @param role  Role\n     * @param lineIndex  ID\n     */\n    private emitMsg(operate: FollowLineEnum.Operate, role: FollowLineEnum.Role, lineId: string, data = '') {\n        let dataStr = operate + role + lineId + '|' + data;\n        this.emit(ComponentEvent.COMPLETE, this, dataStr);\n    }\n\n    /**\n     * \n     * @param name (name = role + lineId)\n     * @param role \n     */\n    private getGraphics(name: string, role: string): PIXI.Graphics {\n        let key = role + name;\n        if (this._lines.has(key)) {\n            return this._lines.get(key) as PIXI.Graphics;\n        }\n        if (this._lines.size > MAX_LINES) {\n            this.removeLine(this._lineKeys.shift() as string);\n        }\n        let graphics = new PIXI.Graphics();\n        graphics.interactive = false;\n        graphics.interactiveChildren = false;\n        graphics.name = key;\n        this.container.addChild(graphics);\n        this._lineKeys.push(key);\n        this._lines.set(key, graphics);\n        graphics.lineStyle(3, this._lineColor);\n        return graphics;\n    }\n\n    private getCurLineByPos() {\n\n\n        let { _lines, _mouseOffset } = this;\n\n        if (this._eraseLine) {\n            this._eraseLine.tint = 0xFFFFFF;\n            this._eraseLine = undefined;\n        }\n\n        if (!this.isErasing) {\n            return;\n        }\n\n        let lastDistance = 10000;\n\n        _lines.forEach(value => {\n            value.getLocalBounds(tempLocalBounds);\n            if (tempLocalBounds.contains(_mouseOffset.x, _mouseOffset.y)) {\n                let distance = pointDistance(_mouseOffset, { x: tempLocalBounds.x + tempLocalBounds.width * 0.5, y: tempLocalBounds.y + tempLocalBounds.height * 0.5 });\n                if (distance < lastDistance) {\n                    lastDistance = distance;\n                    this._eraseLine = value;\n                }\n\n            }\n        });\n\n        if (this._eraseLine) {\n            (this._eraseLine as PIXI.Graphics).tint = 0x000000;\n        }\n\n    }\n\n    private getDataStrByPosCache() {\n\n\n        let { _posCache } = this;\n        if (_posCache.length == 0) {\n            return;\n        }\n        // \n        let finalX = [_posCache[0].x];\n        let finalY = [_posCache[0].y];\n\n        let lastLastPos = _posCache[0];\n        let lastPos = _posCache[1];\n\n        let sumAngle = 0;\n\n        for (let index = 2; index < _posCache.length; index++) {\n            const pos = _posCache[index];\n            let pos1 = pointSub(lastPos, lastLastPos);\n            let pos2 = pointSub(pos, lastPos);\n            let angle = pointSignAngle(pos1, pos2);\n\n            if (angle > MAX_ARC || angle < -MAX_ARC || sumAngle > MAX_ARC || sumAngle < -MAX_ARC) {\n                finalX.push(lastPos.x);\n                finalY.push(lastPos.y);\n                sumAngle = 0;\n            } else {\n                sumAngle += angle;\n            }\n\n            lastLastPos = lastPos;\n            lastPos = pos;\n        }\n\n        finalX.push(_posCache[_posCache.length - 1].x);\n        finalY.push(_posCache[_posCache.length - 1].y);\n\n        let finalStrList = [];\n        for (let index = 0; index < finalX.length; index++) {\n            const x = finalX[index] + POSITIVE;\n            const y = finalY[index] + POSITIVE;\n            let str = getStrFromPos(x, y);\n\n            finalStrList.push(str);\n        }\n\n        let finalStr = finalStrList.join('');\n        return finalStr;\n    }\n\n    private drawLine(drawId: string, data: string, from: number, to: number, role: string) {\n        let graphics = this.getGraphics(drawId, role);\n        let posList = getVecListFromStr(data, from, to);\n        this.draw(graphics, posList);\n    }\n\n    private draw(graphics: PIXI.Graphics, posList: number[]) {\n        let lastX = posList[0] - POSITIVE;\n        let lastY = posList[1] - POSITIVE;\n        graphics.moveTo(lastX, lastY);\n\n        // \n        let realList = [];\n        for (let index = 2; index < posList.length; index += 2) {\n            const x = posList[index] - POSITIVE;\n            const y = posList[index + 1] - POSITIVE;\n\n            let halfX = lastX + (x - lastX) * 0.5;\n            let halfY = lastY + (y - lastY) * 0.5;\n\n            realList.push(halfX, halfY, x, y);\n\n            lastX = x;\n            lastY = y;\n        }\n\n        graphics.lineTo(realList[0], realList[1]);\n        for (let index = 2; index < realList.length - 2; index += 4) {\n            const cx = realList[index];\n            const cy = realList[index + 1];\n            const x = realList[index + 2];\n            const y = realList[index + 3];\n            graphics.quadraticCurveTo(cx, cy, x, y);\n        }\n\n        graphics.lineTo(realList[realList.length - 2], realList[realList.length - 1]);\n    }\n\n    private removeLine(key: string) {\n        let delKeyIndex = this._lineKeys.indexOf(key);\n        if (delKeyIndex !== -1) {\n            this._lineKeys.splice(delKeyIndex, 1);\n        }\n        let line = this._lines.get(key);\n        if (line) {\n            this._lines.delete(key);\n            if (line.parent) {\n                line.parent.removeChild(line);\n                line.destroy();\n            }\n        }\n\n    }\n\n    public clear() {\n        this._lines.forEach((value: PIXI.Graphics, key: string) => {\n            if (value.parent) {\n                value.parent.removeChild(value).destroy();\n            }\n        });\n        this._lines.clear();\n        this._curLineIndex = 0;\n        this._posCache = [];\n        this._lineKeys = [];\n    }\n\n    public setData(data: string | string[]) {\n        if (typeof data === 'string') {\n            this._messageCache.push(data);\n        } else {\n            this._messageCache = this._messageCache.concat(data);\n        }\n\n        this.invalidateProperties();\n    }\n\n    public reset(): any {\n        this.emitMsg(FollowLineEnum.Operate.clear, this.role, \"\");\n        this.clear();\n    }\n\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { pointPlus, pointDistance, getDisplayObject } from \"../utils/Utils\";\nimport { Tween } from \"../tween/Tween\";\n\ntype LinePostion = 'leftTop' | 'centerTop' | 'rightTop' |\n'leftCenter' | 'center' | 'rightCenter' |\n'leftBottom' | 'centerBottom' | 'rightBottom' | number[];\n\n\nexport const play = Symbol(\"play\");\n/**\n * \n * \n * \n * @example let connectLine = new gui.ConnectLine();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestConnectLine\n */\nexport class ConnectLine extends DisplayObject {\n\n    public constructor() {\n        super();\n        this.line = new PIXI.Graphics();\n        this.container.addChild(this.line);\n\n    }\n\n    private readonly line: PIXI.Graphics;\n    private _lastStartPos: {x: number; y: number} = {x: NaN, y: NaN};\n    private _lastEndPos: {x: number; y: number} = {x: NaN, y: NaN};\n\n    private _play: 1|2 = 1;\n    /**\n     *  \n     * \n     *   play = 1 source->target.\n     *   play = 2 target->source.\n     */\n    public get play() {\n        return this._play;\n    }\n    public set play(value) {\n        this.$values[play] = true;\n        this._play = value;\n        this.invalidateDisplayList();\n    }\n\n    private _autoPlay = true;\n    /**\n     *   autoPlay = true\n     * \n     *  autoPlay = truesource,target,sourcePostion,targetPostionsource->target.\n     * \n     *  autoPlay = falsesource,target,sourcePostion,targetPostion play.\n     */\n    public get autoPlay() {\n        return this._autoPlay;\n    }\n    public set autoPlay(value) {\n        this._autoPlay = value;\n    }\n\n    private _source?: DisplayObject;\n    /**\n     * \n     */\n    public get source() {\n        return this._source;\n    }\n    public set source(value) {\n        if (this._source === getDisplayObject(value,this)) {\n            return;\n        }      \n        this._source = getDisplayObject(value,this);\n        this.invalidateDisplayList();\n    }\n\n    private _sourcePostion: LinePostion = [0, 0];\n    /**\n     * \n     */\n    public get sourcePostion() {\n        return this._sourcePostion;\n    }\n    public set sourcePostion(value) {\n        if (this._sourcePostion === value) {\n            return;\n        }\n        this._sourcePostion = value;\n        this.invalidateDisplayList();\n    }\n\n    private _target?: DisplayObject;\n    /**\n     * \n     */\n    public get target() {\n        return this._target;\n    }\n    public set target(value) {\n        if (this._target === getDisplayObject(value,this)) {\n            return;\n        }\n        this._target = getDisplayObject(value,this);\n        this.invalidateDisplayList();\n    }\n\n    private _targetPostion: LinePostion = [0, 0];\n    /**\n     * \n     */\n    public get targetPostion() {\n        return this._targetPostion;\n    }\n    public set targetPostion(value) {\n        if (this._targetPostion === value) {\n            return;\n        }\n        this._targetPostion = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        if (this._lineColor === value) {\n            return;\n        }\n        this._lineColor = value;\n        this.invalidateProperties();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 1;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        if (this._lineWidth === value) {\n            return;\n        }\n        this._lineWidth = value;\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n    }\n\n    private _isAnimation = false;\n    /**\n     * \n     */\n    public get isAnimation() {\n        return this._isAnimation;\n    }\n    public set isAnimation(value) {\n        if (this._isAnimation === value) {\n            return;\n        }\n        this._isAnimation = value;\n    }\n\n\n    protected commitProperties(): void {\n        this.line.lineStyle(this.lineWidth, this.lineColor, this.alpha);\n    }\n\n    private getLocalPos(_linePostion: LinePostion, display?: DisplayObject) {\n        let pos: { x: number; y: number } = {x: 0, y: 0};\n\n        if (display) {\n            if(display.container.position.x === 0 && display.container.position.y === 0){\n                display.validateNow();\n            }\n            const startPos = this.container.parent.toLocal(display.container.position, display.container.parent);\n            switch (_linePostion) {\n                case 'leftTop':\n                    pos = pointPlus(startPos,{x: 0, y: 0});\n                    break;\n                case 'leftCenter':\n                    pos = pointPlus(startPos,{x: 0, y: display.height >> 1});\n                    break;\n                case 'leftBottom':\n                    pos = pointPlus(startPos,{x: 0, y: display.height});\n                    break;\n                case 'centerTop':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: 0});\n                    break;\n                case 'center':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: display.height >> 1});\n                    break;\n                case 'centerBottom':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: display.height});\n                    break;\n                case 'rightTop':\n                    pos = pointPlus(startPos,{x: display.width, y: 0});\n                    break;\n                case \"rightCenter\":\n                    pos = pointPlus(startPos,{x: display.width, y: display.height >> 1});\n                    break;\n                case 'rightBottom':\n                    pos = pointPlus(startPos,{x: display.width, y: display.height});\n                    break;\n                default:\n                    pos.x = startPos.x + _linePostion[0];\n                    pos.y = startPos.y + _linePostion[1];\n            }\n        } else {\n            if (Array.isArray(_linePostion)) {\n                pos.x = _linePostion[0];\n                pos.y = _linePostion[1];\n            }\n        }\n\n        return pos;\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        const { _source, _target, _sourcePostion, _targetPostion, _lastStartPos, _lastEndPos, line} = this;\n        const startPos = this.getLocalPos(_sourcePostion, _source);\n        const endPos = this.getLocalPos(_targetPostion, _target);\n        if (_lastStartPos.x !== startPos.x ||\n             _lastStartPos.y !== startPos.y ||\n             _lastEndPos.x !== endPos.x ||\n             _lastEndPos.y !== endPos.y) {\n\n            this._lastStartPos =  startPos; \n            this._lastEndPos =  endPos; \n            if(this._autoPlay){\n                this.animation();\n            }     \n        }\n        if(this.$values[play] === true && !this._autoPlay) {\n            this.$values[play] = false;\n            this.animation();\n        }   \n        //super.updateDisplayList(unscaledWidth, unscaledHeight);     \n    }\n\n    private animation(){\n        const yoyo = this._play;\n        const line = this.line;\n        const startPos = yoyo === 1 ? this._lastStartPos : this._lastEndPos;\n        const endPos = yoyo === 1 ? this._lastEndPos : this._lastStartPos;\n\n        line.removeChildren();\n\n        if(!this.isAnimation){\n            line.moveTo(startPos.x,startPos.y);\n            line.lineTo(endPos.x, endPos.y);\n            this.emit(ComponentEvent.COMPLETE,this);\n            return;\n        }\n\n        const distance = pointDistance(startPos,endPos);\n        const lastPos = {x:startPos.x,y:startPos.y};\n        const from =  {dt:0};\n        const to =  {dt:distance};\n        const tw = new Tween(from)\n            .to(to,500)\n            .on(Tween.Event.update, (obj: TAny) => {\n                const dt =  Math.ceil(obj.dt);\n                const x = (dt*(endPos.x-startPos.x))/distance + startPos.x;\n                const y = (dt*(endPos.y-startPos.y))/distance + startPos.y;\n                line.moveTo(lastPos.x, lastPos.y);\n                line.lineTo(x, y);\n                lastPos.x = x;\n                lastPos.y = y;\n            })\n            .once(Tween.Event.complete, (obj: TAny) => {\n                tw.removeAllListeners();\n                tw.release();\n                this.emit(ComponentEvent.COMPLETE,this);\n            })\n            .start();\n    }\n\n    public set isClear(value: boolean){\n        this.clear();\n    }\n\n    public clear(){\n        const line = this.line;\n        line.clear();\n        this.commitProperties();\n    }\n\n    public release() {\n        super.release();\n        this._source = undefined;\n        this._target = undefined;\n        const line = this.line;\n        line.clear();\n        if (line.parent) {\n            line.parent.removeChild(line).destroy();\n        }\n        this.offAll(ComponentEvent.CHANGE);\n    }\n}","import { getSound } from \"../utils/Utils\";\nimport { CSSStyle } from \"../layout/CSSStyle\";\nimport { SpriteAnimated } from \"./SpriteAnimated\";\nimport { GroupController, ComponentEvent } from \"../interaction/Index\";\nimport { InputBase } from \"./private/InputBase\";\nexport const $sounds = new Map<string,PIXI.sound.Sound>();\n\n\n/**\n * \n * \n * @example let sound = new gui.Sound();\n * \n * @namespace gui\n * \n * @link https://vipkid-edu.github.io/vf-gui-docs/play/#example/TestSound\n */\nexport class Sound extends InputBase {\n\n\n    public constructor() {\n        super();\n        const sp = this.spriteAnimated;\n        sp.loop = true;\n        this.addChild(sp);\n        this.container.buttonMode = true;\n    }\n\n\n    protected _sound: PIXI.sound.Sound | undefined;\n    protected _mediaInstance: PIXI.sound.IMediaInstance | undefined;\n\n    /**\n     * \n     */\n    readonly spriteAnimated = new SpriteAnimated();\n\n    /**\n     * \n     * @default false\n     */\n    private _autoPlay = false;\n    public get autoPlay() {\n        return this._autoPlay;\n    }\n    public set autoPlay(value) {\n        this._autoPlay = value;\n    }\n\n    /**\n     * \n     */\n    private _sheetSkin?: PIXI.Spritesheet;\n    public get sheetSkin(){\n        return this._sheetSkin;\n    }\n    public set sheetSkin(value) {\n        this._sheetSkin = value;\n        this.spriteAnimated.src = value;\n    }\n \n    public get duration(){\n        if( this._sound ){\n            return this._sound.duration;\n        }\n        return 0;\n    }\n\n    private _src: number | string | PIXI.sound.Options | ArrayBuffer | HTMLAudioElement | undefined;\n    /**\n     * \n     */\n    public get src() {\n        return this._src;\n    }\n    public set src(src) {\n        if(src === this.src){\n            return;\n        }\n        this._src = src;\n        this.invalidateProperties();\n    }\n\n    /**\n     * \n     */\n    public get animationSpeed() {\n        return this.spriteAnimated.animationSpeed;\n    }\n    public set animationSpeed(value) {\n        this.spriteAnimated.animationSpeed = value;\n    }\n\n    private _speed = 1;\n    /**\n     * \n     */\n    public get speed() {\n        return this._speed;\n    }\n    public set speed(value) {\n        this._speed = value;\n        if( this._sound ){\n            this._sound.speed = value;\n        }\n    }\n\n    private _volume = 100;\n    /**\n     * \n     * @default 100\n     */\n    public get volume() {\n        return this._volume;\n    }\n    public set volume(value) {\n        this._volume = value;\n        if( this._sound ){\n            this._sound.volume = value;\n        }\n    }\n\n    private _loop = false;\n    /**\n     * \n     * @default false\n     */\n    public get loop() {\n        return this._loop;\n    }\n    public set loop(value) {\n        this._loop = value;\n    }\n\n    protected _curProgress = 0;\n    protected _playing = false;\n    public get isPlaying(){\n        if(this._sound){\n            return this._sound.isPlaying;\n        }\n        return false;\n    }\n\n    private _startTime?: number;\n    public get startTime() {\n        return this._startTime;\n    }\n    public set startTime(value) {\n        this._startTime = value;\n    }\n\n    private _endTime?: number;\n    public get endTime() {\n        return this._endTime;\n    }\n    public set endTime(value) {\n        this._endTime = value;\n    }\n\n    public get isPlay() {\n        return this.isPlaying;\n    }\n    public set isPlay(value) {\n        if(this._sound == undefined){\n            console.warn(\"curent sound initialization not complete;\");\n            return;\n        }\n        if(value){\n            this.play();\n        }else{\n            this.stop();\n        }\n    }\n\n    protected commitProperties() {\n        this.releaseSound();\n        if(this.src){\n            const sound = this._sound = getSound(this.src);\n            sound.volume = this.volume;\n            sound.speed = this.speed;\n            if(this.autoPlay){\n                this.play();\n            }else{\n                this.stop();\n            }\n            this.container.hitArea = new PIXI.Rectangle(0, 0, this.width/this.scaleX, this.height/this.scaleY);\n        }\n    }\n\n    public async play(start = 0,end?: number){\n        if(this.startTime){\n            start = this.startTime;\n        }\n        if(this.endTime){\n            end = this.endTime;\n        }\n        if(this._sound && this._sound.isPlaying){\n            return;\n        }\n        const uiObjects = GroupController.getGroup(this.groupName);\n        if(uiObjects){\n            for(const key in uiObjects){\n                if(uiObjects[key] instanceof Sound){\n                    (uiObjects[key] as Sound).stop();\n                }\n                \n            }\n        }\n        if(this._mediaInstance){\n            this._mediaInstance.off('progress',this.onProgress,this);\n            this._mediaInstance.off('end',this.onEnd,this);\n        }\n        if(this._sound){\n            \n            const sound = this._mediaInstance = await this._sound.play( {\n                start: start,\n                end: end\n            });\n\n            sound.on('progress',this.onProgress,this);\n            sound.on('end',this.onEnd,this);\n        }\n        \n        this._playing = true;\n        if(this._sheetSkin){\n            this.spriteAnimated.animationName = \"play\";\n            this.spriteAnimated.play();\n        }\n    }\n\n    public stop(){\n        if(this._sound){\n            this._sound.stop();\n        }\n        this._playing = false;\n        if(this._sheetSkin){\n            this.spriteAnimated.animationName = \"stop\";\n            this.spriteAnimated.stop();\n        }\n    }\n\n    /**\n     * \n     */\n    public resume(){\n        this.play(this._curProgress);\n    }\n\n    /**\n     * \n     */\n    public pause(){\n        if(this._mediaInstance &&  this._sound){\n            this._curProgress = this._mediaInstance.progress * this._sound.duration;\n        }\n        this.stop();\n    }\n\n    public release() {\n        super.release();\n        this.releaseSound();\n        this.offAll();\n        this.spriteAnimated.release();\n    }\n\n    private releaseSound() {\n        if(this._mediaInstance){\n            this._mediaInstance.off('progress',this.onProgress,this);\n            this._mediaInstance.off('end',this.onEnd,this);\n        }\n        if (this._sound) {  \n            this._sound.stop();\n            this._sound.destroy();\n            this._sound = undefined;\n        }\n    }\n\n    private onProgress(progress: number, duration: number) {\n        this._curProgress = progress*duration;\n        if(this.listenerCount(ComponentEvent.CHANGEING)>0){\n            this.emit(ComponentEvent.CHANGEING,this,this._curProgress);\n        }\n    }\n    private onEnd() {\n        if(this.loop){\n            this.play();\n            this.emit(ComponentEvent.LOOP,this);\n        }else{\n            this.stop();\n            this.emit(ComponentEvent.COMPLETE,this);\n        }\n    }\n\n    protected onClick(){\n        if(this.isPlaying){\n            this.stop();\n        }else{\n            this.play();\n        }\n    }\n\n}","import * as ComponentEvent from \"./ComponentEvent\";\nimport {InteractionEvent} from \"./InteractionEvent\";\n//import {KeyEvent} from \"./KeyEvent\";\nimport {TouchMouseEvent} from \"./TouchMouseEvent\";\nimport {TweenEvent} from \"./TweenEvent\";\n\nexport {\n    ComponentEvent,\n    InteractionEvent,\n    //KeyEvent,\n    TouchMouseEvent,\n    TweenEvent,\n};","import * as FollowLineEnum from \"./FollowLineEnum\";\n\nexport {FollowLineEnum};"],"sourceRoot":""}