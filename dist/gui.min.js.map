{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/interaction/Index.ts","webpack:///./src/utils/Utils.ts","webpack:///./src/core/DisplayObject.ts","webpack:///./src/core/Ticker.ts","webpack:///./src/tween/Easing.ts","webpack:///./src/display/Image.ts","webpack:///./src/UI.ts","webpack:///./src/tween/private/constants.ts","webpack:///./src/event/TweenEvent.ts","webpack:///./src/event/TouchMouseEvent.ts","webpack:///./src/core/DisplayLayoutKeys.ts","webpack:///./src/tween/Tween.ts","webpack:///./src/core/Stage.ts","webpack:///./src/tween/private/core.ts","webpack:///./src/tween/private/Interpolation.ts","webpack:///./src/tween/Timeline.ts","webpack:///./src/interaction/DragEvent.ts","webpack:///./src/interaction/MouseScrollEvent.ts","webpack:///./src/event/InteractionEvent.ts","webpack:///./src/event/ComponentEvent.ts","webpack:///./src/core/DisplayLayoutAbstract.ts","webpack:///./src/core/DisplayLayoutValidator.ts","webpack:///./src/core/DisplayObjectAbstract.ts","webpack:///./src/core/ContainerBase.ts","webpack:///./src/layout/CSSBasicLayout.ts","webpack:///./src/display/Container.ts","webpack:///./src/display/Label.ts","webpack:///./src/display/private/InputBase.ts","webpack:///./src/display/Button.ts","webpack:///./src/vf-gui.ts","webpack:///./src/tween/private/index.ts","webpack:///./src/utils/ObjectPool.ts","webpack:///./src/interaction/ClickEvent.ts","webpack:///./src/interaction/DragDropController.ts","webpack:///./src/interaction/InputController.ts","webpack:///./src/interaction/GroupController.ts","webpack:///./src/layout/CSSStyle.ts","webpack:///./src/layout/CSSSSystem.ts","webpack:///./src/layout/CSSLayout.ts","webpack:///./src/layout/CSSGridLayout.ts","webpack:///./src/core/plugs/UIBaseDrag.ts","webpack:///./src/core/plugs/UIClick.ts","webpack:///./src/core/Filter.ts","webpack:///./src/display/ScrollingContainer.ts","webpack:///./src/display/SpriteAnimated.ts","webpack:///./src/display/TextInput.ts","webpack:///./src/display/private/HtmlInput.ts","webpack:///./src/display/Slider.ts","webpack:///./src/display/CheckBox.ts","webpack:///./src/display/Rect.ts","webpack:///./src/display/Circle.ts","webpack:///./src/display/Graphics.ts","webpack:///./src/display/FollowLine.ts","webpack:///./src/display/ConnectLine.ts","webpack:///./src/event/Index.ts","webpack:///./src/enum/Index.ts","webpack:///./src/core/Scheduler.ts"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","ClickEvent","DragDropController","DragEvent","InputController","MouseScrollEvent","InteractionEvent","TouchMouseEvent","ComponentEvent","GroupController","componentToHex","hex","toString","length","rgbToNumber","g","b","numberToRgb","Math","floor","message","console","log","optionalParams","params","$getSourcePath","$getUIDisplayObjectPath","src","vf","Texture","undefined","from","target","getStage","$stage","parent","Stage","getDisplayPathById","ids","id","push","source","x","y","w","h","width","height","performance","now","offset","timing","navigationStart","Date","deepCopy","Array","isArray","concat","tempTarget","prop","str","def","result","parseInt","replace","isNaN","alpha","exec","color","colors","substring","split","start","stop","amt","num","decimals","pow","round","utils","uid","variable","URLSearchParams","location","search","has","substr","indexOf","parseFloat","lastIndexOf","total","NaN","index","pointA","pointB","sqrt","subPoint","PlusPoint","num1","num2","atan2","PI","type","gui","versionPrint","version","plugs","Map","dragThreshold","dragStopPropagation","_filterProxy","_filterMap","_filterCount","grayscaleFilterValue","pixelPerfect","attach","container","constructor","this","UIBaseDrag","dragOption","UIClick","click","release","error","interactabled","_groupName","unRegistrerGroup","registrerGroup","_tint","_blendMode","children","forEach","childrenItem","Sprite","blendMode","BLEND_MODES","NORMAL","Filter","list","size","filters","cls","set","val","splice","delete","blurFilter","blur","BlurFilter","grayscaleFilter","ColorMatrixFilter","greyscale","_style","CSSStyle","style","invalidateParentLayout","updateDisplayList","unscaledWidth","unscaledHeight","display","updateDisplayLayout","updateTransform","load","initializeUIValues","$mask","$background","clear","mask","DisplayObject","removeChild","destroy","releaseAll","offAll","uiChildren","removeAllListeners","removeChildren","DisplayLayoutAbstract","autoStart","_disabled","disabled","update","deltaTime","lastTime","elapsedMS","tween","emit","addUpdateEvent","fn","context","on","removeUpdateEvent","removeListener","EventEmitter","shared","Ticker","tickerShared","Easing","Linear","None","k","Quadratic","In","Out","InOut","Cubic","Quartic","Quintic","Sinusoidal","cos","sin","Exponential","Circular","Elastic","Back","Bounce","Stepped","steps","_fillMode","maskSprite","_sprite","_src","srcSystem","_scale9Grid","scale9GridSystem","_source","_anchorX","anchorSystem","_anchorY","COMPLETE","measure","_texture","getTexture","frame","setMeasuredSize","once","invalidateSize","sprite","fillMode","texture","TilingSprite","NineSlicePlane","e","addChild","invalidateDisplayList","scale9Grid","tileScale","tilePosition","leftWidth","rightWidth","topHeight","bottomHeight","anchorX","anchorY","Image","Utils","TickerShared","Container","ScrollingContainer","SpriteAnimated","Label","TextInput","Slider","Button","CheckBox","Rect","Circle","Graphics","FollowLine","ConnectLine","Tween","Timeline","Interaction","Event","Enum","Scheduler","FRAME_MS","TOO_LONG_FRAME_MS","CHAINED_TWEENS","STRING_PROP","NUM_REGEX","hexColor","hex2rgbext","all","rgb","hexToRgb","decomposeString","fromValue","isString","charAt","match","map","v","isNaNForST","isRGBColor","RGB","decompose","obj","to","toValue","len","fromValue1","toValues","toValue1","shift","prop2","RGBA","recompose","originalT","stringBuffer","STRING_BUFFER","isRelative","currentValue","propRegExp","replaceBrace","propExtract","props","propsLastIndex","lastArr","lastObj","reduce","nested","nextIsArray","SET_NESTED","nested2","nested3","prop3","TweenEvent","Callback","complete","repeat","reverse","pause","play","restart","onHover","onPress","onDown","onUp","onClick","onMove","invalidatePropertiesFlag","invalidateSizeFlag","invalidateDisplayListFlag","explicitWidth","explicitHeight","minWidth","maxWidth","minHeight","maxHeight","percentWidth","percentHeight","scaleX","scaleY","skewX","skewY","pivotX","pivotY","rotation","zIndex","measuredWidth","measuredHeight","oldPreferWidth","oldPreferHeight","oldX","oldY","oldWidth","oldHeight","left","right","top","bottom","horizontalCenter","verticalCenter","defaultEasing","_valuesEnd","_duration","_easingFunction","_easingReverse","_startTime","_delayTime","_repeat","_initRepeat","_isPlaying","_yoyo","_reversed","_onStartCallbackFired","_isFinite","_prevTime","_rendered","_reverseDelayTime","data","_valuesStart","_interpolationFunction","Interpolation","fromTo","duration","setObject","amount","state","reversed","remove","add","properties","render","processed","time","atStart","delay","isFinite","reverseDelay","yoyo","easing","interpolation","gotoAndPlay","gotoAndStop","gotoAndEnd","preserve","forceTime","elapsed","max","isRunning","isLagSmoothing","currentEasing","end","core","getAll","removeAll","removeDisplay","app","_stageWidth","_stageHeight","setActualSize","hitArea","Rectangle","interactive","interactiveChildren","initialized","$nestLevel","scale","copyFrom","removeDepthQueueAll","resize","inputLog","msg","_tweens","isStarted","emptyFrame","powerModeThrottle","handleLag","Plugins","frameCount","_state","uuid","f","Bezier","Reset","pw","Bernstein","isBArray","vCurr","ks","CatmullRom","p0","p1","isForceStringProp","fc","Factorial","p2","p3","v0","v1","t2","node","default","startFrame","endFrame","prevTime","_frames","_frameCount","_elapsedMS","_isStop","_lastNode","_isSetDefault","loop","setDefault","fps","_object","frames","pop","addProperty","parentNode","objectPoolShared","Node","goto","seekLastNode","isStop","updateobject","curFrame","LOOP","Point","movementX","movementY","bound","mouse","cancel","dragging","startEvent","_onDragStart","executeAction","DRAG_START","DRAG_MOVE","_onDragMove","DRAG_END","_onDragEnd","stopPropagation","identifier","onDragPress","stage","global","originalEvent","preventDefault","abs","dragRestrictAxis","onDragStart","onDragMove","off","onDragEnd","stopEvent","delta","_onHover","_onMouseOut","_onMouseScroll","_e","deltaX","deltaY","axis","detail","onMouseScroll","mouseScrllBind","document","addEventListener","passive","removeEventListener","tempLocal","signalling","local","interaction","CHANGE","CHANGEING","STATE_CHANGE","ADD","ADDED","REMOVEED","RESIZE","MOVE","CREATION_COMPLETE","DRAG_START_BEFORE","DRAG_END_BEFORE","DRAG_TARGET_BEFORE","DRAG_TARGET","DROP_TARGET","PLAY_AUDIO","$tempLocalBounds","isContainer","$values","includeInLayout","UIKeys","checkInvalidateFlag","values","invalidateProperties","validateSize","validateProperties","commitProperties","recursive","measureSizes","validateDisplayList","updateSize","getLocalBounds","changed","parentWidth","parentHeight","formatRelative","ceil","preferredW","getPreferredUWidth","preferredH","getPreferredUHeight","getPreferredBounds","bounds","setPosition","change","setTransform","validateNow","validateClient","validateSizeNow","trim","DisplayObjectAbstract","items","insert","client","hashCode","depthBins","minDepth","maxDepth","item","depth","bin","DepthBin","removeLargestChild","nestLevel","min","contains","removeSmallestChild","isEmpty","validatorShared","targetLevel","Infinity","invalidateClientPropertiesFlag","invalidatePropertiesQueue","DepthQueue","invalidateClientSizeFlag","invalidateSizeQueue","invalidateDisplayListQueue","listenersAttached","attachListeners","queue","doPhasedInstantiationCallBack","doPhasedInstantiation","done","oldTargetLevel","propertiesQueue","sizeQueue","displayListQueue","_interactive","_interactiveChildren","_enabled","_visible","ContainerBase","$onAddStage","$onRemoveStage","addChildAt","$onInit","getChildAt","getChildByUUID","_getChildById","getChildByPath","removeChildAt","beginIndex","endIndex","renderable","cacheAsBitmap","visible","event","$onLoad","$onRelease","isEmitRender","renderer","$tempRectangle","parentValues","hCenter","vCenter","childWidth","childHeight","childX","childY","child","text","Text","breakWords","fill","resolution","textAlign","clickEvent","_currentState","_focused","_useTab","_usePrev","_useNext","_down","_clickSound","currentState","thisObj","isPress","focus","keyDownEvent","which","fireTab","firePrev","fireNext","documentMouseDown","_bindEvents","keyDownEventBind","_clearEvents","setTabIndex","group","_tabIndex","_tabGroup","registrer","InputBase","_selectedStr","_oldState","img","label","_text","buttonMode","fontSize","onStateChange","FrameThrottle","ToggleLagSmoothing","objPoolDict","keyClass","oldObj","objs","ObjectPool","isOpenEmitEvent","includeHover","rightMouseButton","doubleClick","isOpenLocalPoint","localOffset","ishover","hover","double","eventnameMousedown","eventnameMouseup","eventnameMouseupoutside","getTarget","_onMouseDown","_onMouseOver","_onMouseUp","_onMouseUpOutside","_onMouseMove","setLocalPoint","emitTouchEvent","listenerCount","args","debug","code","level","action","_mouseUpAll","toLocal","_items","dragDropEventId","dragGroup","_currentItem","tabGroups","_checkGroupObject","groups","tabIndex","tabGroup","groupName","sort","cb","checkGroup","checked","isKey","_GroupObject","ui","percent","_display","_position","_backgroundRepeat","_color","_wordWrap","_textAlign","_fontSize","_fontStyle","_fontVariant","_fontWeight","_strokeThickness","_dropShadow","_dropShadowAlpha","_dropShadowAngle","_dropShadowBlur","_dropShadowColor","_dropShadowDistance","_breakWords","onResize","_justifyContent","_alignContent","_gridTemplateColumns","_gridColumnGap","_gridTemplateRows","_gridRowGap","relative","tint","_backgroundColor","backgroundColor","CSSFunction","_backgroundImage","backgroundImage","_backgroundPositionX","backgroundPositionSize","_backgroundPositionY","_backgroundSize","backgroundRepeat","_maskImage","maskImage","_maskPosition","maskPosition","_maskSize","maskSize","filter","cursor","_letterSpacing","updateFontStyle","_wordWrapWidth","_lineHeight","_fontFamily","_padding","_stroke","background","beginFill","drawRoundedRect","endFill","backgroundPositionX","backgroundPositionY","backgroundSize","position","maskGraphics","maskdisplay","getDisplayObject","setInputStyle","updateDisplayAlign","marginTop","marginLeft","justifyContent","alignContent","startX","startY","$TempRectangle","updateBasicDisplayList","updateGridLayout","isUpdateTransform","gridRowGap","gridColumnGap","getColumnRowValue","gridTemplate","parentValue","isInfinity","rowHeightTotal","columnWidthTotal","column","gridTemplateColumns","row","gridTemplateRows","cloumnIndex","rowIndex","cloumnWidth","rowHeight","widthTotal","dragInitialized","dropInitialized","_dragState","_dragPosition","dragBoundary","dragBounces","initDraggable","clearDraggable","_dragRestrictAxis","drag","_dragContainer","initDroppable","clearDroppable","_droppableReparent","JSON","stringify","_actionData","parse","dragState","tiltX","tiltY","executeDrop","path","_containerStart","$targetParent","added","worldTransform","tx","ty","dragPosition","setTimeout","getItem","onDrop","getEventItem","dropGroup","droppableReparent","parsentPath","dragContainer","_target","_clickEvent","vertexSrc","fragmentSrc","uniforms","isFilter","defaultFilterVertex","_dragScrolling","softness","radius","expandMask","animating","scrollX","scrollY","_innerContainer","innerBounds","dragEvent","mouseScrollEvent","scrolling","_boundCached","_lastWidth","_lastHeight","_isInitScrolling","_targetPosition","_lastPosition","_Position","_Speed","_stop","_graphics","setScrollPosition","updateScrollPosition","scrollSpeed","_of","speed","getInnerBounds","force","initScrolling","updateScrollBars","forcePctPosition","direction","pct","_width","_height","focusPosition","pos","dif","updateDirection","Lerp","exp","_lastAnimatedName","_curFrameNumber","_setTimeoutId","_animationName","_animationSpeed","_loop","_playCount","_loopCount","_playing","_animatedSprites","animatedNameSystem","releaseAnimate","attribSystem","frameNumber","playSystem","addAnimated","animationName","textures","sp","AnimatedSprite","clearTimeout","element","getSheet","animations","animatedSp","lastAnimated","onLoop","onComplete","playing","animationSpeed","anchor","multiline","_resolution","_previous","placeholderColor","_domVisible","_placeholder","_maxLength","_inputStyle","assign","border","outline","transformOrigin","padding","lineHeight","htmlInputShared","setStyle","_onInputInput","_onFocused","_onBlurred","_textHitbox","_ontextFocus","_textMask","updateSystem","_restrict","maxlength","maxLength","placeholder","enabled","restrict","fontFamily","setStyleValue","_updateSubstitution","_setState","_updateDOMInput","_updatetext","_renderInternal","_lastRenderer","_canvasBounds","_getCanvasBounds","_needsUpdate","transform","_vfMatrixToCSS","_getDOMRelativeWorldTransform","updatePostion","worldAlpha","worldVisible","canvasBounds","clone","_comparevfMatrices","_compareClientRects","_derivetextPadding","inputBounds","getDOMInputBounds","_derivetextStyle","wordWrap","wordWrapWidth","_derivetextText","drawRect","_ensureFocus","_hasFocus","TextStyle","letterSpacing","indent","textIndent","components","paddingV","paddingH","component","activeElement","domInput","rect","view","getBoundingClientRect","matrix","join","m1","m2","r1","r2","_selection","_restrictValue","_domInput","addDom","body","appendChild","_restrictRegex","regex","RegExp","slice","select","orgTransform","orgDisplay","opacity","createElement","addEvent","removeDom","removeEvent","_onInputKeyDownBind","_onInputKeyDown","_onInputInputBind","_onInputKeyUpBind","_onInputKeyUp","_onFocusedBind","_onBlurredBind","_applyRestriction","test","setSelectionRange","selectionStart","selectionEnd","keyCode","_amt","_decimals","_startValue","_maxPosition","_localMousePosition","_lastChange","_lastChanging","_thumbDrag","_trackDrag","trackImg","thumbImg","tracklightImg","_value","_minValue","_maxValue","_vertical","isExcValueSystem","onImgload","Round","minValue","maxValue","valueSystem","updatePosition","triggerValueChange","triggerValueChanging","updateLayout","_track","_thumb","_tracklight","vertical","soft","isPressed","updatePositionToMouse","mousePosition","newPos","maxPos","_checked","getCheckGroupSelectedValue","unRegistrerCheckGroup","registrerCheckGroup","updateCheckGroupSelected","onLabelChange","_radius","_lineColor","_lineWidth","graphics","lineStyle","drawCircle","geometry","tempLocalBounds","NUMBER_TO_STR","getStrFromPos","compX","compY","n1","n2","n3","bindDisplay","_touchId","_posCache","_lineKeys","startOffset","_curLineIndex","_messageCache","_isPause","_isErasing","_role","_lastPos","_mouseOffset","_lines","onMessage","getCurLineByPos","role","operate","lineId","messageIndex","drawLine","removeLine","curLocal","_eraseLine","emitMsg","getDataStrByPosCache","pointDistance","brush","getGraphics","moveTo","lineTo","dataStr","isErasing","lastDistance","distance","finalX","finalY","lastLastPos","lastPos","sumAngle","pos1","pointSub","pos2","angle","pointSignAngle","finalStrList","MAX_WIDTH","drawId","posList","charCodeAt","realX","realY","getVecListFromStr","draw","lastX","lastY","realList","halfX","halfY","cx","cy","quadraticCurveTo","delKeyIndex","line","setData","reset","_lastStartPos","_lastEndPos","_play","_autoPlay","_sourcePostion","_targetPostion","_isAnimation","lineWidth","lineColor","getLocalPos","_linePostion","startPos","pointPlus","endPos","animation","isAnimation","dt","tw","FollowLineEnum","_timeout","_interval","interval","timeout","lastTick","elapsedTimeAtPause","lastVisited","_running","_lastExecuted","_id","random","TIMEOUT","endHandler","noop","tickHandler","setInterval","listener","scheduler","addListener","clock","ticker","run","resume","_t","seek","isTickable","evt","timeElapsed","info"],"mappings":"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","file":"gui.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 29);\n","import {ClickEvent} from \"./ClickEvent\";\nimport * as DragDropController from \"./DragDropController\";\nimport {DragEvent} from \"./DragEvent\";\nimport * as InputController from \"./InputController\";\nimport {MouseScrollEvent} from \"./MouseScrollEvent\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport {TouchMouseEvent} from \"../event/TouchMouseEvent\";\nimport * as ComponentEvent from \"../event/ComponentEvent\";\nimport * as GroupController from \"./GroupController\";\n\nexport {\n    ClickEvent,\n    DragDropController,\n    DragEvent,\n    InputController,\n    MouseScrollEvent,\n    InteractionEvent,\n    TouchMouseEvent,\n    ComponentEvent,\n    GroupController\n};","import { DisplayObject } from \"../core/DisplayObject\";\nimport { Stage } from \"../core/Stage\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\n\n/**\n * \n */\nexport let debug: boolean;\n/**\n * \n */\n\n/**  */\nexport function log(message?: string | number | object, ...optionalParams: string[] | number[] | object[]) {\n    console.log(message, ...optionalParams);\n}\n\n/**\n *  - ,\n */\nexport let $getSourcePath: Function;\nexport function setSourcePath(params: (path: any, cls?: any) => {}) {\n    $getSourcePath = params;\n}\n\n/**\n * \n */\nexport let $getUIDisplayObjectPath: Function;\nexport function setDisplayObjectPath(params: (cls?: any, target?: DisplayObject) => {}) {\n    $getUIDisplayObjectPath = params;\n}\n\n\nexport function getTexture(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    if (src instanceof vf.Texture) {\n        return src;\n    }\n    if (src == null) {\n        src = undefined;\n        return src;\n    }\n    if (src == null) {\n        src = undefined;\n        return src;\n    }\n    return vf.Texture.from(src);\n}\n\nexport function getSheet(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getSound(src: any) {\n    if ($getSourcePath) {\n        src = $getSourcePath(src);\n    }\n    return src;\n}\n\nexport function getDisplayObject(src: any, target?: DisplayObject) {\n    if ($getUIDisplayObjectPath) {\n        src = $getUIDisplayObjectPath(src, target);\n    }\n    return src;\n}\n\n/**\n * \n * @param DisplayObject \n */\nexport function getStage(target: DisplayObject | DisplayObjectAbstract | Stage): Stage | undefined {\n    if (target.$stage) {\n        return target.$stage;\n    }\n    if (target.parent instanceof Stage) {\n        return target.parent;\n    }\n    if (target.parent) {\n        return getStage(target.parent);\n    }\n    return undefined;\n}\n\n/**\n * (jsoniduuid)\n * @param target \n * @param ids \n */\nexport function getDisplayPathById(target: DisplayObject | DisplayObjectAbstract | Stage,ids: string[] = []): string[]{\n\n    if(target.id === ''){\n        return ids;\n    }\n\n    ids.push(target.id);\n    \n    if(target.parent){\n        if (target.parent instanceof Stage) {\n            return ids;\n        }\n        return getDisplayPathById(target.parent,ids);\n    }\n    return ids;\n}\n\n\n/**\n * \n * @param sourcr \n * @param x \n * @param y \n * @param w \n * @param h \n */\nexport function setRectangle(source: vf.Rectangle, x: number, y: number, w: number, h: number) {\n    source.x = x;\n    source.y = y;\n    source.width = w;\n    source.height = h;\n}\n/**  */\nexport function now() {\n    if (performance !== undefined && performance.now !== undefined) {\n        // This must be bound, because directly assigning this function\n        // leads to an invocation exception in Chrome.\n        return performance.now.bind(performance)();\n        // Use Date.now if it is available.\n    } else {\n        const offset = performance && performance.timing && performance.timing.navigationStart ? performance.timing.navigationStart : Date.now()\n        return Date.now() - offset;\n    }\n}\n\n/**\n * \n * @param source \n */\nexport function deepCopy(source: any, target?: any) {\n    if (source === undefined || typeof source !== 'object') {\n        return source;\n    } else if (Array.isArray(source)) {\n        return [].concat(source as []);\n    } else if (typeof source === 'object') {\n        const tempTarget: { [key: string]: any } = target || {};\n        for (const prop in source) {\n            tempTarget[prop] = deepCopy(source[prop], tempTarget[prop]);\n        }\n        return tempTarget;\n    }\n    return source;\n}\n\n/**\n * helper function to convert string hex to int or default\n * \n * 16int\n * @param str #FFFFFF,0xFFFFFF\n * @param def \n */\nexport function hexToInt(str: string, def: number) {\n    if (typeof str === 'number')\n        return str;\n\n    const result = parseInt(str.replace('#', '0x'));\n\n    if (isNaN(result)) return def;\n    return result;\n}\n\n//helper function to convert hex to rgba\n/**\n * \n * @param hex 16  #FFFFFF \n * @param alpha \n * @returns \"rgba(255,255,255,1)\" || false\n */\nexport function hexToRgba(hex: string, alpha: number) {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? \"rgba(\" + parseInt(result[1], 16) + \",\" + parseInt(result[2], 16) + \",\" + parseInt(result[3], 16) + \",\" + alpha + \")\" : false;\n}\n/**\n * 1620 01\n * @param c \n */\nexport function componentToHex(c: number) {\n    const hex = c.toString(16);\n    if (hex.length == 4) {\n        return \"00\" + hex;\n    }\n    return hex.length == 1 ? \"0\" + hex : hex;\n}\n/**\n * RGB16\n * @param r  0-255\n * @param g  0-255\n * @param b  0-255\n */\nexport function rgbToHex(r: number, g: number, b: number) {\n    return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\n}\n\n/**\n * RGBnumber\n * @param r  0-255\n * @param g  0-255\n * @param b  0-255\n */\nexport function rgbToNumber(r: number, g: number, b: number) {\n    return r * 65536 + g * 256 + b;\n}\n\n/**\n * rgb\n * @param color rgb(255,255,255)\n */\nexport function rgbStrToNumber(color: string) {\n    const colors = color.substring(4, color.length - 1).split(\",\");\n    return rgbToNumber(parseInt(colors[0]), parseInt(colors[1]), parseInt(colors[2]));\n}\n/**\n * 10RGB\n * @param c \n */\nexport function numberToRgb(c: number) {\n    return {\n        r: Math.floor(c / (256 * 256)),\n        g: Math.floor(c / 256) % 256,\n        b: c % 256,\n    };\n}\n\n/**\n * hex  RGB\n * \n * hex: \"#ffffff\"->255,255,255\n * \n * 16: 0xffffff->255,255,255\n * @param hex \n */\nexport function hexToRgb(hex?: string | number) {\n    if (hex === undefined)\n        hex = 0xffffff;\n\n    if (typeof (hex) == \"number\") {\n        return numberToRgb(hex);\n    }\n\n    // Expand shorthand form (e.g. \"03F\") to full form (e.g. \"0033FF\")\n    const shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n        return r + r + g + g + b + b;\n    });\n\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    return result ? {\n        r: parseInt(result[1], 16),\n        g: parseInt(result[2], 16),\n        b: parseInt(result[3], 16)\n    } : { r: 255, g: 255, b: 255 };\n}\n\n/**\n * amtstart-stop\n * @param start \n * @param stop  \n * @param amt 0-1  >1100\n */\nexport function Lerp(start: number, stop: number, amt: number) {\n    if (amt > 1) amt = 1;\n    else if (amt < 0) amt = 0;\n    return start + (stop - start) * amt;\n}\n\n/**\n * \n * @param num \n * @param decimals \n */\nexport function Round(num: number, decimals: number) {\n    const pow = Math.pow(10, decimals);\n    return Math.round(num * pow) / pow;\n}\n\n\n/**  */\nexport function uid() {\n    return vf.utils.uid();\n}\n\n/** URL */\nexport function getQueryVariable(variable: string) {\n    const params = new URLSearchParams(location.search);\n    if (params.has(variable)) {\n        return params.get(variable);\n    }\n    return undefined;\n}\n\n/**\n * xxx(1) = 1\n * @param\n */\nexport function getStringFunctionParam(str: string) {\n    const target: { key: string; value: number } = {} as any;\n    target.key = str.substr(0, str.indexOf(\"(\"));\n    const value = str.substr(str.indexOf(\"(\") + 1);\n    target.value = parseFloat(value.substr(0, value.lastIndexOf(\")\")));\n    return target\n}\n\nexport function isDeltaIdentity(m: vf.Matrix): boolean {\n    return (m.a === 1 && m.b === 0 && m.c === 0 && m.d === 1);\n}\n\n/**\n * \n * @param value \n * @param total \n */\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n/**  */\nexport function pointDistance(pointA: vf.Point | { x: number; y: number }, pointB: vf.Point | { x: number; y: number }) {\n    return Math.sqrt((pointA.x - pointB.x) * (pointA.x - pointB.x) + (pointA.y - pointB.y) * (pointA.y - pointB.y));\n}\n\n/**  */\nexport function pointSub(source: vf.Point | { x: number; y: number }, subPoint: vf.Point | { x: number; y: number }) {\n    const x = source.x - subPoint.x;\n    const y = source.y - subPoint.y;\n    return { x, y };\n}\n\n/**  */\nexport function pointPlus(source: vf.Point | { x: number; y: number }, PlusPoint: vf.Point | { x: number; y: number }) {\n    const x = source.x + PlusPoint.x;\n    const y = source.y + PlusPoint.y;\n    return { x, y };\n}\n\n/**  */\nexport function pointSignAngle(pointA: vf.Point | { x: number; y: number }, pointB: vf.Point | { x: number; y: number }) {\n    const num1 = (pointA.x * pointB.y) - (pointB.x * pointA.y);\n    const num2 = (pointA.x * pointB.x) + (pointA.y * pointB.y);\n    return Math.atan2(num1, num2) * (360 / (Math.PI * 2));\n}\n\n/**\n *  \n * @param type \n */\nexport function getGuiClass(type: string) {\n    return (vf.gui as any)[type];\n}\n\nexport function sayHello(){\n    vf.utils.versionPrint('gui '+(vf.gui as any).version,'https://vipkid-edu.github.io/vf-gui');\n}","import { GroupController } from \"../interaction/Index\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { CSSStyle } from \"../layout/CSSStyle\";\nimport { updateDisplayLayout } from \"../layout/CSSLayout\";\nimport { UIBaseDrag } from \"./plugs/UIBaseDrag\";\nimport { deepCopy } from \"../utils/Utils\";\nimport { UIClick } from \"./plugs/UIClick\";\nimport { Filter } from \"../UI\";\n\n/**\n * UIUI\n *\n * @class\n * @since 1.0.0\n */\nexport class DisplayObject extends DisplayLayoutAbstract implements Lifecycle {\n    /**\n     * \n     */\n    public constructor() {\n        super();\n        this.container.name = (this.constructor as any).name;\n    }\n\n    /**\n     * ()\n     */\n    public $background?: vf.Graphics;\n    /**\n     * \n     */\n    public $mask?: vf.Graphics | vf.Sprite | DisplayObject;\n    /**\n     * \n     */\n    public plugs = new Map<string, Lifecycle>();\n    /**\n     * ,,\n     */\n    public dragThreshold = 0;\n    /**  */\n    private blurFilter?: vf.filters.BlurFilter;\n    /**  */\n    public dragStopPropagation = true;\n    /**\n     * \n     */\n    public get dragOption() {\n        if (this.plugs.has(UIBaseDrag.key)) {\n            return this.plugs.get(UIBaseDrag.key) as UIBaseDrag\n        }\n        return new UIBaseDrag(this);\n    }\n    public set dragOption(value: UIBaseDrag) {\n        const dragOption = this.dragOption;\n        deepCopy(value, dragOption);\n    }\n\n\n    /** TouchMouseEvent */\n    public get interactabled() {\n        const click = this.plugs.get(UIClick.key) as UIClick;\n        if (click) {\n            return true;\n        }\n        return false;\n    }\n\n    public set interactabled(value: boolean) {\n        const click = this.plugs.get(UIClick.key) as UIClick;\n        if (value) {\n            if (!click) {\n                new UIClick(this);\n            }\n        } else {\n            if (click) {\n                click.release();\n            }\n        }\n    }\n\n    /** TouchMouseEvent */\n    public get isClick() {\n        console.error('[VF LOG] isClick  interactabled !');\n        return this.interactabled;\n    }\n\n    public set isClick(value: boolean) {\n        console.error('[VF LOG] isClick  interactabled !');\n        this.interactabled = value;\n    }\n\n    /**\n     * \n     */\n    protected _groupName?: string;\n    public get groupName() {\n        return this._groupName;\n    }\n    public set groupName(value) {\n\n        if (value === undefined) {\n            GroupController.unRegistrerGroup(this);\n        }\n        if (this._groupName == value) {\n            return;\n        }\n        this._groupName = value;\n        GroupController.registrerGroup(this);\n    }\n\n\n    /**\n     * \n     */\n    public get alpha() {\n        return this.container.alpha;\n    }\n    public set alpha(value) {\n        this.container.alpha = value;\n    }\n\n\n    /**  */\n    private _tint: number | undefined;\n    public get tint(): number | undefined {\n        return this._tint;\n    }\n    public set tint(value: number | undefined) {\n        if (value === this._blendMode) {\n            return;\n        }\n        this._tint = value;\n        this.container.children.forEach(childrenItem => {\n            if ((childrenItem as any)[\"tint\"]) {\n                (childrenItem as any)[\"tint\"] = value;\n            }\n        });\n    }\n\n    /** \n     *  \n     */\n    private _blendMode: vf.BLEND_MODES | undefined;\n    public get blendMode(): vf.BLEND_MODES | undefined {\n        return this._blendMode;\n    }\n    public set blendMode(value: vf.BLEND_MODES | undefined) {\n        if (value === this._blendMode) {\n            return;\n        }\n        this._blendMode = value;\n        this.container.children.forEach(childrenItem => {\n            if (childrenItem instanceof vf.Sprite) {\n                childrenItem.blendMode = value || vf.BLEND_MODES.NORMAL;\n            }\n        });\n    }\n\n    private _filterProxy: any = {};\n    private _filterMap = new Map<string,Filter>();\n    private _filterCount = 0;\n    public get filter() {\n        if (this._filterCount !== Filter.list.size) {\n\n            this._filterCount = Filter.list.size;\n            const {_filterProxy,_filterMap} = this;\n\n            if(this.container.filters == null){\n                this.container.filters = [];\n            }\n            const containerFilters = this.container.filters;\n\n            Filter.list.forEach((cls: any, key: string) => {\n                if(!_filterMap.has(key)){\n                    const filter = new cls();\n                    _filterMap.set(key,filter);\n                    containerFilters.push(filter);\n                    Object.defineProperty(_filterProxy, key, {\n                        get: function () {\n                            return filter;\n                        },\n                        set(val) {\n                            if(val == null || val == ''){\n                                const index = containerFilters.indexOf(filter);\n                                if(index>=0){\n                                    containerFilters.splice(index,1);\n                                }\n                                _filterMap.delete(key);\n                            }\n                        }\n                    })\n                }\n            })\n        }\n        return this._filterProxy;\n    }\n\n    /**\n     * Blur XY\n     *\n     * number blurX = blurY = value\n     *\n     */\n    public set filterBlur(value: number) {\n        const container = this.container;\n        if (this.blurFilter === undefined) {\n            this.blurFilter = new vf.filters.BlurFilter(8, 1, 1);\n            container.filters = [this.blurFilter];\n        }\n        this.blurFilter.blur = value;\n\n    }\n    public get filterBlur() {\n        return this.blurFilter ? this.blurFilter.blur : 0;\n    }\n\n    /**\n     * \n     *\n     *  number, \n     */\n    private grayscaleFilter?: vf.filters.ColorMatrixFilter;\n    private grayscaleFilterValue = 0;\n    public set filterGrayscale(value: number) {\n        const container = this.container;\n        if (this.grayscaleFilter === undefined) {\n            this.grayscaleFilter = new vf.filters.ColorMatrixFilter();\n            container.filters = [this.grayscaleFilter];\n        }\n\n        this.grayscaleFilterValue = value / 100;\n        this.grayscaleFilter.greyscale(this.grayscaleFilterValue, false);\n    }\n\n    public get filterGrayscale() {\n        return this.grayscaleFilterValue * 100;\n    }\n\n    /**\n     * \n     * */\n    protected _style?: CSSStyle;\n    /**\n    *  \n    * @default\n    */\n    public pixelPerfect = true;\n    /**\n     * \n     */\n    public attach: { [key: string]: object | number | string | Function } = {};\n    /**\n     * \n     */\n    public get style(): CSSStyle {\n        if (this._style == undefined) {\n            this._style = new CSSStyle(this);\n        }\n        return this._style;\n    }\n\n    public set style(value: CSSStyle) {\n        const style = this.style;\n        deepCopy(value, style);\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        if (this._style && this._style.display !== \"none\") {\n            //console.log(\"displayStyle\",unscaledWidth,unscaledHeight,this.left,this.right,this.x,this.y);\n            updateDisplayLayout(this, unscaledWidth, unscaledHeight);\n        } else {\n            //console.log(\"display\",this.x + this.pivotX,this.y + this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY);\n            this.updateTransform();\n        }\n    }\n\n    public load() {\n        this.initializeUIValues();\n        super.load();\n    }\n\n    public release() {\n\n        const { container, $mask, $background,_filterMap } = this;\n\n        container.filters = [];\n        _filterMap.clear();\n\n        if (this._style) {\n            this._style.release();\n            this._style = undefined;\n        }\n\n        if ($mask) {\n            container.mask = null as any;\n            if ($mask instanceof DisplayObject) {\n                $mask.release();\n            } else {\n                $mask.parent && $mask.parent.removeChild($mask).destroy();\n            }\n            this.$mask = undefined;\n        }\n\n        if ($background && $background.parent) {\n            $background.parent.removeChild($background).destroy();\n            this.$background = undefined;\n        }\n\n        this.plugs.forEach(value => {\n            value.release();\n        });\n\n        GroupController.unRegistrerGroup(this);\n\n        super.release();\n    }\n\n    public releaseAll() {\n\n        this.offAll();\n        this.release();\n\n        while (this.uiChildren.length > 0) {\n            if (this.uiChildren[0].uiChildren.length > 0) {\n                (this.uiChildren[0].uiChildren[0] as DisplayObject).releaseAll();\n            }\n            (this.uiChildren[0] as DisplayObject).releaseAll();\n        }\n\n        this.uiChildren = [];\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n    }\n}\n","import * as tween from \"../tween/private/index\";\n\n/**\n * UI\n */\nclass Ticker extends vf.utils.EventEmitter{\n    /**\n     * \n     * @param autoStart false\n     */\n    public constructor(autoStart: boolean){\n        super();\n        if (autoStart) {\n            this.disabled = false;\n        }\n    }\n    \n    private _disabled = true;\n    /** .false, */\n    public get disabled() {\n        return this._disabled;\n    }\n    \n    public set disabled(value: boolean) {\n        if(value == this._disabled){\n            return;\n        }\n        this._disabled = value;\n    }\n    \n    public update(deltaTime: number,lastTime: number,elapsedMS: number) {\n        if (this._disabled){\n            return;\n        }\n        tween.update(elapsedMS);\n        this.emit(\"update\", deltaTime,lastTime,elapsedMS);\n        \n    }\n    /**\n     * \n     * @param fn \n     * @param context \n     */\n    public addUpdateEvent<T>(fn: (deltaTime: number,lastTime?: number,elapsedMS?: number) => void,context: T){\n        return this.on(\"update\",fn,context);\n    }\n    /**\n     * \n     * @param fn \n     * @param context \n     */\n    public removeUpdateEvent<T>(fn: (deltaTime: number,lastTime?: number,elapsedMS?: number) => void,context: T){\n        return this.removeListener(\"update\",fn,context);\n    }\n    \n}\n\n/**\n * Ticker \n */\nexport const shared = new Ticker(true);\nexport const tickerShared = shared;\nexport default tickerShared;\n","/**\n * \n * \n * @example vf.gui.Easing.Linear.None;\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTween\n */\nexport const Easing = {\n    Linear: {\n        None(k: number) {\n            return k;\n        }\n    },\n\n    Quadratic: {\n        In(k: number) {\n            return Math.pow(k, 2);\n        },\n\n        Out(k: number) {\n            return k * (2 - k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 2);\n            }\n\n            return -0.5 * (--k * (k - 2) - 1);\n        }\n    },\n\n    Cubic: {\n        In(k: number) {\n            return Math.pow(k, 3);\n        },\n\n        Out(k: number) {\n            return --k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 3);\n            }\n\n            return 0.5 * ((k -= 2) * k * k + 2);\n        }\n    },\n\n    Quartic: {\n        In(k: number) {\n            return Math.pow(k, 4);\n        },\n\n        Out(k: number) {\n            return 1 - --k * k * k * k;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 4);\n            }\n\n            return -0.5 * ((k -= 2) * k * k * k - 2);\n        }\n    },\n\n    Quintic: {\n        In(k: number) {\n            return Math.pow(k, 5);\n        },\n\n        Out(k: number) {\n            return --k * k * k * k * k + 1;\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(k, 5);\n            }\n\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\n        }\n    },\n\n    Sinusoidal: {\n        In(k: number) {\n            return 1 - Math.cos((k * Math.PI) / 2);\n        },\n\n        Out(k: number) {\n            return Math.sin((k * Math.PI) / 2);\n        },\n\n        InOut(k: number) {\n            return 0.5 * (1 - Math.cos(Math.PI * k));\n        }\n    },\n\n    Exponential: {\n        In(k: number) {\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\n        },\n\n        Out(k: number) {\n            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            if ((k *= 2) < 1) {\n                return 0.5 * Math.pow(1024, k - 1);\n            }\n\n            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n        }\n    },\n\n    Circular: {\n        In(k: number) {\n            return 1 - Math.sqrt(1 - k * k);\n        },\n\n        Out(k: number) {\n            return Math.sqrt(1 - --k * k);\n        },\n\n        InOut(k: number) {\n            if ((k *= 2) < 1) {\n                return -0.5 * (Math.sqrt(1 - k * k) - 1);\n            }\n\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n        }\n    },\n\n    Elastic: {\n        In(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n        },\n\n        Out(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\n        },\n\n        InOut(k: number) {\n            if (k === 0) {\n                return 0;\n            }\n\n            if (k === 1) {\n                return 1;\n            }\n\n            k *= 2;\n\n            if (k < 1) {\n                return -0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\n            }\n\n            return 0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1;\n        }\n    },\n\n    Back: {\n        In(k: number) {\n            const s = 1.70158;\n\n            return k * k * ((s + 1) * k - s);\n        },\n\n        Out(k: number) {\n            const s = 1.70158;\n\n            return --k * k * ((s + 1) * k + s) + 1;\n        },\n\n        InOut(k: number) {\n            const s = 1.70158 * 1.525;\n\n            if ((k *= 2) < 1) {\n                return 0.5 * (k * k * ((s + 1) * k - s));\n            }\n\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n        }\n    },\n\n    Bounce: {\n        In(k: number) {\n            return 1 - Easing.Bounce.Out(1 - k);\n        },\n\n        Out(k: number) {\n            const x = 2.75;\n            const y = 7.5625;\n            if (k < 1 / x) {\n                return y * k * k;\n            } else if (k < 2 / x) {\n                return y * (k -= 1.5 / x) * k + 0.75;\n            } else if (k < 2.5 / x) {\n                return y * (k -= 2.25 / x) * k + 0.9375;\n            } else {\n                return y * (k -= 2.625 / x) * k + 0.984375;\n            }\n        },\n\n        InOut(k: number) {\n            if (k < 0.5) {\n                return Easing.Bounce.In(k * 2) * 0.5;\n            }\n\n            return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\n        }\n    },\n\n    Stepped: {\n        steps: (steps: number) => (k: number) => ((k * steps) | 0) / steps\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\nimport { getTexture } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n/**\n * \n * \n * @example let image = new vf.gui.Image();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestImage\n */\nexport class Image extends DisplayObject implements MaskSprite{\n\n\n    public constructor() {\n        super();\n    }\n\n    /**  */\n    public maskSprite(){\n        return this._sprite as vf.Sprite;\n    }\n\n    protected _sprite: vf.Sprite | vf.TilingSprite | vf.NineSlicePlane | undefined;\n    protected _texture: vf.Texture | undefined;\n    protected _source: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n\n    /**\n     * \n     */\n    private _src: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined;\n    public get src(): number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined {\n        return this._src;\n    }\n    public set src(value: number | string | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement | undefined) {\n        this._src = value;\n        this.srcSystem();\n    }\n    /**\n     * \n     * \n     * fillMode = scale [leftWidth,rightWidth,topHeight,bottomHeight]\n     * \n     * fillMode = repeat [scalex,scaley,x,y]\n     */\n    private _scale9Grid?: number[];\n    public get scale9Grid() {\n        return this._scale9Grid;\n    }\n    public set scale9Grid(value) {\n        this._scale9Grid = value;\n        this.scale9GridSystem();\n    }\n    /**\n     * \n     * scalescale9Grid\n     */\n    private _fillMode?: \"no-repeat\" | \"repeat\" | \"scale\" = \"no-repeat\";\n    public get fillMode() {\n        return this._fillMode;\n    }\n    public set fillMode(value) {\n        this._fillMode = value;\n        this._source = undefined;\n        this.srcSystem();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.anchorSystem();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.anchorSystem();\n    }\n\n    public release() {\n        super.release();\n        this.offAll(ComponentEvent.COMPLETE);\n        if (this._sprite && this._sprite.parent) {\n            this._sprite.parent.removeChild(this._sprite).destroy();\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    protected measure(): void {\n        //\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if(unscaledWidth === 0 && unscaledHeight ===0){\n            return;\n        }\n        if (this._sprite) {\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n            this.scale9GridSystem();\n            this._sprite.width = unscaledWidth;\n            this._sprite.height = unscaledHeight;\n            this.anchorSystem();\n        }\n\n    }\n\n    protected srcSystem() {\n \n        const { container, src } = this;\n        if (src === undefined && this._sprite && this._sprite.parent) {\n            container.removeChild(this._sprite);\n            this._sprite.destroy();\n        }\n        if (this._texture) {\n            this._texture.removeAllListeners();\n        }\n\n        if (src !== this._source) {\n            this._source = src;\n            const texture = this._texture = getTexture(src);\n            if(texture === undefined){\n                return;\n            }\n            if (texture.frame.width > 1 && texture.frame.height > 1) {\n                this.setMeasuredSize(texture.frame.width, texture.frame.height);\n            }\n            let invalidateDisplayList = false;\n            texture.once(\"update\", () => {\n                invalidateDisplayList = true;\n                this.setMeasuredSize(texture.frame.width, texture.frame.height);\n                this.invalidateSize();\n                this.emit(ComponentEvent.COMPLETE, this);\n\n            }, this);\n\n            let sprite: vf.Sprite | vf.TilingSprite | vf.NineSlicePlane | undefined = this._sprite;\n            \n            try{\n                if (this.fillMode === \"no-repeat\") {\n                    if (sprite instanceof vf.Sprite) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new vf.Sprite(texture);\n                    }\n                } else if (this.fillMode === \"repeat\") {\n                    if (sprite instanceof vf.TilingSprite) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new vf.TilingSprite(texture);\n                    }\n                } else if (this.fillMode === \"scale\") {\n                    if (sprite instanceof vf.NineSlicePlane) {\n                        sprite.texture = texture;\n                    } else {\n                        sprite = new vf.NineSlicePlane(texture);\n                    }\n                }\n            }catch(e){\n                sprite = vf.Sprite.from(texture);\n            }\n\n            if (sprite && sprite.parent == undefined) {\n                this._sprite = container.addChild(sprite) as vf.Sprite;\n            }\n            if(!invalidateDisplayList){\n                this.invalidateDisplayList();\n                this.invalidateParentLayout();\n            }\n        }\n\n    }\n\n    protected scale9GridSystem() {\n        if (this._sprite === undefined || this.scale9Grid === undefined) {\n            return;\n        }\n\n        const sprite = this._sprite;\n        const scale9Grid = this.scale9Grid;\n\n        if (sprite instanceof vf.TilingSprite) {\n            sprite.tileScale.set(scale9Grid[0], scale9Grid[1]);\n            sprite.tilePosition.set(scale9Grid[2], scale9Grid[3]);\n        } else if (sprite instanceof vf.NineSlicePlane) {\n            if (scale9Grid[0] !== undefined) {\n                sprite.leftWidth = scale9Grid[0];\n            }\n            if (scale9Grid[1] !== undefined) {\n                sprite.rightWidth = scale9Grid[1];\n            }\n            if (scale9Grid[2] !== undefined) {\n                sprite.topHeight = scale9Grid[2];\n            }\n            if (scale9Grid[3] !== undefined) {\n                sprite.bottomHeight = scale9Grid[3];\n            }\n        }\n    }\n\n    protected anchorSystem() {\n        if (this._sprite === undefined) {\n            return;\n        }\n        const sprite = this._sprite;\n\n        if (this.anchorX) {\n            sprite.x = -Math.floor(sprite.width * this.anchorX);\n        }\n        if (this.anchorY) {\n            sprite.y = -Math.floor(sprite.height * this.anchorY);\n        }\n    }\n\n\n\n}","/**  */\nimport * as Utils from \"./utils/Utils\";\n/** UI UI */\nimport { Stage } from \"./core/Stage\";\n/** UI */\nimport { DisplayObject } from \"./core/DisplayObject\";\n/**  */\nimport { shared as TickerShared } from \"./core/Ticker\";\n/**  */\nimport { Filter } from './core/Filter';\n/**\n * \n * \n * checkGroup \n * \n * @example let container = new vf.gui.Container();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestContainer\n */\nimport { Container } from \"./display/Container\";\n/**\n * \n * \n * @example let scrollingContainer = new vf.gui.ScrollingContainer();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestRect\n */\nimport { ScrollingContainer } from \"./display/ScrollingContainer\";\n/**\n * \n * \n * @example let image = new vf.gui.Image();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestImage\n */\nimport { Image } from \"./display/Image\";\n/**\n * \n * \n * texturepacker\n * \n * @example let spriteAnimated = new vf.gui.SpriteAnimated();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestSpriteAnimated\n */\nimport { SpriteAnimated } from \"./display/SpriteAnimated\";\n/**\n * \n * \n *  xxxx.style.breakWords = true;\n * \n * \n * \n * @example let label = new vf.gui.Label();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestLabel\n */\nimport { Label } from \"./display/Label\";\n/**\n * \n * \n * @example let textInput = new vf.gui.TextInput(true|false);//\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTextInput\n */\nimport { TextInput } from \"./display/TextInput\";\n/**\n * /\n * \n * @example let slider = new vf.gui.Slider();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestSlider\n */\nimport { Slider } from \"./display/Slider\";\n/**\n * \n * \n * @example let button = new vf.gui.Button();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestButton\n */\nimport { Button } from \"./display/Button\";\n\n/**\n * \\\n * \n * checkGroup \n * \n * @example let checkBox = new vf.gui.CheckBox();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestCheckBox\n */\nimport { CheckBox } from \"./display/CheckBox\";\n/**\n * \n * \n * @example let rect = new vf.gui.Rect();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestRect\n */\nimport { Rect } from \"./display/Rect\";\n/**\n * \n * \n * @example let rect = new vf.gui.Circle();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestCircle\n */\nimport { Circle } from \"./display/Circle\";\n/**\n * \n * \n * @example let graphics = new vf.gui.Graphics();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nimport { Graphics } from \"./display/Graphics\";\n/**\n * \n * \n * @example let graphics = new vf.gui.FollowLine();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nimport { FollowLine } from \"./display/FollowLine\";\n/**\n * \n * \n * \n * @example let connectLine = new vf.gui.ConnectLine();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestConnectLine\n */\nimport { ConnectLine } from \"./display/ConnectLine\";\n/**\n * \n * \n * @example vf.gui.Easing.Linear.None;\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTween\n */\nimport { Easing } from \"./tween/Easing\";\n/**\n * \n * \n * @example let tween = new vf.gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTween\n */\nimport { Tween } from \"./tween/Tween\";\n/**\n * \n * \n * @example let timeline = new vf.gui.Timeline();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nimport { Timeline } from \"./tween/Timeline\";\n\n/**\n * inputbase\n */\nimport * as Interaction from \"./interaction/Index\";\n/**\n * \n */\nimport * as Event from \"./event/Index\";\n\n/**\n * \n */\nimport * as Enum from './enum/Index';\n\nimport { Scheduler } from './core/Scheduler';\n\nexport declare type Application = vf.Application;\n\n/** UI */\nexport {\n    Filter, Utils, Stage, Container, ScrollingContainer, Slider,\n    Label, TextInput, Button, CheckBox, Rect, Circle, Graphics, FollowLine, ConnectLine, Interaction,\n    DisplayObject, TickerShared, Tween, Timeline, Easing, Image, SpriteAnimated, Event, Enum, Scheduler\n};","import { hexToRgb } from \"../../utils/Utils\";\n/**\n * \n */\nexport const FRAME_MS = 50 / 3;\n/**\n * \n */\nexport const TOO_LONG_FRAME_MS = 250;\n/**\n * key\n */\nexport const CHAINED_TWEENS = '_chainedTweens';\n// For String tweening stuffs\nexport const STRING_PROP = 'STRING_PROP';\n// Also RegExp's for string tweening\nexport const NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\n\n\n\nconst isNaNForST = (v: string) => isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' ';\nconst hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/gi;\nconst hex2rgbext = (all: string, ... hex: any[]) => {\n    let rgb = hexToRgb(all);\n    return 'rgb(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ')';\n}\n\nexport function decomposeString(fromValue: string | any) {\n    if (fromValue && fromValue.splice && fromValue.isString) {\n        return fromValue;\n    }\n    if (typeof fromValue !== 'string') {\n        return fromValue;\n    }\n    if (fromValue.charAt(1) === '=') {\n        return fromValue;\n    }\n    const hex = fromValue.replace(hexColor, hex2rgbext).match(NUM_REGEX);\n    let value: any;\n    if (hex) {\n        value = hex.map((v) => (isNaNForST(v) ? v : +v));\n    }\n    value.isString = true;\n    return value;\n}\n\n// Decompose value, now for only `string` that required\nexport function decompose(prop: any, obj: any, from: any, to: any): any {\n    const fromValue: any = from[prop];\n    const toValue: any = to[prop];\n\n    if (fromValue === toValue) {\n        return true;\n    } else if (Array.isArray(fromValue) && Array.isArray(toValue) && fromValue.length === toValue.length) {\n        for (let i = 0, len = toValue.length; i < len; i++) {\n            const a = fromValue[i];\n            const b = toValue[i];\n\n            if (a === b || (typeof a === 'number' && typeof b === 'number')) {\n                continue;\n            } else {\n                decompose(i, obj[prop], fromValue, toValue);\n            }\n        }\n    }\n    if (typeof fromValue === 'number' && typeof toValue === 'number') {\n        //\n    } else if (fromValue && fromValue.splice && fromValue.isString && toValue && toValue.splice && toValue.isString) {\n        //\n    } else if (typeof fromValue === 'string' && Array.isArray(toValue)) {\n        const fromValue1 = decomposeString(fromValue);\n        const toValues = toValue.map(decomposeString);\n\n        from[prop] = fromValue1;\n        to[prop] = toValues;\n        return true;\n    } else if (typeof fromValue === 'string' || typeof toValue === 'string') {\n        let fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue);\n        let toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue);\n\n        if (fromValue1 === undefined) {\n            return;\n        }\n        let i = 1\n        while (i < fromValue1.length) {\n            if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\n                fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i]);\n                toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i]);\n            } else {\n                i++;\n            }\n        }\n\n        i = 0;\n\n        if (fromValue1[0] === STRING_PROP) {\n            fromValue1.shift();\n        }\n        if (toValue1[0] === STRING_PROP) {\n            toValue1.shift();\n        }\n\n        from[prop] = fromValue1;\n        to[prop] = toValue1;\n        return true;\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (Array.isArray(fromValue) && !(fromValue as any).isString) {\n            return fromValue.map((v, i) => decompose(i, obj[prop], fromValue, toValue));\n        } else {\n            for (let prop2 in toValue) {\n                decompose(prop2, obj[prop], fromValue, toValue);\n            }\n        }\n        return true;\n    }\n    return false;\n}\n\n// Recompose value\nexport const RGB = 'rgb(';\nexport const RGBA = 'rgba(';\n\nexport function isRGBColor(v: any, i: number, r = RGB) {\n    return typeof v[i] === 'number' && (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r);\n}\n\n\n\nexport function recompose(prop: any, obj: any, from: any, to: any, t: any, originalT: any, stringBuffer?: any) {\n    const fromValue = stringBuffer ? from : from[prop]\n    let toValue = stringBuffer ? to : to[prop]\n    if (toValue === undefined) {\n        return fromValue\n    }\n    if (fromValue === undefined || typeof fromValue === 'string' || fromValue === toValue) {\n        return toValue\n    } else if (typeof fromValue === 'object' && typeof toValue === 'object') {\n        if (!fromValue || !toValue) {\n            return obj[prop]\n        }\n        if (\n            typeof fromValue === 'object' &&\n            !!fromValue &&\n            fromValue.isString &&\n            toValue &&\n            toValue.splice &&\n            toValue.isString\n        ) {\n            let STRING_BUFFER = ''\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] !== toValue[i] || typeof fromValue[i] !== 'number' || typeof toValue[i] === 'number') {\n                    const isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '='\n                    let currentValue =\n                        typeof fromValue[i] !== 'number'\n                            ? fromValue[i]\n                            : isRelative\n                                ? fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\n                                : fromValue[i] + (toValue[i] - fromValue[i]) * t\n                    if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\n                        currentValue |= 0\n                    }\n                    STRING_BUFFER += currentValue\n                    if (isRelative && originalT === 1) {\n                        fromValue[i] = fromValue[i] + parseFloat(toValue[i][0] + toValue[i].substr(2))\n                    }\n                } else {\n                    STRING_BUFFER += fromValue[i]\n                }\n            }\n            if (!stringBuffer) {\n                obj[prop] = STRING_BUFFER\n            }\n            return STRING_BUFFER\n        } else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\n            for (let i = 0, len = fromValue.length; i < len; i++) {\n                if (fromValue[i] === toValue[i] || typeof obj[prop] === 'string') {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        } else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\n            for (let i in fromValue) {\n                if (fromValue[i] === toValue[i]) {\n                    continue\n                }\n                recompose(i, obj[prop], fromValue, toValue, t, originalT)\n            }\n        }\n    } else if (typeof fromValue === 'number') {\n        const isRelative = typeof toValue === 'string'\n        obj[prop] = isRelative\n            ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\n            : fromValue + (toValue - fromValue) * t\n        if (isRelative && originalT === 1) {\n            from[prop] = obj[prop]\n        }\n    } else if (typeof toValue === 'function') {\n        obj[prop] = toValue(t)\n    }\n    return obj[prop]\n}\n\n// Dot notation => Object structure converter\n// example\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\nconst propRegExp = /([.[])/g\nconst replaceBrace = /\\]/g\nconst propExtract = function (obj: any, property: any) {\n    const value = obj[property]\n    const props = property.replace(replaceBrace, '').split(propRegExp)\n    const propsLastIndex = props.length - 1\n    let lastArr = Array.isArray(obj)\n    let lastObj = typeof obj === 'object' && !lastArr\n    if (lastObj) {\n        obj[property] = null\n        delete obj[property]\n    } else if (lastArr) {\n        obj.splice(property, 1)\n    }\n    return props.reduce((nested: any, prop: any, index: number) => {\n        if (lastArr) {\n            if (prop !== '.' && prop !== '[') {\n                prop *= 1\n            }\n        }\n        let nextProp = props[index + 1]\n        let nextIsArray = nextProp === '['\n        if (prop === '.' || prop === '[') {\n            if (prop === '.') {\n                lastObj = true\n                lastArr = false\n            } else if (prop === '[') {\n                lastObj = false\n                lastArr = true\n            }\n            return nested\n        } else if (nested[prop] === undefined) {\n            if (lastArr || lastObj) {\n                nested[prop] = index === propsLastIndex ? value : lastArr || nextIsArray ? [] : lastObj ? {} : null\n                lastObj = lastArr = false\n                return nested[prop]\n            }\n        } else if (nested[prop] !== undefined) {\n            if (index === propsLastIndex) {\n                nested[prop] = value\n            }\n            return nested[prop]\n        }\n        return nested\n    }, obj)\n}\n\nexport const SET_NESTED = function (nested: any) {\n    if (typeof nested === 'object' && !!nested) {\n        for (let prop in nested) {\n            if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\n                propExtract(nested, prop)\n            } else if (typeof nested[prop] === 'object' && !!nested[prop]) {\n                let nested2 = nested[prop]\n                for (let prop2 in nested2) {\n                    if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\n                        propExtract(nested2, prop2)\n                    } else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\n                        let nested3 = nested2[prop2]\n                        for (let prop3 in nested3) {\n                            if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\n                                propExtract(nested3, prop3)\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    return nested\n}\n","\n/**\n * \n */\nexport const TweenEvent = {\n    /**\n     * \n     */\n    Callback : 'Callback',\n    /**\n     * \n     */\n    update : 'update',\n    /**\n     * \n     */\n    complete : 'complete',\n    /**\n     * \n     */\n    start : 'start',\n    /**\n     * \n     */\n    repeat : 'repeat',\n    /**\n     * \n     */\n    reverse : 'reverse',\n    /**\n     * \n     */\n    pause : 'pause',\n    /**\n     * \n     */\n    play : 'play',\n    /**\n     * \n     */\n    restart : 'restart',\n    /**\n     * \n     */\n    stop : 'stop'\n}","\n/**\n * \n * \n * import InteractionEvent,{Mouse} from \"../interaction/InteractionEvent\",\n */\nexport const TouchMouseEvent = {\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject,over: boolean)=>{}\n     */\n    onHover : \"hover\",\n    /**\n     *  \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject, isPressed: boolean)=>void\n     */\n    onPress : \"press\",\n    /**\n     * \n     */\n    onDown : \"down\",\n    /**\n     * \n     */\n    onUp : \"up\",\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onClick : \"click\",\n    /**\n     * \n     * \n     * (e: InteractionEvent,thisObj:DisplayObject)=>void\n     */\n    onMove : \"move\",\n}\n","//states\n/**  */\nexport const invalidatePropertiesFlag = Symbol(\"invalidatePropertiesFlag\");\n/**  */\nexport const invalidateSizeFlag = Symbol(\"invalidateSizeFlag\");\n/**  */\nexport const invalidateDisplayListFlag = Symbol(\"invalidateDisplayListFlag\");\n\n//Properties\nexport const explicitWidth = Symbol(\"explicitWidth\");\nexport const explicitHeight = Symbol(\"explicitHeight\");\nexport const width = Symbol(\"width\");\nexport const height = Symbol(\"height\");\nexport const minWidth = Symbol(\"minWidth\");\nexport const maxWidth = Symbol(\"maxWidth\");\nexport const minHeight = Symbol(\"minHeight\");\nexport const maxHeight = Symbol(\"maxHeight\");\nexport const percentWidth = Symbol(\"percentWidth\");\nexport const percentHeight = Symbol(\"percentHeight\");\nexport const scaleX = Symbol(\"scaleX\");\nexport const scaleY = Symbol(\"scaleY\");\nexport const x = Symbol(\"x\");\nexport const y = Symbol(\"y\");\nexport const skewX = Symbol(\"skewX\");\nexport const skewY = Symbol(\"skewY\");\nexport const pivotX = Symbol(\"pivotX\");\nexport const pivotY = Symbol(\"pivotY\");\nexport const rotation = Symbol(\"rotation\");\nexport const zIndex = Symbol(\"zIndex\");\nexport const measuredWidth = Symbol(\"measuredWidth\");\nexport const measuredHeight = Symbol(\"measuredHeight\");\nexport const oldPreferWidth = Symbol(\"oldPreferWidth\");\nexport const oldPreferHeight = Symbol(\"oldPreferHeight\");\nexport const oldX = Symbol(\"oldX\");\nexport const oldY = Symbol(\"oldY\");\nexport const oldWidth = Symbol(\"oldWidth\");\nexport const oldHeight = Symbol(\"oldHeight\");\n\n//Styles\nexport const left = Symbol(\"left\");\nexport const right = Symbol(\"right\");\nexport const top = Symbol(\"top\");\nexport const bottom = Symbol(\"bottom\");\nexport const horizontalCenter = Symbol(\"horizontalCenter\");\nexport const verticalCenter = Symbol(\"verticalCenter\");\n\n\n\n\n","import { deepCopy, uid } from \"../utils/Utils\";\nimport { Easing } from './Easing';\nimport { Interpolation } from \"./private/Interpolation\";\nimport { add, get, getAll, remove, removeAll, removeDisplay, update, isRunning, isLagSmoothing } from './private/core';\nimport { decompose, recompose, FRAME_MS, TOO_LONG_FRAME_MS } from './private/constants';\nimport { TweenEvent } from '../event/TweenEvent';\n\nconst defaultEasing = Easing.Linear.None;\n/**\n * \n * \n * @example let tween = new vf.gui.Tween(myObject).to({width:'300px'}, 2000).start()\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTween\n */\nexport class Tween extends vf.utils.EventEmitter {\n\n    static core = { add, get, getAll, remove, removeAll, removeDisplay, update };\n    static Event = TweenEvent;\n    /**\n     * Easier way to call the Tween\n     * @param {object} object - Initial value\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.fromTo(myObject, {x:0}, {x:200},1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static fromTo(object: any, to: any, duration?: number) {\n        const tween = new Tween(object).to(to, duration);\n        return tween;\n    }\n    /**\n     * Easier way calling constructor only applies the `to` value, useful for CSS Animation\n     * @param {any} object object\n     * @param {object} to - Target value\n     * @param {object} params - Options of tweens\n     * @example Tween.to(myObject, {x:200}, 1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static to(object: any | any[], to: any, duration?: number) {\n        return Tween.fromTo(object, to, duration)\n    }\n    /**\n     * Easier way calling constructor only applies the `from` value, useful for CSS Animation\n     * @param {any} object object\n     * @param {object} from - Initial value\n     * @param {object} params - Options of tweens\n     * @example Tween.from(myObject, {x:200}, 1000)\n     * @memberof vf.gui.Tween\n     * @static\n     */\n    static from(object: any, from: any, duration?: number) {\n        return Tween.fromTo(object, from, duration)\n    }\n    constructor(object?: any) {\n        super();\n\n        this.id = uid();\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n        this._interpolationFunction = Interpolation.Linear;\n        return this;\n    }\n\n    public id: number;\n    public object: any;\n    private _valuesEnd: any = null;\n    private _valuesStart: any;\n    protected _duration = 1000;\n    private _easingFunction = defaultEasing;\n    private _easingReverse = defaultEasing;\n    private _interpolationFunction: ((v: any, k: number, value: any) => any) | any;\n\n    protected _startTime = 0;\n    protected _delayTime = 0;\n    private _repeat = 0;\n    private _initRepeat = 0;\n    public _isPlaying = false;\n    private _yoyo = false;\n    private _reversed = false;\n\n    private _onStartCallbackFired = false;\n    private _isFinite = true;\n    private _prevTime = 0;\n\n    private _rendered = false;\n    private _reverseDelayTime = 0;\n    /**  */\n    public data: { [key: string]: any } = {};\n\n\n    public setObject(object: any){\n        this.object = object;\n        this._valuesStart = Array.isArray(object) ? [] : {};\n    }\n    \n    /**\n     * \n     * @return {boolean} \n     * @example tween.isPlaying()\n     * @memberof vf.gui.Tween\n     */\n    public get isPlaying() {\n        return this._isPlaying;\n    }\n\n    /**\n     * \n     * @return {boolean} \n     * @example tween.isStarted()\n     * @memberof vf.gui.Tween\n     */\n    public get isStarted() {\n        return this._onStartCallbackFired;\n    }\n\n    /**\n     * \n     */\n    public get startTime() {\n        return this._startTime;\n    }\n    /**\n     * \n     */\n    public set startTime(value: number) {\n        this._startTime = value;\n    }\n    /**\n     * \n     * @param {number} amount \n     * @example tween.duration(2000)\n     * @memberof vf.gui.Tween\n     * @deprecated \n     * @private\n     */\n    public set duration(amount: number | Function) {\n        this._duration = typeof amount === 'function' ? amount(this._duration) : amount;\n    }\n    public get duration() {\n        return this._duration;\n    }\n\n    /**\n     * \n     * @example tween.reverse()\n     * @param {boolean=} state \n     * @memberof vf.gui.Tween\n     */\n    public reverse(state?: boolean) {\n        const { _reversed } = this;\n\n        this._reversed = state !== undefined ? state : !_reversed;\n\n        return this;\n    }\n\n    /**\n     * \n     * @return {boolean}\n     * @example tween.reversed() true\n     * @memberof vf.gui.Tween\n     */\n    public reversed() {\n        return this._reversed;\n    }\n\n    /**\n     * \n     * @example tween.pause()\n     * @memberof vf.gui.Tween\n     */\n    public pause() {\n        if (!this._isPlaying) {\n            return this;\n        }\n\n        this._isPlaying = false;\n\n        remove(this);\n\n        return this.emit(TweenEvent.pause, this.object);\n    }\n\n    /**\n     * \n     * @example tween.play()\n     * @memberof vf.gui.Tween\n     */\n    public play() {\n        if (this._isPlaying) {\n            return this;\n        }\n\n        this._isPlaying = true;\n        this._startTime = 0;\n        add(this);\n\n        return this.emit(TweenEvent.play, this.object);\n    }\n\n    /**\n     * \n     * @param {object} properties \n     * @param {number|Object=} [duration=1000] \n     * @example let tween = new vf.gui.Tween({x:0}).to({x:100}, 2000)\n     * @memberof vf.gui.Tween\n     */\n    public to(properties: any, duration = 1000) {\n        this._valuesEnd = properties;\n        this._duration = duration;\n        return this;\n    }\n\n\n    private render() {\n        if (this._rendered) {\n            return this;\n        }\n        const { _valuesStart, _valuesEnd, object } = this;\n\n        if (!_valuesStart.processed) {\n            for (const property in _valuesEnd) {\n                const start = object && object[property] && deepCopy(object[property]);\n                _valuesStart[property] = start || 0;\n                decompose(property, object, _valuesStart, _valuesEnd);\n            }\n            _valuesStart.processed = true;\n        }\n\n        this._rendered = true;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {number|string} time \n     * @example tween.start()\n     * @memberof vf.gui.Tween\n     */\n    public start(time?: number) {\n        this._startTime = time !== undefined ? time : 0;\n        this._startTime += this._delayTime;\n        this._prevTime = 0;\n        this._onStartCallbackFired = false;\n        this._rendered = false;\n        this._isPlaying = true;\n        add(this);\n\n        return this;\n    }\n\n    /**\n     * \n     * @example tween.stop()\n     * @memberof vf.gui.Tween\n     */\n    public stop() {\n        const { _isPlaying, _isFinite, object, _duration, _initRepeat, _yoyo, _reversed } = this;\n\n        if (!_isPlaying) {\n            return this;\n        }\n        this._isPlaying = false;\n\n        const atStart = _isFinite ? (_initRepeat + 1) % 2 === 1 : !_reversed;\n\n        this._reversed = false;\n        if (_yoyo && atStart) {\n            this._prevTime = _duration;\n        } else {\n            this._prevTime = 0;\n        }\n        this.update(0);\n        remove(this);\n\n        return this.emit(TweenEvent.stop, object);\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.delay(500)\n     * @memberof vf.gui.Tween\n     */\n    public delay(amount: number) {\n        this._delayTime = amount;\n        return this;\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.repeat(5)\n     * @memberof vf.gui.Tween\n     */\n    public repeat(amount: number) {\n        this._repeat = !this._duration ? 0 : amount;\n        this._initRepeat = this._repeat;\n        this._isFinite = isFinite(amount);\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {number} amount \n     * @example tween.reverseDelay(500)\n     * @memberof vf.gui.Tween\n     */\n    public reverseDelay(amount: number) {\n        this._reverseDelayTime = amount;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {boolean} state true\n     * @param {Function=} _easingReverse Easing function \n     * @example tween.yoyo(true)\n     * @memberof vf.gui.Tween\n     */\n    public yoyo(state?: boolean | Function, _easingReverse?: (k: number) => number) {\n        this._yoyo = typeof state === 'function' ? state(this._yoyo) : state === null ? this._yoyo : state;\n        if (!state) {\n            this._reversed = false;\n        }\n        if (_easingReverse) {\n            this._easingReverse = _easingReverse;\n        } else {\n            this._easingReverse = this._easingFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {Function} _easingFunction yoyo\n     * @example tween.easing(Easing.Elastic.InOut)\n     * @memberof vf.gui.Tween\n     */\n    public easing(_easingFunction: ((k: number) => number) | any) {\n        this._easingFunction = _easingFunction;\n\n        return this;\n    }\n\n    /**\n     * \n     * @param {Function} _interpolationFunction \n     * @example tween.interpolation(Interpolation.Bezier)\n     * @memberof vf.gui.Tween\n     */\n    public interpolation(_interpolationFunction: (v: any, k: number, value: any) => any) {\n        if (typeof _interpolationFunction === 'function') {\n            this._interpolationFunction = _interpolationFunction;\n        }\n\n        return this;\n    }\n\n    /**\n     * \n     * @param time \n     */\n    public gotoAndPlay(time: number) {\n        this._prevTime = time;\n        this.update(0);\n    }\n\n    /**\n     * \n     * @param time \n     */\n    public gotoAndStop(time: number) {\n        this._prevTime = time;\n        this.update(0);\n        this.pause();\n    }\n    /**\n     * \n     * @param time \n     */\n    public gotoAndEnd() {\n        this._prevTime = this._duration;\n        this.update(0);\n    }\n\n    /**\n     *  `time` \n    * @param {number=} elapsedMS \n    * @param {Boolean=} preserve \n     * @param {boolean=} forceTime \n     * @example tween.update(100)\n     * @memberof vf.gui.Tween\n     */\n    public update(elapsedMS: number, preserve?: boolean, forceTime?: boolean) {\n\n        const {\n            _onStartCallbackFired,\n            _easingFunction,\n            _easingReverse,\n            _delayTime,\n            _reverseDelayTime,\n            _yoyo,\n            _reversed,\n            _startTime,\n            _duration,\n            _valuesStart,\n            _valuesEnd,\n            object,\n            _isFinite,\n            _isPlaying\n        } = this;\n\n        if (!_isPlaying || (_startTime > 0 && !forceTime)) {\n            this._startTime -= elapsedMS;\n            this._startTime = Math.max(0, this._startTime);\n            return true;\n        }\n\n        let elapsed: number;\n        let property: string;\n        let _repeat = this._repeat;\n        if (!_duration) {\n            elapsed = 1;\n            _repeat = 0;\n        } else {\n\n            this._prevTime += elapsedMS;\n            if (elapsedMS > TOO_LONG_FRAME_MS && isRunning() && isLagSmoothing()) {\n                this._prevTime -= FRAME_MS;\n            }\n\n            elapsed = (this._prevTime) / _duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n            elapsed = _reversed ? 1 - elapsed : elapsed;\n\n        }\n        if (!_onStartCallbackFired) {\n            if (!this._rendered) {\n                this.render();\n                this._rendered = true;\n            }\n\n            this.emit(TweenEvent.start, object);\n\n            this._onStartCallbackFired = true;\n        }\n\n        const currentEasing: any = _reversed ? _easingReverse || _easingFunction : _easingFunction;\n\n        for (property in _valuesEnd) {\n            const start = _valuesStart[property]\n            const end = _valuesEnd[property];\n            const value = currentEasing[property] ? currentEasing[property](elapsed) : typeof currentEasing === 'function' ? currentEasing(elapsed) : defaultEasing(elapsed);\n\n            if (typeof end === 'number') {\n                object[property] = start + (end - start) * value;\n            } else if (typeof end === 'boolean') {\n                object[property] = end;\n                elapsed = _reversed ? 0 : 1;\n            } else {//\n                recompose(property, object, _valuesStart, _valuesEnd, value, elapsed);\n            }\n            // else if (Array.isArray(end) && !(end as any).isString && !Array.isArray(start)) {\n            //     const _interpolationFunctionCall = _interpolationFunction[property]\n            //     ? _interpolationFunction[property] : typeof _interpolationFunction === 'function' ? _interpolationFunction : Interpolation.Linear;\n            //     object[property] = _interpolationFunctionCall(end, value, object[property]);\n            // } \n        }\n\n        this.emit(TweenEvent.update, object, elapsed, elapsedMS);\n\n        if (elapsed === 1 || (_reversed && elapsed === 0)) {\n            this._prevTime = 0;\n            if (_repeat > 0 && _duration > 0) {\n                if (_isFinite) {\n                    this._repeat--;\n                }\n\n                if (_yoyo) {\n                    this._reversed = !_reversed;\n                }\n\n                this.emit(_yoyo && !_reversed ? TweenEvent.reverse : TweenEvent.repeat, object);\n\n                if (_reversed && _reverseDelayTime) {\n                    this._startTime = _reverseDelayTime;\n                } else {\n                    this._startTime = _delayTime;\n                }\n                return true;\n            } else {\n                if (!preserve) {\n                    this._isPlaying = false;\n                    remove(this);\n                }\n                this.emit(TweenEvent.complete, object);\n                this._repeat = this._initRepeat;\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    public release() {\n        this.object = undefined;\n        this.stop();\n    }\n}\n","import {shared as TickerShared} from \"./Ticker\";\nimport { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport { DisplayObject } from \"./DisplayObject\";\nimport validatorShared from \"./DisplayLayoutValidator\";\nimport { DisplayObjectAbstract } from \"./DisplayObjectAbstract\";\n\n/**\n * UIUI\n *\n * @class \n * @param width {Number} \n * @param height {Number} \n */\nexport class Stage extends DisplayLayoutAbstract{\n\n\n    public constructor(width: number, height: number,app?: vf.Application) {\n        super(); \n        this.width = width;\n        this.height = height;\n        this._stageWidth = width;\n        this._stageWidth = height;\n        this.setActualSize(width,height);\n        this.container.name = \"Stage\";\n        this.container.hitArea = new vf.Rectangle(0, 0, width, height);\n        this.container.interactive = true;\n        this.container.interactiveChildren = true;\n        this.initialized = true;\n        this.$nestLevel = 1;\n        this.app = app;\n    }\n\n    public app?: vf.Application;\n    public _stageWidth = 0;//\n    public _stageHeight = 0;//\n\n    \n    public get stageWidth(){\n        return this._stageWidth;\n    }\n\n    public get stageHeight(){\n        return this._stageHeight;\n    }\n\n    public get scaleX() {\n        return  this.container.scale.x;\n    }\n\n    public set scaleX(value: number) {\n        this.container.scale.x = value;\n        this._stageWidth = value * this.width;\n    }\n\n    public get scaleY() {\n        return this.container.scale.y;\n    }\n\n    public set scaleY(value: number) {\n        this.container.scale.y = value;\n        this._stageHeight = value * this.height;\n    }\n\n    public set Scale(value: vf.Point){\n        this.container.scale.copyFrom(value);\n        this._stageWidth = value.x * this.width;\n        this._stageHeight = value.y * this.height;\n    }\n\n    public release(){\n        super.release();\n    }\n\n    public releaseAll(){\n        \n        for(let i=0;i<this.uiChildren.length;i++){\n            const ui = this.uiChildren[i] as DisplayObject;\n            ui.releaseAll();\n        }\n        this.uiChildren = [];\n        this.container.removeAllListeners();\n        this.container.removeChildren();\n        TickerShared.removeAllListeners();\n        validatorShared.removeAllListeners();\n        validatorShared.removeDepthQueueAll();\n    }\n\n \n    public resize(): void {\n        this.container.hitArea = new vf.Rectangle(0, 0, this.width, this.height);\n        //this.updateChildren();\n    }\n\n    /**\n     * \n     */\n    public inputLog(msg: any){\n        //\n        //console.log(msg);\n    }\n\n}","import { Tween } from \"../Tween\";\n\n/**\n * \n * @private\n */\nconst _tweens: Tween[] = [];\n/**\n * \n */\nlet isStarted = false;\n/**\n * \n */\nlet emptyFrame = 0;\n/**\n * \n */\nlet powerModeThrottle = 120;\n/**\n * \n */\nlet handleLag = true;\n\n/**\n * \n * @memberof vf.gui.tween\n * @example\n * let num = Plugins.num = function (node, start, end) {\n  * return t => start + (end - start) * t\n  * }\n  *\n  * @static\n  */\nexport const Plugins: any = {};\n\n/**\n * \n * @param {Tween} tween Tween \n * @memberof vf.gui.tween\n * @example\n * let tween = new vf.gui.tween.Tween({x:0})\n * tween.to({x:200}, 1000)\n * vf.gui.tween.add(tween)\n */\nexport function add(tween: Tween) {\n    const i = _tweens.indexOf(tween);\n\n    if (i > -1) {\n        _tweens.splice(i, 1);\n    }\n\n    _tweens.push(tween);\n\n    emptyFrame = 0;\n\n    isStarted = true;\n}\n\n/**\n * \n * @param {number} frameCount=120 \n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.FrameThrottle(60)\n */\nexport function FrameThrottle(frameCount = 120) {\n    powerModeThrottle = frameCount * 1.05;\n}\n\n/**\n * canvasdom\n * @param {number} state=true \n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.ToggleLagSmoothing(false)\n */\nexport function ToggleLagSmoothing(_state = true) {\n    handleLag = _state;\n}\n\n/**\n * \n * @memberof vf.gui.tween\n * vf.gui.tween.getAll() \n */\nexport function getAll() {\n    return _tweens;\n}\n\n/**\n * \n * @example  vf.gui.tween.removeAll()\n * @memberof vf.gui.tween\n */\nexport function removeAll() {\n    _tweens.length = 0;\n    isStarted = false;\n}\n\n/**\n * \n * @param {Tween} tween  \n * @return {Tween} null\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.get(tween)\n */\nexport function get(tween: Tween) {\n    for (let i = 0; i < _tweens.length; i++) {\n        if (tween === _tweens[i]) {\n            return _tweens[i];\n        }\n    }\n    return null;\n}\n\n/**\n * \n * @param {Tween} tween Tween instance\n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.remove(tween)\n */\nexport function remove(tween: Tween) {\n    const i = _tweens.indexOf(tween)\n    if (i !== -1) {\n        _tweens.splice(i, 1)\n    }\n    if (_tweens.length === 0) {\n        isStarted = false;\n    }\n}\n\n\nexport function removeDisplay(uuid: string) {\n    for (let i = 0; i < _tweens.length; i++) {\n        if (_tweens[i].object.uuid && uuid === _tweens[i].object.uuid) {\n            _tweens[i].stop();\n            remove(_tweens[i]);\n            return;\n        }\n    }\n    return;\n}\n\n/**\n * \n * @param {number=} time \n * @param {Boolean=} preserve \n * @memberof vf.gui.tween\n * @example\n * vf.gui.tween.update(500)\n */\n\nexport function update(time: number, preserve = false) {\n    if (!isStarted) {\n        return false;\n    }\n    if (emptyFrame >= powerModeThrottle && handleLag) {\n        console.log(\"mptyFrame >= powerModeThrottle && handleLag\");\n        isStarted = false;\n        emptyFrame = 0;\n        return false;\n    }\n\n    if (!_tweens.length) {\n        emptyFrame++;\n    }\n\n    let i = 0;\n    let length = _tweens.length;\n    while (i < length) {\n        _tweens[i++].update(time, preserve);\n\n        if (length > _tweens.length) {\n            // The tween has been removed, keep same index\n            i--;\n        }\n\n        length = _tweens.length;\n    }\n\n    return true;\n}\n\n/**\n * \n * @return {Boolean} true\n * @memberof vf.gui.tween\n * @example vf.gui.tween.isRunning()\n */\nexport function isRunning() {\n    return isStarted;\n}\n\n/**\n * \n * @return {Boolean} \n * @memberof vf.gui.tween\n * @example vf.gui.tween.isRunning()\n */\nexport function isLagSmoothing() {\n    return handleLag;\n}","import { isRGBColor, RGBA, STRING_PROP } from './constants'\n\n/**\n * \n * @example\n *\n * let bezier = vf.gui.tween.Interpolation.Bezier\n * new vf.gui.tween.Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\n * @memberof vf.gui.tween\n */\nexport const Interpolation = {\n    Linear(v: any, k: number, value: any) {\n        const m = v.length - 1\n        const f = m * k\n        const i = Math.floor(f)\n        const fn = Interpolation.Utils.Linear\n\n        if (k < 0) {\n            return fn(v[0], v[1], f, value)\n        }\n        if (k > 1) {\n            return fn(v[m], v[m - 1], m - f, value)\n        }\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value)\n    },\n\n    Bezier(v: any, k: number, value: any) {\n        let b = Interpolation.Utils.Reset(value)\n        const n = v.length - 1\n        const pw = Math.pow\n        const fn = Interpolation.Utils.Bernstein\n\n        const isBArray = Array.isArray(b)\n\n        for (let i = 0; i <= n; i++) {\n            if (typeof b === 'number') {\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i)\n            } else if (isBArray) {\n                for (let p = 0, len = b.length; p < len; p++) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'object') {\n                for (const p in b) {\n                    if (typeof b[p] === 'number') {\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i)\n                    } else {\n                        b[p] = v[i][p]\n                    }\n                }\n            } else if (typeof b === 'string') {\n                let STRING_BUFFER = ''\n                const idx = Math.round(n * k)\n                const vCurr = v[idx]\n                for (let ks = 1, len = vCurr.length; ks < len; ks++) {\n                    STRING_BUFFER += vCurr[ks]\n                }\n                return STRING_BUFFER\n            }\n        }\n\n        return b\n    },\n\n    CatmullRom(v: any, k: number, value: any) {\n        const m = v.length - 1\n        let f = m * k\n        let i = Math.floor(f)\n        const fn = Interpolation.Utils.CatmullRom\n\n        if (v[0] === v[m]) {\n            if (k < 0) {\n                i = Math.floor((f = m * (1 + k)))\n            }\n\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value)\n        } else {\n            if (k < 0) {\n                return fn(v[1], v[1], v[0], v[0], -k, value)\n            }\n\n            if (k > 1) {\n                return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value)\n            }\n\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value)\n        }\n    },\n\n    Utils: {\n        Linear(p0: any, p1: any, t: any, v: any) {\n            if (p0 === p1 || typeof p0 === 'string') {\n                // Quick return for performance reason\n                if (p1.length && p1.splice && p1.isString) {\n                    p1 = ''\n                    for (let i = 0, len = p0.length; i < len; i++) {\n                        p1 += p0[i]\n                    }\n                }\n                return p1\n            } else if (typeof p0 === 'number') {\n                return typeof p0 === 'function' ? (p0 as any)(t) : p0 + (p1 - p0) * t\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    const isForceStringProp = typeof p0[0] === 'string' || p0.isString\n                    if (isForceStringProp || p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = isForceStringProp ? 0 : 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                t === 0 ? p0[i] : t === 1 ? p1[i] : typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i]\n                            if ((t > 0 && t < 1 && isRGBColor(p0, i)) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    } else if (v && v.length && v.splice) {\n                        for (let p = 0, len = v.length; p < len; p++) {\n                            v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                        }\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        },\n\n        Reset(value: any) {\n            if (Array.isArray(value)) {\n                for (let i = 0, len = value.length; i < len; i++) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'object') {\n                for (const i in value) {\n                    value[i] = Interpolation.Utils.Reset(value[i])\n                }\n                return value\n            } else if (typeof value === 'number') {\n                return 0\n            }\n            return value\n        },\n\n        Bernstein(n: any, i: any) {\n            const fc = Interpolation.Utils.Factorial\n\n            return fc(n) / fc(i) / fc(n - i)\n        },\n\n        Factorial: (function () {\n            const a = [1]\n\n            return (n: any) => {\n                let s = 1\n\n                if (a[n]) {\n                    return a[n]\n                }\n\n                for (let i = n; i > 1; i--) {\n                    s *= i\n                }\n\n                a[n] = s\n                return s\n            }\n        })(),\n\n        CatmullRom(p0: any, p1: any, p2: any, p3: any, t: any, v?: any) {\n            if (typeof p0 === 'string') {\n                return p1\n            } else if (typeof p0 === 'number') {\n                const v0 = (p2 - p0) * 0.5\n                const v1 = (p3 - p1) * 0.5\n                const t2 = t * t\n                const t3 = t * t2\n\n                return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1\n            } else if (typeof p0 === 'object') {\n                if (p0.length !== undefined) {\n                    if (p0[0] === STRING_PROP) {\n                        let STRING_BUFFER = ''\n                        for (let i = 1, len = p0.length; i < len; i++) {\n                            let currentValue =\n                                typeof p0[i] === 'number' ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t) : p3[i]\n                            if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\n                                currentValue |= 0\n                            }\n                            STRING_BUFFER += currentValue\n                        }\n                        return STRING_BUFFER\n                    }\n                    for (let p = 0, len = v.length; p < len; p++) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                } else {\n                    for (const p in v) {\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p])\n                    }\n                }\n                return v\n            }\n        }\n    }\n}\n\n\n","import { shared as tickerShared } from '../core/Ticker'\nimport { objectPoolShared } from '../utils/ObjectPool';\nimport { ComponentEvent } from '../interaction/Index';\nimport { Easing } from './Easing';\n\n/**\n * @private\n */\nclass Node {\n\n    constructor(node?: Node) {\n        this.parent = node;\n    }\n    public parent: Node | undefined;\n    public default = 0;\n    public start: any = 0;\n    public end: any = 0;\n    public easing: any;\n    public duration = 0;\n    public startFrame = 0;\n    public endFrame = 0;\n    public prevTime = 0;\n\n    release() {\n        this.parent = undefined;\n        this.easing = undefined;\n        this.start = 0;\n        this.end = 0;\n        this.duration = 0;\n        this.endFrame = 0;\n        this.prevTime = 0;\n    }\n\n    load() {\n        //\n     }\n    destroy() { \n        //\n    }\n}\n\n/**\n * \n * \n * @example let timeline = new vf.gui.Timeline();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nexport class Timeline extends vf.utils.EventEmitter implements Lifecycle {\n\n    constructor() { super() }\n\n    public id = -1;\n    private _object: any;\n    private _frames = new Array<Map<string, Node>>();\n    private _frameCount = 0;\n    private _elapsedMS = 16.66; //1000/60\n    private _prevTime = 0;\n    private _isStop = false;\n    private _lastNode = new Map<string, Node>();\n    private _isSetDefault = false;\n    public loop = false;\n\n    public setDefault(object: any, _duration: number, fps: number) {\n\n        this._object = object;\n        this._elapsedMS = 1000 / fps;\n        const frameCount = Math.round(_duration / this._elapsedMS);\n        this._frameCount = frameCount;\n        const frames = this._frames;\n        while (frames && frames.length > frameCount) {\n            frames.pop();\n        }\n        let i = frames.length === 0 ? 0 : frames.length;\n        for (i; i <= frameCount; i++) {\n            if (frames[i] === undefined)\n                frames[i] = new Map<string, Node>();\n        }\n        this._isSetDefault = true;\n        return this;\n    }\n    public addProperty(property: string, value: number | string | boolean, endFrame: number, easing?: any) {\n        if (endFrame > this._frameCount) {\n            throw \"Error Timeline.addProperty overflow frame\";\n        }\n        const parentNode = this._lastNode.get(property);\n        const node = objectPoolShared.pop(Node);\n        if (parentNode === undefined) {\n            node.parent = undefined;\n        } else {\n            node.parent = parentNode;\n        }\n\n        node.startFrame = node.parent === undefined ? 0 : (node.parent.endFrame + 1);\n        node.end = value;\n        node.start = node.parent === undefined ? (this._object[property] || 0) : node.parent.end;\n        node.default = this._object[property] || 0;\n        if (easing) {\n            node.easing = easing;\n        } else {\n            node.easing = Easing.Linear.None;\n        }\n        node.duration = (endFrame - node.startFrame) * this._elapsedMS;\n        node.endFrame = endFrame;\n\n        this._lastNode.set(property, node);\n\n        for (let i = node.startFrame; i <= endFrame; i++) {\n            this._frames[i].set(property, node);\n        }\n\n        return this;\n    }\n\n    public stop() {\n        this._isStop = true;\n    }\n    public play() {\n        this._isStop = false;\n    }\n    public gotoAndPlay(frame: number) {\n        this.goto(frame, false);\n    }\n\n    public gotoAndStop(frame: number) {\n        this.goto(frame, true);\n    }\n\n    private seekLastNode(value: Node, frame: number) {\n        if (value.parent === undefined) {\n            return value;\n        }\n        if (value.endFrame > frame) {\n            this.seekLastNode(value.parent, frame);\n        }\n        return value;\n    }\n\n    private goto(frame: number, isStop: boolean) {\n\n        const { _lastNode, _frames } = this;\n        _lastNode.forEach((value: Node, key: string) => {\n            const node = this.seekLastNode(value, frame);\n            node.prevTime = node.duration;\n            this.updateobject(key, node);\n        }, this);\n\n        this._prevTime = frame * this._elapsedMS;\n        for (let i = frame; i < _frames.length; i++) {\n            _frames[i].forEach((value: Node, key: string) => {\n                if (i == frame) {\n                    value.prevTime = (frame - value.startFrame) * this._elapsedMS;\n                    this.updateobject(key, value);\n                } else {\n                    value.prevTime = 0;\n                }\n            }, this);\n        }\n\n        this._isStop = isStop;\n        if (!this._isStop) {\n            this.load();\n        }\n    }\n\n    public update(a: number, b?: number, elapsedMS = 0) {\n        if (this._isStop) {\n            return;\n        }\n        let _prevTime = this._prevTime;\n        const { _frames, _frameCount, _elapsedMS } = this;\n        const curFrame = Math.round(_prevTime / _elapsedMS);\n        \n        if (curFrame >= _frameCount) {\n            if(this.loop){\n                this.emit(ComponentEvent.LOOP,this);\n                this.goto(1,false);\n                return;\n            }\n            this._isStop = true;\n            this.emit(ComponentEvent.COMPLETE,this);\n        }\n        if (_frames[curFrame] == undefined) {\n            this._isStop = true;\n            return;\n        }\n        _prevTime += elapsedMS;\n        _frames[curFrame].forEach((value: Node, key: string) => {\n            if (value.start !== value.end) {\n                value.prevTime += elapsedMS;\n                this.updateobject(key, value);\n            }\n        }, this);\n        this._prevTime = _prevTime;\n        return true;\n    }\n\n    public updateobject(key: string, node: Node) {\n\n        let elapsed: number;\n        if (!node.duration) {\n            elapsed = 1;\n        } else {\n\n            elapsed = node.prevTime / node.duration;\n            elapsed = elapsed > 1 ? 1 : elapsed;\n        }\n\n        const value = node.easing(elapsed);\n        const start = node.start;\n        const end = node.end;\n        if (typeof end === 'number') {\n            switch(key){\n                case \"x\":\n                case \"y\":\n                case \"angle\":\n                    this._object[key] =node.default + Math.floor(start + (end - start) * value);\n                    break;\n                case \"scaleX\":\n                case \"scaleY\":\n                case \"rotation\":\n                    this._object[key] = node.default * Math.floor(start + (end - start) * value);\n                    break;\n                default:\n                    this._object[key] = Math.floor(start + (end - start) * value);\n            }\n            \n        } else if (typeof end === 'boolean') {\n            this._object[key] = end;\n        }\n        if (elapsed === 1) {\n            return true\n        }\n\n        return false;\n    }\n\n\n    public load() {\n        if (!this._isSetDefault) {\n            throw \"Error Timeline.load undefined default\";\n        }\n        tickerShared.removeUpdateEvent(this.update, this)\n        tickerShared.addUpdateEvent(this.update, this);\n    }\n\n\n    release() {\n        tickerShared.removeUpdateEvent(this.update, this);\n        this._frames.forEach(map => {\n            map.forEach((value: Node, ) => {\n                objectPoolShared.push(Node, value);\n            });\n            map.clear();\n        });\n\n        this.id = -1;\n        this._object = undefined;\n        this._frameCount = 0;\n        this._elapsedMS = 16.666666666666; //1000/60\n        this._prevTime = 0;\n        this._isStop = false;\n        this._isSetDefault = false;\n        this.loop = false;\n        this._lastNode.clear();\n    }\n}\n","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport { ComponentEvent } from \"./Index\";\n\n/**\n * \n * \n *  :\n * ```\n *  {InteractionEvent}.DraggableEvent.onDragPress\n *  {InteractionEvent}.DraggableEvent.onDragStart\n *  {InteractionEvent}.DraggableEvent.onDragMove\n *  {InteractionEvent}.DraggableEvent.onDragEnd\n * ```\n *  :\n * ```\n * onPress: ((e: InteractionEvent, isPressed: boolean,dragObj?: DragEvent) => void) | undefined;\n * onDragEnd: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * onDragMove: ((e: InteractionEvent, offset: vf.Point,dragObj?: DragEvent) => void) | undefined \n * onDragStart: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n * ```\n * \n * @example  `Slider` \n * \n * @since 1.0.0\n */\nexport class DragEvent {\n\n    public constructor(obj: DisplayObject) {\n        this.obj = obj;\n        obj.interactive = true;\n        this.startEvent();\n    }\n\n    private obj: DisplayObject;\n    public  id = 0;\n    private offset = new vf.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private bound = false;\n    private start = new vf.Point();\n    private mouse = new vf.Point();\n    private cancel = false;\n    private dragging = false;\n    private isStop = true;\n    /**\n     * ,XY,XY\n     */\n    public dragRestrictAxis?: \"x\" | \"y\" ;\n\n    public startEvent() {\n\n        \n        if(this.isStop){\n            this.obj.container.on(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n            this.obj.container.on(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n            this.isStop = false;\n        }\n    }\n\n    public executeAction(e: InteractionEvent) {\n        switch(e.type){\n            case ComponentEvent.DRAG_START:\n                this._onDragStart(e);\n                break;\n            case ComponentEvent.DRAG_MOVE:\n                this._onDragMove(e);\n                break;\n            case ComponentEvent.DRAG_END:\n                this._onDragEnd(e);\n                break;    \n        }\n    }\n\n\n    private _onDragStart(e: InteractionEvent) {\n        if(this.obj.dragStopPropagation && e.stopPropagation)\n            e.stopPropagation();\n        this.id = e.data.identifier;\n        this.onDragPress && this.onDragPress.call(this.obj, e, true,this);\n\n        if (!this.bound && this.obj.parent && this.obj.stage) {\n            const stage =  this.obj.stage.container;\n            this.start.copyFrom(e.data.global);\n            stage.on(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.on(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.on(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n            this.bound = true;\n        }\n\n        if(e.data.originalEvent.preventDefault){\n            e.data.originalEvent.preventDefault();\n        }\n        \n    }\n\n    private _onDragMove(e: InteractionEvent) {\n\n        if (e.data.identifier !== this.id) return;\n        this.mouse.copyFrom(e.data.global);\n        this.offset.set(this.mouse.x - this.start.x, this.mouse.y - this.start.y);\n        if (!this.dragging) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (this.movementX === 0 && this.movementY === 0 || Math.max(this.movementX, this.movementY) < this.obj.dragThreshold) \n                return; //thresshold\n            if (this.dragRestrictAxis !== undefined) {\n                this.cancel = false;\n                if (this.dragRestrictAxis == \"x\" && this.movementY > this.movementX) \n                    this.cancel = true;\n                else if (this.dragRestrictAxis == \"y\" && this.movementY <= this.movementX) \n                    this.cancel = true;\n                if (this.cancel) {\n                    this._onDragEnd(e);\n                    return;\n                }\n            }\n            \n            this.onDragStart && this.onDragStart.call(this.obj, e,this);\n            this.dragging = true;\n        }\n        this.onDragMove && this.onDragMove.call(this.obj, e, this.offset,this);\n    }\n\n    private _onDragEnd(e: InteractionEvent) {\n        if (e.data.identifier !== this.id) return; \n        if (this.bound && this.obj.stage) {\n            const stage = this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchcancel, this._onDragEnd, this);\n            this.dragging = false;\n            this.bound = false;\n            this.onDragEnd && this.onDragEnd.call(this.obj, e,this);\n            this.onDragPress && this.onDragPress.call(this.obj, e, false,this);\n\n        }\n    }\n\n    /**  */\n    public stopEvent() {\n        if (this.bound && this.obj.stage) {      \n            const stage =  this.obj.stage.container;\n            stage.off(TouchMouseEventEnum.mousemove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.touchmove, this._onDragMove, this);\n            stage.off(TouchMouseEventEnum.mouseup, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.mouseupoutside, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchend, this._onDragEnd, this);\n            stage.off(TouchMouseEventEnum.touchendoutside, this._onDragEnd, this);\n            this.bound = false;\n        }\n        this.obj.container.off(TouchMouseEventEnum.mousedown, this._onDragStart, this);\n        this.obj.container.off(TouchMouseEventEnum.touchstart, this._onDragStart, this);\n\n        this.isStop = true;\n    }\n\n    public remove(){\n        this.stopEvent();\n        this.onDragPress = undefined;\n        this.onDragEnd = undefined;\n        this.onDragMove = undefined;\n        this.onDragStart = undefined;\n        this.obj.interactive = false;\n    }\n\n    public onDragPress: ((e: InteractionEvent, isPressed: boolean,dragObj?: DragEvent) => void) | undefined;\n    public onDragEnd: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n    public onDragMove: ((e: InteractionEvent, offset: vf.Point,dragObj?: DragEvent) => void) | undefined \n    public onDragStart: ((e: InteractionEvent,dragObj?: DragEvent) => void) | undefined\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { uid } from \"../utils/Utils\";\n\ninterface TWheelEvent extends WheelEvent{\n    /**  */\n    axis: number;\n}\n\n\n\n/**\n * \n * \n *  ():\n * ```\n *  {InteractionEvent}.MouseScroll.xxxxxx.\n * ```\n *  :\n * ```\n * oonMouseScroll: ((e: WheelEvent,delta: vf.Point) => void) | undefined\n * ```\n * \n * @example  `Slider` \n * \n * @since 1.0.0\n */\nexport class MouseScrollEvent{\n    /**\n     * \n     * @param obj \n     * @param preventDefault \n     */\n    public constructor(obj: DisplayObject, preventDefault: boolean){\n        this.obj = obj;\n        this.preventDefault = preventDefault;\n        obj.container.interactive = true;\n        this.startEvent();\n    }\n    public  id= 0;\n    private obj: DisplayObject\n    private preventDefault: boolean;\n    private delta = new vf.Point();\n    private mouseScrllBind: ((_e: TWheelEvent | Event) => void | undefined) | undefined;\n    private isStop = true;\n\n    public startEvent() {\n        if(this.isStop){\n            this.obj.container.on(TouchMouseEventEnum.mouseover, this._onHover, this);\n            this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            this.isStop = false;\n        }\n\n    }\n\n    private _onMouseScroll(_e: TWheelEvent|Event) {\n        _e\n        const e = _e as TWheelEvent;\n        if (this.preventDefault)\n            e.preventDefault();\n\n        if (typeof e.deltaX !== \"undefined\")\n            this.delta.set(e.deltaX, e.deltaY);\n        else //Firefox{}\n            this.delta.set(e.axis == 1 ? e.detail * 60 : 0, e.axis == 2 ? e.detail * 60 : 0);\n\n        this.onMouseScroll && this.onMouseScroll.call(this.obj, e, this.delta);\n    }\n    //e?: interaction.InteractionEvent\n\n    private _onHover() {\n        if (this.mouseScrllBind === undefined) {\n            this.id = uid();\n            this.mouseScrllBind = this._onMouseScroll.bind(this);\n            document.addEventListener(\"mousewheel\", this.mouseScrllBind, { passive: false });\n            document.addEventListener(\"DOMMouseScroll\", this.mouseScrllBind, { passive: false });\n        }\n    }\n    //e?: interaction.InteractionEvent\n    private _onMouseOut() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n    }\n\n    public stopEvent() {\n        if (this.mouseScrllBind) {\n            document.removeEventListener(\"mousewheel\", this.mouseScrllBind);\n            document.removeEventListener(\"DOMMouseScroll\", this.mouseScrllBind);\n            this.mouseScrllBind = undefined;\n        }\n        this.obj.container.removeListener('mouseover',this. _onHover,this);\n        this.obj.container.removeListener('mouseout', this._onMouseOut,this);\n        this.isStop = true;\n    }\n\n    public remove(){\n        this.stopEvent();\n    }\n\n    public onMouseScroll: ((e: WheelEvent,delta: vf.Point) => void) | undefined\n}","\nconst tempLocal = new vf.Point(0,0);\n/**\n * \n * \n *   -> TouchEventEnum.TouchEnum\n * \n * import InteractionEvent from \"../interaction/InteractionEvent\",\n */\nexport class InteractionEvent extends vf.interaction.InteractionEvent {\n    public constructor() {\n        super();\n        this.local = tempLocal;\n    }\n\n    public local: vf.Point;\n    public path?: number[];\n    public signalling = false;\n}\n","/**\n * ,UI\n * 1. CheckBox  checked \n * 2. Label  text \n * 3. SpriteAnimated  animationName \n * 4. Button \n * 5. ScrollingContainer \n * 6. Slider \n * 7. SpriteAnimated \n * 8. ConnectLine \n */\nexport const CHANGE = \"CHANGE\";\n\n/**\n * \n * \n * slider \n */\nexport const CHANGEING = \"CHANGEING\";\n\n/**\n * \n * \n * 1. SpriteAnimated (loop = false)\n * 2. Image \n * 3. Slider \n * 4. Timeline  (loop = false)\n * 5. FollowLine \n */\nexport const COMPLETE = \"COMPLETE\";\n\n/**\n * \n */\nexport const STATE_CHANGE= \"STATE_CHANGE\";\n\n/**\n * \n * \n * SpriteAnimated (loop = true)\n */\nexport const LOOP = \"LOOP\";\n\n/**\n * \n */\nexport const ADD = \"add\";\n/**\n * \n */\nexport const ADDED = \"added\";\n\n/**\n * \n */\nexport const REMOVEED = \"removed\";\n/**\n * \n */\nexport const RESIZE = \"RESIZE\";\n/**\n * \n */\nexport const MOVE = \"MOVE\";\n/**\n * \n */\nexport const CREATION_COMPLETE = \"CREATION_COMPLETE\";\n\n\n/**\n * \n */\nexport const DRAG_START_BEFORE = \"DRAG_START_BEFORE\";\n/**\n * \n */\nexport const DRAG_START = \"DRAG_START\";\n\n/**\n * \n */\nexport const DRAG_END_BEFORE = \"DRAG_END_BEFORE\";\n/**\n *  \n */\nexport const DRAG_END = \"DRAG_END\";\n/**\n * \n */\nexport const DRAG_MOVE = \"DRAG_MOVE\";\n\n/**\n * \n */\nexport const DRAG_TARGET_BEFORE = \"DRAG_TARGET_BEFORE\";\n/**\n * \n */\nexport const DRAG_TARGET = \"DRAG_TARGET\";\n\n/**\n * \n */\nexport const DROP_TARGET = \"DROP_TARGET\";\n\n/**\n *  {name,mode}\n */\nexport const PLAY_AUDIO = \"PLAY_AUDIO\";\n\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport * as UIKeys from \"./DisplayLayoutKeys\";\nimport validatorShared from \"./DisplayLayoutValidator\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { DisplayObjectAbstract } from \"./DisplayObjectAbstract\";\n\nexport const $tempLocalBounds = new vf.Rectangle();\n/**\n * UI \n */\nexport class DisplayLayoutAbstract extends DisplayObjectAbstract {\n\n    public constructor() {\n        super()\n        this.initializeUIValues();\n    }\n\n    public isContainer = false;\n\n    /**\n     * @private\n     */\n    public $values: any = {};\n\n    public includeInLayout = true;\n    /**\n     * @private\n     * \n     */\n    protected initializeUIValues(): void {\n        this.$values = {\n            [UIKeys.invalidatePropertiesFlag]: true,\n            [UIKeys.invalidateSizeFlag]: true,\n            [UIKeys.invalidateDisplayListFlag]: true,\n            [UIKeys.left]: NaN,\n            [UIKeys.right]: NaN,\n            [UIKeys.top]: NaN,\n            [UIKeys.bottom]: NaN,\n            [UIKeys.horizontalCenter]: NaN,\n            [UIKeys.verticalCenter]: NaN,\n            [UIKeys.percentWidth]: NaN,\n            [UIKeys.percentHeight]: NaN,\n            [UIKeys.explicitWidth]: NaN,\n            [UIKeys.explicitHeight]: NaN,\n            [UIKeys.width]: 0,\n            [UIKeys.height]: 0,\n            [UIKeys.minWidth]: 0,\n            [UIKeys.maxWidth]: 100000,\n            [UIKeys.minHeight]: 0,\n            [UIKeys.maxHeight]: 100000,\n            [UIKeys.measuredWidth]: 0,\n            [UIKeys.measuredHeight]: 0,\n            [UIKeys.oldPreferWidth]: NaN,\n            [UIKeys.oldPreferHeight]: NaN,\n            [UIKeys.x]: 0,\n            [UIKeys.y]: 0,\n            [UIKeys.oldX]: 0,\n            [UIKeys.oldY]: 0,\n            [UIKeys.oldWidth]: 0,\n            [UIKeys.oldHeight]: 0,\n            [UIKeys.scaleX]: 1,\n            [UIKeys.scaleY]: 1,\n            [UIKeys.pivotX]: 0,\n            [UIKeys.pivotY]: 0,\n            [UIKeys.rotation]: 0,\n            [UIKeys.skewX]: 0,\n            [UIKeys.skewY]: 0,\n            [UIKeys.zIndex]: NaN, \n        };\n    }\n\n    /**\n     * @private\n     * \n     */\n    protected checkInvalidateFlag(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            validatorShared.invalidateProperties(this);\n        }\n        if (values[UIKeys.invalidateSizeFlag]) {\n            validatorShared.invalidateSize(this);\n        }\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            validatorShared.invalidateDisplayList(this);\n        }\n        this.validateSize();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateProperties(): void {\n        const values = this.$values;\n        if (values[UIKeys.invalidatePropertiesFlag]) {\n            this.commitProperties();\n            values[UIKeys.invalidatePropertiesFlag] = false;\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateSize(recursive?: boolean): void {\n\n        if (recursive) {\n            const children = this.uiChildren;\n            if (children) {\n                const length = children.length;\n                for (let i = 0; i < length; i++) {\n                    const child = children[i] as DisplayLayoutAbstract;\n                    child.validateSize(true);\n                }\n            }\n        }\n        const values = this.$values;\n        if (values[UIKeys.invalidateSizeFlag]) {\n            const changed = this.measureSizes();\n            if (changed) {\n                this.invalidateDisplayList();\n                this.invalidateParentLayout();\n            }\n            if(this.parent == undefined){\n                return;\n            }\n            values[UIKeys.invalidateSizeFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    public validateDisplayList(): void {\n        if(this.parent == undefined){\n            return;\n        }\n        const values = this.$values;\n\n        if (values[UIKeys.invalidateDisplayListFlag]) {\n            this.updateSize();\n            this.updateDisplayList(values[UIKeys.width], values[UIKeys.height]);\n            values[UIKeys.invalidateDisplayListFlag] = false;\n        }\n    }\n    /**\n     * @private\n     * invalidateProperties()\n     */\n    protected commitProperties(): void {\n        //\n    }\n    /**\n     * @private\n     * \n     */\n    protected measure(): void {\n        this.container.getLocalBounds($tempLocalBounds);\n        this.setMeasuredSize($tempLocalBounds.width,$tempLocalBounds.height);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private measureSizes(): boolean {\n        let changed = false;\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag])\n            return changed;\n\n        this.measure();\n        const parentWidth = this.parent?this.parent.width:1;\n        const parentHeight = this.parent?this.parent.height:1;\n        const maxWidth = formatRelative(values[UIKeys.maxWidth],parentWidth);\n        const maxHeight = formatRelative(values[UIKeys.maxHeight],parentHeight);\n        const minWidth = formatRelative(values[UIKeys.minWidth],parentWidth);\n        const minHeight = formatRelative(values[UIKeys.minHeight],parentHeight);\n\n        \n\n        //\n        if (isNaN(values[UIKeys.explicitWidth]) || isNaN(values[UIKeys.explicitHeight])) {\n\n            if(!isNaN(values[UIKeys.percentWidth])){\n                values[UIKeys.measuredWidth] =Math.ceil(values[UIKeys.percentWidth]*parentWidth);\n            }\n            if(!isNaN(values[UIKeys.percentHeight])){\n                values[UIKeys.measuredHeight] = Math.ceil(values[UIKeys.percentHeight]*parentHeight);\n            }\n \n            if (values[UIKeys.measuredWidth] < minWidth) {\n                values[UIKeys.measuredWidth] = minWidth;\n            }\n            if (values[UIKeys.measuredWidth] > maxWidth) {\n                values[UIKeys.measuredWidth] = maxWidth;\n            }\n            if (values[UIKeys.measuredHeight] < minHeight) {\n                values[UIKeys.measuredHeight] = minHeight;\n            }\n            if (values[UIKeys.measuredHeight] > maxHeight) {\n                values[UIKeys.measuredHeight] = maxHeight\n            }\n        }else{\n            if (values[UIKeys.explicitWidth] < minWidth) {\n                values[UIKeys.explicitWidth] = minWidth;\n            }\n            if (values[UIKeys.explicitWidth] > maxWidth) {\n                values[UIKeys.explicitWidth] = maxWidth;\n            }\n            if (values[UIKeys.explicitHeight] < minHeight) {\n                values[UIKeys.explicitHeight] = minHeight;\n            }\n            if (values[UIKeys.explicitHeight] > maxHeight) {\n                values[UIKeys.explicitHeight] = maxHeight\n            }\n        }\n        const preferredW = this.getPreferredUWidth();\n        const preferredH = this.getPreferredUHeight();\n        if (preferredW !== values[UIKeys.oldPreferWidth] ||\n            preferredH !== values[UIKeys.oldPreferHeight]) {\n            values[UIKeys.oldPreferWidth] = preferredW;\n            values[UIKeys.oldPreferHeight] = preferredH;\n            changed = true;\n        }\n        return changed;\n    }\n    /**\n     * @private\n     * \n     * @param width \n     * @param height \n     */\n    public setMeasuredSize(width: number, height: number): void {\n        const values = this.$values;\n        values[UIKeys.measuredWidth] = Math.ceil(+width || 0);\n        values[UIKeys.measuredHeight] = Math.ceil(+height || 0);\n    }\n    /**\n     * @private\n     *\n     * @returns\n     */\n    protected getPreferredUWidth(): number {\n        const values = this.$values;\n        return isNaN(values[UIKeys.explicitWidth]) ?\n            values[UIKeys.measuredWidth] : values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     */\n    protected getPreferredUHeight(): number {\n        const values = this.$values;\n        return isNaN(values[UIKeys.explicitHeight]) ?\n            values[UIKeys.measuredHeight] : values[UIKeys.explicitHeight];\n    }\n    /**\n     * @private\n     * ,measure()\n     * > \n     */\n    public getPreferredBounds(bounds: vf.Rectangle) {\n        this.measureSizes();\n        bounds.width = this.getPreferredUWidth();\n        bounds.height = this.getPreferredUHeight();\n        bounds.x = this.$values[UIKeys.x];\n        bounds.y = this.$values[UIKeys.y];\n        return bounds;\n    }\n\n    /**\n    * @private\n    *  commitProperties() \n    *\n    * \n    * <p/>\n    *\n    *  commitProperties() \n     */\n    public invalidateProperties(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidatePropertiesFlag]) {\n            values[UIKeys.invalidatePropertiesFlag] = true;\n            validatorShared.invalidateProperties(this);\n\n        }\n    }\n\n    /**\n    * @private\n    *  measure(),updatesize() \n    */\n    public invalidateSize(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateSizeFlag]) {\n            values[UIKeys.invalidateSizeFlag] = true;\n            validatorShared.invalidateSize(this);\n        }\n    }\n    /**\n    * @private\n    *  updateDisplayList() \n    */\n    public invalidateDisplayList(): void {\n        const values = this.$values;\n        if (!values[UIKeys.invalidateDisplayListFlag]) {\n            values[UIKeys.invalidateDisplayListFlag] = true;\n            validatorShared.invalidateDisplayList(this);\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    protected invalidateParentLayout(): void {\n        const parent = this.parent;\n        if (!parent){\n            return;\n        } \n        if (parent instanceof DisplayLayoutAbstract) {\n            parent.invalidateSize();\n            parent.invalidateDisplayList();\n        }\n    }\n    /**\n     * @private\n     * \n     */\n    public setPosition(x: number, y: number): void {\n        const values = this.$values;\n        values[UIKeys.x] = x;\n        values[UIKeys.y] = y;\n        this.updateTransform(); \n        this.emit(ComponentEvent.MOVE,this);\n        \n    }\n    \n    /**\n     * @private\n     * width,height\n     * \n     */\n    public setActualSize(w: number, h: number): void {\n        let change = false;\n        const values = this.$values;\n               \n        if (values[UIKeys.width] !== w) {\n            values[UIKeys.oldWidth] = values[UIKeys.width] ;\n            values[UIKeys.width] = w;\n            change = true;\n        }\n        if (values[UIKeys.height] !== h) {\n            values[UIKeys.oldHeight] = values[UIKeys.height] ;\n            values[UIKeys.height] = h;\n            change = true;\n        }\n\n        if (change) {\n            this.invalidateDisplayList();\n            this.emit(ComponentEvent.RESIZE, this);\n        }\n    }\n\n    /**\n     * @private\n     * \n     */\n    private updateSize(): void {\n        let unscaledWidth = 0;\n        let unscaledHeight = 0;\n        const values = this.$values;\n\n        if (!isNaN(values[UIKeys.explicitWidth])) {\n            unscaledWidth = values[UIKeys.explicitWidth];\n        }\n        else if(!isNaN(values[UIKeys.measuredWidth])){\n            unscaledWidth = values[UIKeys.measuredWidth];\n        }\n\n        if (!isNaN(values[UIKeys.explicitHeight])) {\n            unscaledHeight = values[UIKeys.explicitHeight];\n        }\n        else if (!isNaN(values[UIKeys.measuredHeight])){\n            unscaledHeight = values[UIKeys.measuredHeight];\n        }\n\n        this.setActualSize(unscaledWidth,unscaledHeight);\n    }\n\n    public updateTransform(){\n        this.container.setTransform(this.x + this.pivotX,this.y + this.pivotY,this.scaleX,this.scaleY,this.rotation*(Math.PI/180),this.skewX,this.skewY,this.pivotX,this.pivotY);\n    }\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        //\n    }\n\n    /**\n     * @private\n     * \n     */\n    public validateNow(): void {\n        if (this.parent)\n            validatorShared.validateClient(this);\n    }\n\n    /**\n     * @private\n    * \n    *\n    * <p/>\n    *\n    *  width \n    *  width \n     */\n    public validateSizeNow(): void {\n        this.validateSize(true);\n        this.updateSize();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get left(): any {\n        return this.$values[UIKeys.left];\n    }\n\n    public set left(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n\n        const values = this.$values;\n        if (values[UIKeys.left] === value)\n            return;\n        values[UIKeys.left] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get right(): any {\n        return this.$values[UIKeys.right];\n    }\n\n    public set right(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.right] === value)\n            return;\n        values[UIKeys.right] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get top(): any {\n        return this.$values[UIKeys.top];\n    }\n\n    public set top(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.top] === value)\n            return;\n        values[UIKeys.top] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get bottom(): any {\n        return this.$values[UIKeys.bottom];\n    }\n\n    public set bottom(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.bottom] == value)\n            return;\n        values[UIKeys.bottom] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * \n     */\n    public get horizontalCenter(): any {\n        return this.$values[UIKeys.horizontalCenter];\n    }\n\n    public set horizontalCenter(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.horizontalCenter] === value)\n            return;\n        values[UIKeys.horizontalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get verticalCenter(): any {\n        return this.$values[UIKeys.verticalCenter];\n    }\n\n    public set verticalCenter(value: any) {\n        if (!value || typeof value == \"number\") {\n            value = +value;\n        }\n        else {\n            value = value.toString().trim();\n        }\n        const values = this.$values;\n        if (values[UIKeys.verticalCenter] === value)\n            return;\n        values[UIKeys.verticalCenter] = value;\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * \n     */\n    public get percentWidth(): number {\n        return this.$values[UIKeys.percentWidth];\n    }\n\n    public set percentWidth(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentWidth] === value)\n            return;\n        values[UIKeys.percentWidth] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get percentHeight(): number {\n        return this.$values[UIKeys.percentHeight];\n    }\n\n    public set percentHeight(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (values[UIKeys.percentHeight] === value)\n            return;\n        values[UIKeys.percentHeight] = value;\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get explicitWidth(): number {\n        return this.$values[UIKeys.explicitWidth];\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get explicitHeight(): number {\n        return this.$values[UIKeys.explicitHeight];\n    }\n\n    public get _width(): number {\n        return this.$values[UIKeys.explicitWidth];\n    }\n    public get _height(): number {\n        return this.$values[UIKeys.explicitHeight];\n    }\n\n    /**\n     * @private\n     * undefinedmeasure()\n     */\n    public get width(): number {\n        //this.measureSizes();//\n        return this.getPreferredUWidth();\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set width(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.width] === value && values[UIKeys.explicitWidth] === value)\n            return;\n        values[UIKeys.explicitWidth] = value;\n        if ( isNaN(value))\n            this.invalidateSize();\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * ,NaN,NaNmeasure()\n     */\n    public get height(): number {\n        //this.validateSizeNow();\n        //this.measureSizes();//\n        return this.getPreferredUHeight();\n    }\n\n    /**\n     * @private\n     *\n     * @param value\n     */\n    public set height(value: number) {\n        value = +value;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.height] === value && values[UIKeys.explicitHeight] === value)\n            return;\n        values[UIKeys.explicitHeight] = value;\n        if (isNaN(value))\n            this.invalidateSize();\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * ,maxWidth\n     */\n    public get minWidth(): number {\n        return this.$values[UIKeys.minWidth];\n    }\n\n    public set minWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minWidth] === value) {\n            return;\n        }\n        values[UIKeys.minWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * \n     */\n    public get maxWidth(): number {\n        return this.$values[UIKeys.maxWidth];\n    }\n\n    public set maxWidth(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxWidth] === value) {\n            return;\n        }\n        values[UIKeys.maxWidth] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    /**\n     * @private\n     * ,maxHeight\n     */\n    public get minHeight(): number {\n        return this.$values[UIKeys.minHeight];\n    }\n\n    public set minHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.minHeight] === value) {\n            return;\n        }\n        values[UIKeys.minHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n\n    /**\n     * @private\n     * ,\n     */\n    public get maxHeight(): number {\n        return this.$values[UIKeys.maxHeight];\n    }\n\n    public set maxHeight(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (value < 0 || values[UIKeys.maxHeight] === value) {\n            return;\n        }\n        values[UIKeys.maxHeight] = value;\n        this.invalidateSize();\n        this.invalidateParentLayout();\n    }\n\n    public get scaleX() {\n        return this.$values[UIKeys.scaleX];\n    }\n\n    public set scaleX(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.scaleX] === value) {\n            return;\n        }\n        if (value !== this.container.scale.x) {\n            values[UIKeys.scaleX] = value;\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList();\n            this.invalidateParentLayout();\n        }\n    }\n\n    public get scaleY() {\n        return this.$values[UIKeys.scaleY];\n    }\n\n    public set scaleY(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.scaleY] === value) {\n            return;\n        }\n        if (value !== this.container.scale.y) {\n            values[UIKeys.scaleY] = value;\n            this.invalidateProperties();\n            this.invalidateSize();\n            this.invalidateDisplayList();\n            this.invalidateParentLayout();\n        }\n    }\n\n\n    public get x() {\n        return this.$values[UIKeys.x];\n    }\n    public set x(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.x] === value) {\n            return;\n        }\n        values[UIKeys.x] = value;\n        if (this.container.x !== value) {\n            this.container.x = value;\n            this.invalidateParentLayout();\n        }\n    }\n\n    public get y() {\n        return this.$values[UIKeys.y];\n    }\n\n    public set y(value: number) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.y] === value) {\n            return;\n        }\n        values[UIKeys.y] = value;\n        if (value !== this.container.y) {\n            this.container.y = value;\n            this.invalidateParentLayout();\n        }\n    }\n\n\n    public get skewX() {\n        return this.$values[UIKeys.skewX];\n    }\n    public set skewX(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.skewX] === value) {\n            return;\n        }\n        values[UIKeys.skewX] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get skewY() {\n        return this.$values[UIKeys.skewY];\n    }\n    public set skewY(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.skewY] === value) {\n            return;\n        }\n        values[UIKeys.skewY] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get pivotX() {\n        return this.$values[UIKeys.pivotX];\n    }\n    public set pivotX(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.pivotX] === value) {\n            return;\n        }\n        values[UIKeys.pivotX] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get pivotY() {\n        return this.$values[UIKeys.pivotY];\n    }\n    public set pivotY(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.pivotY] === value) {\n            return;\n        }\n        values[UIKeys.pivotY] = value;\n        this.invalidateDisplayList();\n    }\n\n    public get rotation() {\n        return this.$values[UIKeys.rotation];\n    }\n    public set rotation(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.rotation] === value) {\n            return;\n        }\n        values[UIKeys.rotation] = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     *  ==  \n     */\n    public get zIndex(){\n        return this.$values[UIKeys.zIndex];\n    }\n    public set zIndex(value) {\n        value = +value || 0;\n        const values = this.$values;\n        if (values[UIKeys.zIndex] === value) {\n            return;\n        }\n        values[UIKeys.zIndex] = value;\n        this.invalidateParentLayout();\n    }\n\n\n}","import { DisplayLayoutAbstract } from \"./DisplayLayoutAbstract\";\nimport tickerShared  from \"./Ticker\";\n\n/**\n * @private\n * \n */\nclass DepthBin {\n    public map: { [key: number]: boolean } = {};\n    public items: DisplayLayoutAbstract[] = [];\n    public length = 0;\n\n    public insert(client: DisplayLayoutAbstract): void {\n        const hashCode = client.uuid;\n        if (this.map[hashCode]) {\n            return;\n        }\n        this.map[hashCode] = true;\n        this.length++;\n        this.items.push(client);\n    }\n\n    public pop() {\n        const client = this.items.pop();//popshift\n        if (client) {\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//key\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n        return client;\n    }\n\n    public remove(client: DisplayLayoutAbstract): void {\n        const index = this.items.indexOf(client);\n        if (index >= 0) {\n            this.items.splice(index, 1);\n            this.length--;\n            if (this.length === 0) {\n                this.map = {};//key\n            }\n            else {\n                this.map[client.uuid] = false;\n            }\n        }\n    }\n}\n/**\n * @private\n * \n */\nclass DepthQueue {\n    /**\n     * \n     */\n    private depthBins: { [key: number]: DepthBin } = {};\n\n    /**\n     * \n     */\n    private minDepth = 0;\n\n    /**\n     * \n     */\n    private maxDepth = -1;\n\n    /** \n     * \n     */\n    public removeAll(){\n        const depthBins = this.depthBins;\n        for(const key in depthBins){\n            const item: DepthBin = depthBins[key];\n            item.items = [];\n            item.map = {};\n            item.length = 0;\n        }\n        this.minDepth = 0;\n        this.maxDepth = -1;\n    }\n\n    /**\n     * \n     */\n    public insert(client: DisplayLayoutAbstract): void {\n        const depth = client.$nestLevel;\n        if (this.maxDepth < this.minDepth) {\n            this.minDepth = this.maxDepth = depth;\n        }\n        else {\n            if (depth < this.minDepth)\n                this.minDepth = depth;\n            if (depth > this.maxDepth)\n                this.maxDepth = depth;\n        }\n\n        let bin = this.depthBins[depth];\n\n        if (!bin) {\n            bin = this.depthBins[depth] = new DepthBin();\n        }\n        bin.insert(client);\n    }\n\n    /**\n     * \n     */\n    public pop(){\n        let client: DisplayLayoutAbstract|undefined;\n\n        const minDepth = this.minDepth;\n        if (minDepth <= this.maxDepth) {\n            let bin = this.depthBins[this.maxDepth];\n            while (!bin || bin.length === 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    return undefined;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.maxDepth--;\n                if (this.maxDepth < minDepth)\n                    break;\n                bin = this.depthBins[this.maxDepth];\n            }\n\n        }\n\n        return client;\n    }\n\n    /**\n     * \n     */\n    public shift() {\n        let client: DisplayLayoutAbstract|undefined;\n\n        const maxDepth = this.maxDepth;\n        if (this.minDepth <= maxDepth) {\n            let bin = this.depthBins[this.minDepth];\n            while (!bin || bin.length === 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    return undefined;\n                bin = this.depthBins[this.minDepth];\n            }\n\n            client = bin.pop();\n\n            while (!bin || bin.length == 0) {\n                this.minDepth++;\n                if (this.minDepth > maxDepth)\n                    break;\n                bin = this.depthBins[this.minDepth];\n            }\n        }\n\n        return client;\n    }\n\n    /**\n     * \n     */\n    public removeLargestChild(client: DisplayLayoutAbstract) {\n        const hashCode = client.uuid;\n        const nestLevel = client.$nestLevel;\n        let max = this.maxDepth;\n        const min = nestLevel;\n\n        while (min <= max) {\n            const bin = this.depthBins[max];\n            if (bin && bin.length > 0) {\n                if (max === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }else if((client as any)[\"isContainer\"]) {\n\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as any;\n                        if ((client as any).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n                max--;\n            }\n            else {\n                if (max == this.maxDepth) {\n                    this.maxDepth--;\n                }\n                max--;\n                if (max < min)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * \n     */\n    public removeSmallestChild(client: DisplayLayoutAbstract) {\n        const nestLevel = client.$nestLevel;\n        let min = nestLevel;\n        const max = this.maxDepth;\n        const hashCode = client.uuid;\n        while (min <= max) {\n            const bin = this.depthBins[min];\n            if (bin && bin.length > 0) {\n                if (min === nestLevel) {\n                    if (bin.map[hashCode]) {\n                        bin.remove(client);\n                        return client;\n                    }\n                }\n                else if ((client as any)[\"isContainer\"]) {\n                    const items = bin.items;\n                    const length = bin.length;\n                    for (let i = 0; i < length; i++) {\n                        const value = items[i] as any;\n                        if ((client as any).contains(value)) {\n                            bin.remove(value);\n                            return value;\n                        }\n                    }\n                }\n                else {\n                    break;\n                }\n\n                min++;\n            }\n            else {\n                if (min == this.minDepth)\n                    this.minDepth++;\n                min++;\n                if (min > max)\n                    break;\n            }\n        }\n\n        return undefined;\n    }\n\n    /**\n     * \n     */\n    public isEmpty(): boolean {\n        return this.minDepth > this.maxDepth;\n    }\n}\n\n\n\n/**\n * @private\n * \n */\nclass UIValidator extends vf.utils.EventEmitter {\n    /**\n     * @private\n     * Validator\n     */\n    public constructor() {\n        super();\n        \n    }\n\n    /**\n     * @private\n     */\n    private targetLevel = Infinity;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientPropertiesFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidatePropertiesQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateProperties(target: DisplayLayoutAbstract): void {\n        if (!this.invalidatePropertiesFlag) {\n            this.invalidatePropertiesFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientPropertiesFlag = true;\n        this.invalidatePropertiesQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateProperties(): void {\n        const queue = this.invalidatePropertiesQueue;\n        let target = queue.shift();\n        while (target) {\n            if (target.parent) {\n                target.validateProperties();\n            }\n            target = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidatePropertiesFlag = false;\n    }\n\n    /**\n     * @private\n     */\n    private invalidateSizeFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateClientSizeFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateSizeQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateSize(target: DisplayLayoutAbstract): void {\n        if (!this.invalidateSizeFlag) {\n            this.invalidateSizeFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        if (this.targetLevel <= target.$nestLevel)\n            this.invalidateClientSizeFlag = true;\n        this.invalidateSizeQueue.insert(target);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateSize(): void {\n        const queue = this.invalidateSizeQueue;\n        let target = queue.pop();\n        while (target) {\n            if (target.parent) {\n                target.validateSize();\n            }\n            target = queue.pop();\n        }\n        if (queue.isEmpty())\n            this.invalidateSizeFlag = false;\n    }\n\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListFlag = false;\n\n    /**\n     * @private\n     */\n    private invalidateDisplayListQueue = new DepthQueue();\n\n    /**\n     * @private\n     * \n     */\n    public invalidateDisplayList(client: DisplayLayoutAbstract): void {\n        if (!this.invalidateDisplayListFlag) {\n            this.invalidateDisplayListFlag = true;\n            if (!this.listenersAttached)\n                this.attachListeners();\n        }\n        this.invalidateDisplayListQueue.insert(client);\n    }\n\n    /**\n     * @private\n     * \n     */\n    private validateDisplayList(): void {\n        const queue = this.invalidateDisplayListQueue;\n        let client = queue.shift();\n        while (client) {\n            if (client.parent) {\n                client.validateDisplayList();\n            }\n            client = queue.shift();\n        }\n        if (queue.isEmpty())\n            this.invalidateDisplayListFlag = false;\n    }\n\n    /**\n     * @private\n     * \n     */\n    private listenersAttached = false;\n\n    /**\n     * @private\n     * \n     */\n    private attachListeners(): void {\n        tickerShared.addUpdateEvent(this.doPhasedInstantiationCallBack,this);\n        this.listenersAttached = true;\n    }\n\n    /**\n     * @private\n     * \n     */\n    private doPhasedInstantiationCallBack(): void {\n        tickerShared.removeUpdateEvent(this.doPhasedInstantiationCallBack,this);\n        this.doPhasedInstantiation();\n    }\n\n    /**\n     * @private\n     */\n    private doPhasedInstantiation(): void {\n        if (this.invalidatePropertiesFlag) {\n            this.validateProperties();\n        }\n        if (this.invalidateSizeFlag) {\n            this.validateSize();\n        }\n\n        if (this.invalidateDisplayListFlag) {\n            this.validateDisplayList();\n        }\n\n        if (this.invalidatePropertiesFlag ||\n            this.invalidateSizeFlag ||\n            this.invalidateDisplayListFlag) {\n            this.attachListeners();\n        }\n        else {\n            this.listenersAttached = false;\n        }\n    }\n\n    /**\n     * @private\n     * \n     * @param target \n     */\n    public validateClient(target: DisplayLayoutAbstract): void {\n\n        let obj: DisplayLayoutAbstract|undefined;\n        let done = false;\n        const oldTargetLevel = this.targetLevel;\n\n        if (this.targetLevel === Infinity)\n            this.targetLevel = target.$nestLevel;\n\n        const propertiesQueue = this.invalidatePropertiesQueue;\n        const sizeQueue = this.invalidateSizeQueue;\n        const displayListQueue = this.invalidateDisplayListQueue;\n        while (!done) {\n            done = true;\n\n            obj = propertiesQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateProperties();\n                }\n                obj = propertiesQueue.removeSmallestChild(target);\n            }\n\n            if (propertiesQueue.isEmpty()) {\n                this.invalidatePropertiesFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n\n            obj = sizeQueue.removeLargestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateSize();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = (propertiesQueue.removeSmallestChild(target));\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = sizeQueue.removeLargestChild(target);\n            }\n\n            if (sizeQueue.isEmpty()) {\n                this.invalidateSizeFlag = false;\n            }\n            this.invalidateClientPropertiesFlag = false;\n            this.invalidateClientSizeFlag = false;\n\n            obj = displayListQueue.removeSmallestChild(target);\n            while (obj) {\n                if (obj.parent) {\n                    obj.validateDisplayList();\n                }\n                if (this.invalidateClientPropertiesFlag) {\n                    obj = propertiesQueue.removeSmallestChild(target);\n                    if (obj) {\n                        propertiesQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                if (this.invalidateClientSizeFlag) {\n                    obj = sizeQueue.removeLargestChild(target);\n                    if (obj) {\n                        sizeQueue.insert(obj);\n                        done = false;\n                        break;\n                    }\n                }\n\n                obj = displayListQueue.removeSmallestChild(target);\n            }\n\n\n            if (displayListQueue.isEmpty()) {\n                this.invalidateDisplayListFlag = false;\n            }\n        }\n\n        if (oldTargetLevel === Infinity) {\n            this.targetLevel = Infinity;\n        }\n    }\n\n\n    public removeDepthQueueAll(){\n        this.invalidatePropertiesQueue.removeAll();\n        this.invalidateDisplayListQueue.removeAll();\n        this.invalidateSizeQueue.removeAll();\n        this.doPhasedInstantiation();\n    }\n\n}\n\n\nconst validatorShared = new UIValidator();\n\nexport default validatorShared;","import { ContainerBase } from \"./ContainerBase\";\nimport { Stage } from \"./Stage\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { uid, getStage } from \"../utils/Utils\";\nimport { DisplayObject } from \"./DisplayObject\";\n\nexport class DisplayObjectAbstract extends vf.utils.EventEmitter implements LifecycleHook,Lifecycle {\n\n    public constructor() {\n        super();\n        this.uuid = uid();\n        this.container = new ContainerBase();\n        this.container.on(\"added\", this.$onAddStage, this);\n        this.container.on(\"removed\", this.$onRemoveStage, this);\n    }\n    /**\n     * ID\n     */\n    public readonly uuid: number;\n\n    public id = '';\n    /**\n     * \n     */\n    public name = '';\n    /**\n     * @private\n     * 1230.\n     */\n    public $nestLevel = 0;\n    /** \n     *  \n     * @default\n     */\n    public initialized = false;\n    /** \n     * \n     */\n    public $stage?: Stage;\n    /** \n     *  \n     */\n    public parent: DisplayObject | Stage | undefined;\n    /**\n     * \n     */\n    public uiChildren: DisplayObjectAbstract[] = [];\n\n    /**  */\n    public container: ContainerBase;\n\n    /** Core */\n    public addChild<T extends DisplayObjectAbstract>(item: T): T {\n        if (this.container.children.length !== this.uiChildren.length) {\n            return this.addChildAt(item, this.container.children.length);\n        } else {\n            return this.addChildAt(item, this.uiChildren.length);\n        }\n\n    }\n\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as any;       \n        item.$nestLevel = this.$nestLevel + 1;\n        this.uiChildren.splice(index, 0, item);\n        if (!item.initialized) {\n            item.initialized = true;\n            item.$onInit();\n        }\n        index = Math.min(index, this.container.children.length);\n        this.emit(ComponentEvent.ADD, this);\n        this.container.addChildAt(item.container, index);\n        return item;\n    }\n\n    public getChildAt(index: number) {\n        return this.uiChildren[index] || undefined;\n    }\n\n    public getChildByUUID(uuid: number) {\n        const uiChildren = this.uiChildren;\n        const len = uiChildren.length;\n        for (let i = 0; i < len; i++) {\n            if (uiChildren[i].uuid == uuid) {\n                return uiChildren[i];\n            }\n        }\n        return undefined;\n    }\n\n    public _getChildById(id: string) {\n        const uiChildren = this.uiChildren;\n        const len = uiChildren.length;\n        for (let i = 0; i < len; i++) {\n            if (uiChildren[i].id === id) {\n                return uiChildren[i];\n            }\n        }\n        return undefined;\n    }\n\n    public getChildByPath(ids: string[]) {\n        let display: undefined | DisplayObjectAbstract = this as DisplayObjectAbstract;\n        const len = ids.length - 1;\n        for (let i = len; i >= 0; i--) {\n            if (display)\n                display = display._getChildById(ids[i]);\n            else\n                display = undefined;\n        }\n        return display;\n    }\n\n    /**\n     * UI\n     * @param UIObject UI\n     */\n    public removeChild<T extends DisplayObjectAbstract>(item: T): T {\n        const index = this.uiChildren.indexOf(item);\n        return this.removeChildAt(index);\n    }\n\n    public removeChildAt<T>(index: number): T {\n        index = Math.max(0, index);\n        index = Math.min(this.uiChildren.length, index);\n        const item = this.uiChildren[index];\n        if (item) {\n            item.container.parent.removeChild(item.container);\n            this.uiChildren.splice(index, 1);\n            item.parent = undefined;\n        }\n        return item as any;\n    }\n\n    public removeChildren(beginIndex?: number | undefined, endIndex?: number | undefined) {\n        const start = beginIndex ? beginIndex : 0;\n        const end = endIndex ? endIndex : this.uiChildren.length;\n        for (let i = start; i < end; i++) {\n            this.removeChild(this.uiChildren[i]);\n        }\n    }\n\n    /**\n     * false\n     * \n     */\n    public set renderable(value: boolean) {\n        this.container.renderable = value;\n    }\n    public get renderable() {\n        return this.container.renderable;\n    }\n\n    /**\n     * false\n     * \n     */\n    public set cacheAsBitmap(value: boolean) {\n        this.container.cacheAsBitmap = value;\n    }\n    public get cacheAsBitmap() {\n        return this.container.cacheAsBitmap;\n    }\n\n    private _interactive = true;\n    private _interactiveChildren = true;\n    /**\n     * \n     */\n    public set interactive(value: boolean) {\n        this._interactive = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactive = value;\n    }\n    public get interactive() {\n        return this.container.interactive;\n    }\n\n    /**\n     * falseHitTest\n     */\n    public set interactiveChildren(value: boolean) {\n        this._interactiveChildren = value;\n        if (!this._enabled) {\n            return;\n        }\n        this.container.interactiveChildren = value;\n    }\n    public get interactiveChildren() {\n        return this.container.interactiveChildren;\n    }\n\n    private _enabled = true;\n    public get enabled() {\n        return this._enabled;\n    }\n    public set enabled(value: boolean) {\n        if (this._enabled === value) {\n            return;\n        }\n        this._enabled = value;\n        this.container.interactive = value;\n        this.container.interactiveChildren = value;\n    }\n\n    /**\n     * \n     */\n    private _visible = true;\n    public get visible() {\n        return this._visible;\n    }\n    public set visible(value) {\n        if (this._visible === value) {\n            return;\n        }\n        this._visible = value;\n        this.container.visible = value;\n    }\n\n    /**  */\n    public offAll(event?: string | symbol) {\n        return this.removeAllListeners(event);\n    }\n\n    public get stage(): Stage | undefined {\n        if (this.$stage == undefined) {\n            this.$stage = getStage(this);\n        }\n        return this.$stage;\n    }\n\n    protected checkInvalidateFlag(){\n        //\n    }\n\n    load(): void {\n        this.$onLoad();\n    }\n    release(): void {\n        if (this.parent) {\n            this.parent.removeChild(this);\n        }\n        this.$onRelease();\n        this.$stage = undefined;\n    }\n\n    $onInit() {\n        this.emit(ComponentEvent.CREATION_COMPLETE, this);\n    }\n\n    $onLoad(){\n        //\n    }\n\n    $onRelease(){\n        //\n    }\n\n    $onAddStage() {\n        this.checkInvalidateFlag();\n        this.emit(ComponentEvent.ADDED, this);\n    }\n    $onRemoveStage() {\n        this.checkInvalidateFlag();\n        this.parent = undefined;\n        this.emit(ComponentEvent.REMOVEED, this);\n    }\n\n\n}\n\n\n","/**  */\nexport class ContainerBase extends vf.Container{\n    public constructor(){\n        super();\n    }\n\n    public isEmitRender = false;\n\n    public render(renderer: vf.Renderer): void{\n        if(this.isEmitRender){\n            this.emit(\"renderChange\",renderer);\n        }\n        super.render(renderer);\n    }\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\n\nexport const $tempRectangle = new vf.Rectangle();\n\n/**\n * >> \n */\n\n\nexport function formatRelative(value: number | string | undefined, total: number): number {\n    if (value == undefined) {\n        return NaN;\n    }\n    if (typeof value === \"number\") {\n        return value;\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return +str;\n    }\n    const percent = +str.substring(0, index);\n    return percent * 0.01 * total;\n}\n\n\n/**\n * @private\n * BasicLayout\n */\nexport function updateBasicDisplayList(target: DisplayObject|undefined,unscaledWidth: number, unscaledHeight: number){\n    if (!target)\n        return;\n    //console.log(target.container.name);\n    const values = target.$values;\n    const parentValues =  target.parent ? target.parent.$values : undefined;\n    let parentWidth =  1;\n    let parentHeight = 1;\n    if(parentValues){\n        parentWidth = parentValues[UIKeys.width] || parentValues[UIKeys.explicitWidth] || 1;\n        parentHeight = parentValues[UIKeys.height] || parentValues[UIKeys.explicitHeight] || 1;\n    }\n    const hCenter = formatRelative(values[UIKeys.horizontalCenter], parentWidth * 0.5);\n    const vCenter = formatRelative(values[UIKeys.verticalCenter], parentHeight * 0.5);\n    const left = formatRelative(values[UIKeys.left], parentWidth || 1);\n    const right = formatRelative(values[UIKeys.right], parentWidth);\n    const top = formatRelative(values[UIKeys.top], parentHeight || 1);\n    const bottom = formatRelative(values[UIKeys.bottom], parentHeight);\n\n    let childWidth = unscaledWidth;\n    let childHeight = unscaledHeight;\n\n    if (!isNaN(left) && !isNaN(right)) {\n        childWidth = parentWidth - right - left;\n    }\n\n    if (!isNaN(top) && !isNaN(bottom)) {\n        childHeight = parentHeight - bottom - top;\n    }\n\n    target.setMeasuredSize(childWidth,childHeight);\n    target.setActualSize(childWidth,childHeight);\n    \n    let childX = NaN;\n    let childY = NaN;\n\n    if (!isNaN(hCenter))\n        childX = Math.round((parentWidth - childWidth) / 2 + hCenter);\n    else if (!isNaN(left))\n        childX = left;\n    else if (!isNaN(right))\n        childX = parentWidth - childWidth - right;\n    else\n        childX = target.x;\n\n    if (!isNaN(vCenter))\n        childY = Math.round((parentHeight - childHeight) / 2 + vCenter);\n    else if (!isNaN(top))\n        childY = top;\n    else if (!isNaN(bottom))\n        childY = parentHeight - childHeight - bottom;\n    else\n        childY = target.y;\n\n    target.setPosition(childX, childY);\n}","import {DisplayObject} from \"../core/DisplayObject\";\n\n/**\n * \n * \n * checkGroup \n * \n * @example let container = new vf.gui.Container();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestContainer\n */\nexport class Container extends DisplayObject{\n    public constructor(){\n        super();\n        this.isContainer = true;\n    }\n\n    /**\n     *  DisplayObjectContainer  DisplayObjectContainer \n     *  true\n     * @param child \n     * @returns  child  DisplayObjectContainer  true false\n     */\n    public contains(child: DisplayObject){\n        while (child) {\n            if (child == this) {\n                return true;\n            }\n            if(child.parent instanceof DisplayObject){\n                child = child.parent;\n            }\n            return false;\n            \n        }\n        return false;\n    }\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport * as UIKeys from \"../core/DisplayLayoutKeys\";\n\n/**\n * \n * \n *  xxxx.style.breakWords = true;\n * \n * .\n * \n *  style.textAlign \n * \n * @example let label = new vf.gui.Label();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestLabel\n */\nexport class Label extends DisplayObject {\n\n    public constructor(text = \"\") {\n        super();\n        this.sprite = new vf.Text(text,{breakWords : true,fill:\"#ffffff\"});\n        this.container.addChild(this.sprite);\n\n    }\n\n    public readonly sprite: vf.Text;\n\n    /**\n     * \n     */\n    public get resolution() {\n        return this.sprite.resolution;\n    }\n    public set resolution(value) {\n        this.sprite.resolution = value;\n    }\n\n    /**\n     * \n     */\n    public get text() {\n        return this.sprite.text;\n    }\n    public set text(value) {\n        this.sprite.text = value;\n        this.invalidateSize();\n        this.invalidateDisplayList();\n        this.emit(ComponentEvent.CHANGE,this);\n    }\n\n    public set fontCssStyle(value: any){\n        if(value.color){\n            value.fill = value.color;\n        }\n        value.breakWords = true;\n        this.sprite.style = value;\n        this.invalidateSize();\n        this.invalidateDisplayList();\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n        const values = this.$values;\n        if(!isNaN(values[UIKeys.explicitWidth])){\n            switch(this.style.textAlign){\n                case \"left\":\n                    this.sprite.x = 0;\n                    break;\n                case \"right\":\n                    this.sprite.x =  values[UIKeys.explicitWidth] - this.sprite.width;\n                    break;\n                case \"center\":\n                    this.sprite.x = values[UIKeys.explicitWidth] - this.sprite.width >>1;\n                    break;\n            }\n            \n        }\n        if(!isNaN(values[UIKeys.explicitHeight])){\n            this.sprite.y = values[UIKeys.explicitHeight] - this.sprite.height >>1; \n        }\n    }\n\n    public release(){\n        super.release();\n        const sprite = this.sprite;\n        if(sprite && sprite.parent){\n            sprite.parent.removeChild(sprite).destroy();\n        }\n        this.offAll(ComponentEvent.CHANGE);\n    }\n}","import {DisplayObject} from \"../../core/DisplayObject\";\nimport { ClickEvent,InteractionEvent,InputController, TouchMouseEvent, ComponentEvent } from \"../../interaction/Index\";\n\n/**\n * \n */\nexport class InputBase extends DisplayObject{\n    public constructor(){\n        super();\n        //this.container.interactive = true;\n        this.container.interactiveChildren = false;\n\n        this.on(TouchMouseEvent.onMove,this.onMove,this);\n        this.on(TouchMouseEvent.onHover,this.onHover,this);\n        this.on(TouchMouseEvent.onPress,this.onPress,this);\n        this.on(TouchMouseEvent.onClick,this.onClick,this);\n\n    }\n\n    protected clickEvent = new ClickEvent(this,true);;\n    private _currentState: \"up\" | \"move\" | \"down\" | \"disabled\" = \"up\";\n    protected get currentState(): \"up\" | \"move\" | \"down\" | \"disabled\" {\n        return this._currentState;\n    }\n    protected set currentState(value: \"up\" | \"move\" | \"down\" | \"disabled\") {\n        if(this._currentState == value){\n            return;\n        }\n        this._currentState = value;\n        this.emit(ComponentEvent.STATE_CHANGE,this,value);\n    }\n    protected _tabIndex: undefined|number;\n    protected _tabGroup: undefined|string;\n\n    protected _focused = false;\n    protected _useTab = true;\n    protected _usePrev = true;\n    protected _useNext = true;\n    protected _down = false;\n\n    private _clickSound?: string;\n    public get clickSound() {\n        return this._clickSound;\n    }\n    public set clickSound(value) {\n        if(this._clickSound === value){\n            return;\n        }\n        this._clickSound = value;\n    }\n\n    /** \n     * \n     */\n    public up?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public down?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public move?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public disabled?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public upAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public downAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public moveAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    /** \n     * \n     */\n    public disabledAndSelected?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n\n    protected onMove() {\n\n        if(this._down){\n            return;\n        }\n        this.currentState = \"move\";\n    }\n    \n    //e: InteractionEvent,thisObj: DisplayObject,over: boolean\n    protected onHover(){\n        this.currentState = \"up\";\n       \n    }\n\n    protected onPress(e: InteractionEvent,thisObj: DisplayObject,isPress: boolean){\n        this._down = isPress;  \n        if(isPress){\n            this.focus();\n            this.currentState = \"down\";\n        }else{\n            this.currentState = \"up\";\n        }\n            \n    }\n\n    protected onClick(){\n        if(this._clickSound){\n            this.emit(ComponentEvent.PLAY_AUDIO, {name:this._clickSound,mode:'effect'});\n        }\n    }\n\n    protected keyDownEvent (event: WheelEvent|Event) {\n        const e = event as WheelEvent;\n        if (e.which === 9) {\n            if (this._useTab) {\n                InputController.fireTab();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 38) {\n            if (this._usePrev) {\n                InputController.firePrev();\n                e.preventDefault();\n            }\n        }\n        else if (e.which === 40) {\n            if (this._useNext) {\n                InputController.fireNext();\n                e.preventDefault();\n            }\n        }\n    }\n\n    protected documentMouseDown(){\n        if (this.currentState!== \"down\"){\n            this.blur();\n        }    \n    }\n\n    private keyDownEventBind: any;\n    protected _bindEvents() {\n        if (this.stage) {\n            this.stage.on(\"pointerdown\", this.documentMouseDown,this);\n            this.keyDownEventBind = this.keyDownEvent.bind(this);\n            document.addEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    protected _clearEvents(){\n        if (this.stage) {\n            this.stage.off(\"pointerdown\", this.documentMouseDown,this);\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        }\n    }\n\n    public focus(){\n        if (!this._focused) {\n            this._focused = true;\n            this._bindEvents();\n            InputController.set(this);\n            this.emit(\"focusChanged\", true);\n            this.emit(\"focus\");\n        }\n    }\n\n    public blur(){\n        if (this._focused) {\n            InputController.clear();\n            this._focused = false;\n            this._clearEvents();\n            this.emit(\"focusChanged\", false);\n            this.emit(\"blur\");\n\n        }\n    }\n\n    public release() {\n        super.release();\n        this.off(TouchMouseEvent.onMove,this.onMove,this);\n        this.off(TouchMouseEvent.onHover,this.onHover,this);\n        this.off(TouchMouseEvent.onPress,this.onPress,this);\n        this.off(TouchMouseEvent.onClick,this.onClick,this);\n        if(this.keyDownEventBind)\n            document.removeEventListener(\"keydown\", this.keyDownEventBind);\n        if(this.documentMouseDown && this.stage)\n            this.stage.off(\"pointerdown\", this.documentMouseDown,this);\n    }\n\n    public setTabIndex(index: number|undefined,group: string|undefined){\n        this._tabIndex = index;\n        this._tabGroup = group;\n        if(index!==undefined && group!==undefined){\n            InputController.registrer(this,index,group)\n        }\n    }\n}","import {Label} from \"./Label\";\nimport {Image} from \"./Image\";\nimport { InputBase } from \"./private/InputBase\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * \n * \n * @example let button = new vf.gui.Button();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestButton\n */\nexport class Button extends InputBase{\n\n    public constructor() {\n        super();\n        this.container.buttonMode = true;\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3,3,3,3];\n        this.addChild(this.img);\n\n        this.label.sprite.style.fontSize = 18;\n        this.addChild(this.label);\n\n        this.on(ComponentEvent.STATE_CHANGE,this.onStateChange,this);\n    }\n\n    protected _selectedStr: \"AndSelected\"|\"\" = \"\";\n    protected _oldState = \"\";\n\n\n    /**  */\n    public readonly img = new Image();\n    /**  */\n    public readonly label = new Label();\n\n    private _text = \"\";\n    /**\n     * \n     */\n    public get text() {\n        return this.label.text;\n    }\n    public set text(value) {\n        this._text = value;\n        this.invalidateDisplayList();\n\n    }\n\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n        \n        this.container.hitArea = new vf.Rectangle(0, 0, unscaledWidth, unscaledHeight);\n\n        const img = this.img;\n        img.width = unscaledWidth;\n        img.height = unscaledHeight;\n\n        if(this.label.width!==unscaledWidth)\n            this.label.width = unscaledWidth;\n        if(this.label.height!==unscaledHeight)\n            this.label.height = unscaledHeight;\n\n        if(this.label.text !== this._text){\n            this.label.text = this._text;\n\n        }\n\n        this.onStateChange(this,this.currentState);\n\n    }\n\n    public release() {\n        super.release();\n        this.offAll(ComponentEvent.STATE_CHANGE);\n        this.img.release();\n        this.label.release();\n    }\n\n\n    protected onStateChange(label: Button,state: string){\n        if(this._oldState == state){\n            return;\n        }\n        this._oldState = state;\n        this.img.src = (this as any)[state + this._selectedStr];\n    }\n}","/* eslint-disable @typescript-eslint/no-namespace */\nimport * as gui from \"./UI\";\n\n// //\n// if(!Array.from){\n//     Array.from = function (el: unknown[]) {\n//         return Array.apply(this, el);\n//     }\n// }\n// String.prototype.startsWith || (String.prototype.startsWith = function(word,pos?: number) {\n//     return this.lastIndexOf(word, pos1.3.1.1.3.1.1.3.1) ==1.3.1.1.3.1.1.3.1;\n// });\nif((window as any).vf === undefined){\n    (window as any).vf = {};\n}\n(window as any).vf.gui = gui;\n(window as any).vf.gui.version = \"1.3.1\";\nexport {gui};","import {\n    add,\n    get,\n    getAll,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Plugins,\n    remove,\n    removeAll,\n    removeDisplay,\n    update\n} from './core'\nimport {Interpolation} from './Interpolation'\nimport * as utils from './constants'\nimport {TweenEvent} from \"../../event/TweenEvent\"\nimport {Timeline} from '../Timeline'\nexport {\n    Plugins,\n    get,\n    getAll,\n    removeAll,\n    remove,\n    removeDisplay,\n    add,\n    update,\n    isRunning,\n    FrameThrottle,\n    ToggleLagSmoothing,\n    Interpolation,\n    TweenEvent,\n    Timeline,\n    utils\n}\n\n","\n/** */\nclass ObjectPool{\n    public constructor() {\n        //\n    }\n \n    /**\n\t * dict\n\t */\n    private objPoolDict = new Map<any,any[]>();\n\t\n    /**\n\t * \n\t */\n    public push<T extends Lifecycle,S>(keyClass: S,oldObj: T): void{\n        if(oldObj === undefined){\n            return;\n        }\n        let objs = this.objPoolDict.get(keyClass);\n        if(objs === undefined){\n            objs = [];\n            this.objPoolDict.set(keyClass,objs);\n        }\n        if(objs.indexOf(oldObj) === -1){\n            oldObj.release();\n            objs.push(oldObj);\n        }\n    } \n \n \n    /**\n\t * \n\t * @return \n\t *\n\t */\n    public pop<T>(keyClass: T): any{\n\n        const objs = this.objPoolDict.get(keyClass);\n        if(objs !== undefined && objs.length>0){\n            return objs.pop();\n        }\n        return new (keyClass as any)();\n    }\n}\n\n/**\n * \n */\nexport const objectPoolShared = new ObjectPool();","import { DisplayObject } from \"../core/DisplayObject\";\nimport { TouchMouseEventEnum } from \"./TouchMouseEventEnum\";\nimport { InteractionEvent } from \"../event/InteractionEvent\";\nimport { TouchMouseEvent } from \"../event/TouchMouseEvent\";\nimport { debug } from \"../utils/Utils\";\n\n/**\n * ,UI\n * \n *  :\n * ```\n *  {InteractionEvent}.TouchEvent.onHover\n *  {InteractionEvent}.TouchEvent.onPress\n *  {InteractionEvent}.TouchEvent.onClick\n *  {InteractionEvent}.TouchEvent.onMove\n * ```\n *  :\n * ```\n *  onHover: ((e: InteractionEvent,thisOBj:DisplayObject,over: boolean) => void) | undefined\n *  onPress: ((e: InteractionEvent,thisOBj:DisplayObject, isPressed: boolean) => void) | undefined;\n *  onClick: ((e: InteractionEvent,thisOBj:DisplayObject) => void) | undefined \n *  onMove: ((e: InteractionEvent,thisOBj:DisplayObject) => void) | undefined\n * ```\n * \n * @example  `TestSliceSprite` \n * \n * @since 1.0.0\n */\nexport class ClickEvent {\n\n    /**\n     * ClickEvent \n     * @param obj \n     * @param isOpenEmitEvent falseInteractionEventTouchEvent\n     * @param includeHover true\n     * @param rightMouseButton false\n     * @param doubleClick ,false\n     */\n    public constructor(obj: DisplayObject, isOpenEmitEvent?: boolean, includeHover?: boolean, rightMouseButton?: boolean, doubleClick?: boolean) {\n        this.obj = obj;\n\n        if (isOpenEmitEvent !== undefined) {\n            this.isOpenEmitEvent = isOpenEmitEvent;\n        }\n        if (includeHover !== undefined) {\n            this.right = includeHover;\n        }\n        if (rightMouseButton !== undefined) {\n            this.hover = rightMouseButton;\n        }\n        if (doubleClick !== undefined) {\n            this.double = doubleClick;\n        }\n\n        if (this.right) {\n            this.eventnameMousedown = TouchMouseEventEnum.mouseRightDown;\n            this.eventnameMouseup = TouchMouseEventEnum.mouseRightup;\n            this.eventnameMouseupoutside = TouchMouseEventEnum.mouseRightupoutside;\n        }\n\n        obj.interactive = true;\n\n        this.startEvent();\n    }\n\n    private obj: DisplayObject;\n    public id = 0;\n    /**  InteractionEvent.TouchEvent | vf.gui.Interaction.TouchEvent */\n    public isOpenEmitEvent = false;\n    /** InteractionEventlocalX localYfalse0 */\n    public isOpenLocalPoint = false;\n    private localOffset = new vf.Point();\n    private offset = new vf.Point();\n    private movementX = 0;\n    private movementY = 0;\n    private ishover = false;\n    private mouse = new vf.Point();\n    private bound = false;\n    private right = false;\n    private hover = true;\n    private double = false;\n    private time = 0;\n    private eventnameMousedown = TouchMouseEventEnum.mousedown;\n    private eventnameMouseup = TouchMouseEventEnum.mouseup;\n    private eventnameMouseupoutside = TouchMouseEventEnum.mouseupoutside;\n    private isStop = true;\n\n    public getTarget() {\n        return this.obj;\n    }\n\n    public startEvent() {\n\n        if (this.isStop) {\n            this.obj.container.on(this.eventnameMousedown, this._onMouseDown, this);\n            if (!this.right)\n                this.obj.container.on(TouchMouseEventEnum.touchstart, this._onMouseDown, this);\n\n            if (this.hover) {\n                this.obj.container.on(TouchMouseEventEnum.mouseover, this._onMouseOver, this);\n                this.obj.container.on(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            }\n            this.isStop = false;\n        }\n    }\n\n    /**  */\n    public stopEvent() {\n        if (this.bound) {\n            this.obj.container.off(this.eventnameMouseup, this._onMouseUp, this);\n            this.obj.container.off(this.eventnameMouseupoutside, this._onMouseUpOutside, this);\n\n            if (!this.right) {\n                this.obj.container.off(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n                this.obj.container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n            }\n            this.bound = false;\n        }\n        this.obj.container.off(this.eventnameMousedown, this._onMouseDown, this);\n        if (!this.right)\n            this.obj.container.off(TouchMouseEventEnum.touchstart, this._onMouseDown, this);\n\n        if (this.hover) {\n            this.obj.container.off(TouchMouseEventEnum.mouseover, this._onMouseOver, this);\n            this.obj.container.off(TouchMouseEventEnum.mouseout, this._onMouseOut, this);\n            this.obj.container.off(TouchMouseEventEnum.mousemove, this._onMouseMove, this);\n            this.obj.container.off(TouchMouseEventEnum.touchmove, this._onMouseMove, this);\n        }\n        this.isStop = true;\n    }\n\n    private _onMouseDown(e: InteractionEvent) {\n        this.setLocalPoint(e);\n        this.mouse.copyFrom(e.data.global);\n        this.id = e.data.identifier;\n        this.onPress && this.onPress.call(this.obj, e, this.obj, true), this.obj;\n        this.emitTouchEvent(TouchMouseEvent.onPress, e, true);\n        if (this.obj.listenerCount(TouchMouseEvent.onDown) > 0) {\n            this.emitTouchEvent(TouchMouseEvent.onDown, e, true);\n        }\n        if (!this.bound) {\n            this.obj.container.on(this.eventnameMouseup, this._onMouseUp, this);\n            this.obj.container.on(this.eventnameMouseupoutside, this._onMouseUpOutside, this);\n            if (!this.right) {\n                this.obj.container.on(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n                this.obj.container.on(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n            }\n            this.bound = true;\n        }\n\n        if (this.double) {\n            const now = performance.now();\n            if (now - this.time < 210) {\n                this.onClick && this.onClick.call(this.obj, e, this.obj);\n                this.emitTouchEvent(TouchMouseEvent.onClick, e);\n            }\n            else {\n                this.time = now;\n            }\n        }\n\n        e.data.originalEvent.preventDefault();\n    }\n\n    private emitTouchEvent(event: string | symbol, e: InteractionEvent, args?: boolean) {\n        if (debug) {\n            const stage = this.obj.stage;\n            if (stage && event !== TouchMouseEvent.onMove) {\n                stage.inputLog({\n                    code: event,\n                    level: 'info',\n                    target: this.obj,\n                    data: [args],\n                    action: e.type\n                });\n            }\n\n        }\n        if (this.isOpenEmitEvent) {\n            e.type = event.toString();\n            this.obj.emit(e.type, e, this.obj, args);\n        }\n\n    }\n\n    private _mouseUpAll(e: InteractionEvent) {\n        if (e.data.identifier !== this.id)\n            return;\n        this.offset.set(e.data.global.x - this.mouse.x, e.data.global.y - this.mouse.y);\n        if (this.bound) {\n\n            this.obj.container.off(this.eventnameMouseup, this._onMouseUp, this);\n            this.obj.container.off(this.eventnameMouseupoutside, this._onMouseUpOutside, this);\n            if (!this.right) {\n                this.obj.container.off(TouchMouseEventEnum.touchend, this._onMouseUp, this);\n                this.obj.container.off(TouchMouseEventEnum.touchendoutside, this._onMouseUpOutside, this);\n            }\n            this.bound = false;\n        }\n        this.onPress && this.onPress.call(this.obj, e, this.obj, false);\n        if (this.obj.listenerCount(TouchMouseEvent.onUp) > 0) {\n            this.emitTouchEvent(TouchMouseEvent.onUp, e, false);\n        }\n        this.emitTouchEvent(TouchMouseEvent.onPress, e, false);\n    }\n    private _onMouseUp(e: InteractionEvent) {\n\n        if (e.data.identifier !== this.id)\n            return;\n        this._mouseUpAll(e);\n\n        //prevent clicks with scrolling/dragging objects\n        if (this.obj.dragThreshold) {\n            this.movementX = Math.abs(this.offset.x);\n            this.movementY = Math.abs(this.offset.y);\n            if (Math.max(this.movementX, this.movementY) > this.obj.dragThreshold)\n                return;\n        }\n\n        if (!this.double) {\n            this.onClick && this.onClick.call(this.obj, e, this.obj);\n            this.emitTouchEvent(TouchMouseEvent.onClick, e, false);\n        }\n    }\n\n    private _onMouseUpOutside(e: InteractionEvent) {\n        if (e.data.identifier !== this.id)\n            return;\n        this._mouseUpAll(e);\n    }\n\n    private _onMouseOver(e: InteractionEvent) {\n        if (!this.ishover) {\n            this.ishover = true;\n            this.obj.container.on(TouchMouseEventEnum.mousemove, this._onMouseMove, this);\n            this.obj.container.on(TouchMouseEventEnum.touchmove, this._onMouseMove, this);\n            this.onHover && this.onHover.call(this.obj, e, this.obj, true);\n            this.emitTouchEvent(TouchMouseEvent.onHover, e, true);\n        }\n    }\n\n    private _onMouseOut(e: InteractionEvent) {\n        if (this.ishover) {\n            this.ishover = false;\n            this.obj.container.off(TouchMouseEventEnum.mousemove, this._onMouseMove, this);\n            this.obj.container.off(TouchMouseEventEnum.touchmove, this._onMouseMove, this);\n            this.onHover && this.onHover.call(this.obj, e, this.obj, false);\n            this.emitTouchEvent(TouchMouseEvent.onHover, e, false);\n        }\n    }\n\n    private _onMouseMove(e: InteractionEvent) {\n        this.setLocalPoint(e);\n        this.onMove && this.onMove.call(this.obj, e, this.obj);\n        this.emitTouchEvent(TouchMouseEvent.onMove, e);\n    }\n\n    private setLocalPoint(e: InteractionEvent) {\n        if (this.isOpenLocalPoint) {\n            this.obj.container.toLocal(e.data.global, undefined, this.localOffset);\n            e.local = this.localOffset;\n        }\n    }\n\n    public remove() {\n        this.stopEvent();\n        this.onPress = undefined;\n        this.onHover = undefined;\n        this.onClick = undefined;\n        this.onMove = undefined;\n        this.obj.container.interactive = false;\n    }\n    public onHover: ((e: InteractionEvent, thisOBj: DisplayObject, over: boolean) => void) | undefined\n    public onPress: ((e: InteractionEvent, thisOBj: DisplayObject, isPressed: boolean) => void) | undefined;\n    public onClick: ((e: InteractionEvent, thisOBj: DisplayObject) => void) | undefined\n    public onMove: ((e: InteractionEvent, thisOBj: DisplayObject) => void) | undefined\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\n\n/**\n * UI\n * @private\n */\nexport const _items: DisplayObject[] = [];\n/**\n * \n * @param item UI\n * @param e \n * @returns true|false\n * @since 1.0.0\n */\nexport function add(item: DisplayObject, e: InteractionEvent) {\n    item.attach.dragDropEventId = e.data.identifier;\n    if (_items.indexOf(item) === -1) {\n        _items.push(item);\n        return true;\n    }\n    return false;\n}\n\n/**\n * \n * @param item UI\n * @returns flase | item\n */\nexport function getItem(item: DisplayObject) {\n    let index: number | undefined;\n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i] === item) {\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}\n\n/**\n * \n * @param e \n * @param group \n */\nexport function getEventItem(e: InteractionEvent, group: string | undefined) {\n    let item = null, index: number | undefined;\n    const id = e.data.identifier;\n    \n    for (let i = 0; i < _items.length; i++) {\n        if (_items[i].attach.dragDropEventId === id) {\n            if (group !== _items[i].attach.dragGroup && _items[i].attach.dragGroup!==\"\") {\n                return false;\n            }\n            item = _items[i];\n            index = i;\n            break;\n        }\n    }\n\n    if (index !== undefined) {\n        _items.splice(index, 1);\n        return item;\n    }\n    else {\n        return false;\n    }\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { CheckBox } from \"../display/CheckBox\";\n\ninterface CheckGroupObject{\n    groups: {[key: string]: {[value: string]: CheckBox}} ;\n    values: {[key: string]: string|undefined}; \n}\n/**\n * UI\n * @private\n */\nlet _currentItem: DisplayObject|undefined;\n/**\n * \n * @private\n */\nexport const tabGroups: {[key: string]: DisplayObject[]} = {};\n/**\n * \n * @private\n */\nexport const _checkGroupObject: CheckGroupObject = {\n    groups: {},\n    values: {}\n} \n\n/**\n * \n * @param item \n * @param tabIndex \n * @param tabGroup \n * @returns tabIndex 0-11\n */\nexport function registrer(item: DisplayObject, tabIndex: number, tabGroup?: string) {\n    const groupName = tabGroup || \"default\";\n\n    let items = tabGroups[groupName];\n    if (!items)\n        items = tabGroups[groupName] = [];\n\n    const i = items.indexOf(item);\n    if (i === -1) {\n        item.attach._tabIndex = tabIndex !== undefined ? tabIndex : -1;\n        item.attach._tabGroup = items;\n        items.push(item);\n        items.sort(function (a, b) {\n            if (a.attach._tabIndex < b.attach._tabIndex)\n                return -1;\n            if (a.attach._tabIndex > b.attach._tabIndex)\n                return 1;\n            return 0;\n        });\n    }\n}\n/**  */\nexport function blur(){\n    const obj = _currentItem as TInputBase;\n    if(obj){\n        if(obj.blur && typeof obj.blur == \"function\"){\n            obj.blur();\n        }\n    }     \n}\n/**  */\nexport function set(item: DisplayObject){\n    blur();\n    _currentItem = item;\n}\n\n/**  */\nexport function clear(){\n    _currentItem = undefined;\n}\n/** tab  */\nexport function fireTab(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/**   */\nexport function fireNext(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) + 1;\n        if (i >= _tabGroup.length) \n            i = _tabGroup.length - 1;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/**   */\nexport function firePrev(){\n    if (_currentItem) {\n        const _tabGroup = _currentItem.attach._tabGroup as DisplayObject[];\n        let i = _tabGroup.indexOf(_currentItem) - 1;\n        if (i < 0) \n            i = 0;\n        const obj = _tabGroup[i] as TInputBase;\n        if(obj.focus)\n            obj.focus();\n    }\n}\n\n/** \n * checkBox \n * \n *  ==== checkbox ====\n * \n * checkGroups = [key]:{[\"value\"]:cb}\n */\nexport function registrerCheckGroup(cb: CheckBox){\n    const name = cb.checkGroup;\n    if(name){\n        let group = _checkGroupObject.groups[name];\n        if (!group) \n            group = _checkGroupObject.groups[name] = {};\n    \n        group[cb.uuid.toString()] = cb;\n    \n        if (cb.checked)\n            _checkGroupObject.values[name] = cb.uuid.toString();\n    }\n}\n\n/**\n * \n * @param cb CheckBox\n */\nexport function unRegistrerCheckGroup(cb: CheckBox){\n    if(cb.checkGroup && _checkGroupObject.groups[cb.checkGroup]){\n        delete _checkGroupObject.groups[cb.checkGroup][cb.uuid.toString()];\n        let isKey = false;\n        for(const key in _checkGroupObject.groups[cb.checkGroup]){\n            if(key) isKey = true;\n            break;\n        }\n        if(!isKey){\n            delete _checkGroupObject.groups[name];\n        }\n        if (cb.checked)\n            _checkGroupObject.values[name] = undefined;\n    }\n}\n/** checkbox  */\nexport function updateCheckGroupSelected(cb: CheckBox){\n    if(cb.checkGroup){\n        const group = _checkGroupObject.groups[cb.checkGroup];\n        for (const val in group) {\n            const b = group[val];\n            if (b !== cb)\n                b.checked = false;\n        }\n        _checkGroupObject.values[cb.checkGroup] = cb.uuid.toString();\n    }\n}\n\n/** checkbox */\nexport function getCheckGroupSelectedValue(name: string){\n    const uuid = _checkGroupObject.values[name];\n    if(uuid){\n        const cb = _checkGroupObject.groups[name][uuid.toString()];\n        return cb.value;\n    }\n    return undefined;\n}\n\n/**  */\nexport function setCheckGroupSelectedValue(name: string,uuid: string){\n    const group = _checkGroupObject.groups[name];\n    if (group) {\n        const cb = group[uuid];\n        if (cb) {\n            cb.checked = true;\n        }\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\n\n/**\n * \n * @private\n */\nexport const _GroupObject = new Map<string, { [key: string]: DisplayObject }>();\n\n/** \n * \n */\nexport function registrerGroup(ui: DisplayObject) {\n    if ( ui.groupName) {\n\n        let group = _GroupObject.get( ui.groupName);\n        if (!group) {\n            group = {};\n            _GroupObject.set( ui.groupName, group);\n        }\n        group[ui.uuid] = ui;\n    }\n}\n\n/**\n * \n */\nexport function unRegistrerGroup(ui: DisplayObject) {\n    if (ui.groupName) {\n        const group = _GroupObject.get(ui.groupName);\n        if (group) {\n            delete group[ui.uuid];\n        }\n        let isKey = false;\n        for (const key in group) {\n            isKey = true;\n            break;\n        }\n        if (isKey) {\n            _GroupObject.delete(ui.groupName);\n        }\n    }\n}\n\n/**  */\nexport function getGroup(name?: string): { [key: string]: DisplayObject } | undefined {\n    if (name == undefined) {\n        return undefined;\n    }\n    return _GroupObject.get(name);\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport * as CSSFunction from \"./CSSSSystem\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { getStringFunctionParam } from \"../utils/Utils\";\n\n\n/**\n * \t\n *\n *   \"left\", \"top\", \"right\"  \"bottom\" \n *\n * \tabsolute \n *\n *  fixed \n *\n *  static  top, bottom, left, right  z-index \n */\nexport type Position = \"absolute\" | \"fixed\" | \"static\";\n\n/**  grid */\nexport type Align = \"flex-start\" | \"flex-end\" | \"center\";\n\n/**  */\nexport type Display = \"none\" | \"block\" | \"grid\";\n\nfunction formatRelative(value: number | string | undefined): { percent: number; value: number } {\n\n    if (value == undefined) {\n        return { percent: NaN, value: NaN };\n    }\n    if (typeof value === \"number\") {\n        return { percent: NaN, value: value };\n    }\n    const str = value;\n    const index = str.indexOf(\"%\");\n    if (index == -1) {\n        return { percent: NaN, value: +str };\n    }\n    const percent = +str.substring(0, index);\n    return { percent: Math.min(percent * 0.01, 1), value: NaN };\n}\n\n/**\n * \n */\nexport class CSSStyle {\n\n    public constructor(target: DisplayObject) {\n        this.parent = target;\n        target.on(ComponentEvent.RESIZE, this.onResize, this);\n    }\n    public parent: DisplayObject;\n\n    public release() {\n        this.parent.off(ComponentEvent.RESIZE, this.onResize, this);\n    }\n    /**\n     * \n     *\n     * grid left,top,rightbottom,width,height\n     *\n     * none style\n     * */\n    private _display: Display = \"block\";\n    public get display(): Display {\n        return this._display;\n    }\n    public set display(value: Display) {\n        this._display = value;\n    }\n    /**\n     * \n     * */\n    private _position: Position = \"absolute\";\n    public get position(): Position {\n        return this._position;\n    }\n    public set position(value: Position) {\n        this._position = value;\n    }\n\n    /**\n     * \n     */\n    private _justifyContent?: Align;\n    public get justifyContent() {\n        return this._justifyContent;\n    }\n    public set justifyContent(value) {\n        this._justifyContent = value;\n    }\n\n    /**\n     * \n     */\n    private _alignContent?: Align;\n    public get alignContent() {\n        return this._alignContent;\n    }\n    public set alignContent(value) {\n        this._alignContent = value;\n    }\n    /**\n     *  \n     *\n     *  [80,90,100]|[\"30%\",\"40%\",\"30%\"] 80100\n     *\n     *  [\"repeat\",3,100] 100\n     */\n    private _gridTemplateColumns?: number[] | string[] | [string, number, number];\n    public get gridTemplateColumns() {\n        return this._gridTemplateColumns;\n    }\n    public set gridTemplateColumns(value) {\n        this._gridTemplateColumns = value;\n    }\n\n    /**\n     * \n     */\n    private _gridColumnGap?: number;\n    public get gridColumnGap() {\n        return this._gridColumnGap;\n    }\n    public set gridColumnGap(value) {\n        this._gridColumnGap = value;\n    }\n    /**\n     *  \n     *\n     *  [80,90,100]|[\"30%\",\"40%\",\"30%\"] 8090100\n     *\n     *  [\"repeat\",3,100] 100\n     */\n    private _gridTemplateRows?: number[] | string[] | [string, number, number];\n    public get gridTemplateRows() {\n        return this._gridTemplateRows;\n    }\n    public set gridTemplateRows(value) {\n        this._gridTemplateRows = value;\n    }\n    /**\n     * \n     */\n    private _gridRowGap?: number;\n    public get gridRowGap() {\n        return this._gridRowGap;\n    }\n    public set gridRowGap(value) {\n        this._gridRowGap = value;\n    }\n\n    /**\n     * \n     * */\n    public get width() {\n        return this.parent.width;\n    }\n    public set width(value: number | string) {\n        const relative = formatRelative(value);\n        this.parent.width = relative.value;\n        this.parent.percentWidth = relative.percent;\n    }\n    /**\n     * \n     * */\n    public get height() {\n        return this.parent.height;\n    }\n    public set height(value: number | string) {\n        const relative = formatRelative(value);\n        this.parent.height = relative.value;\n        this.parent.percentHeight = relative.percent;\n    }\n\n    /**\n     * \n     */\n    public get minWidth() {\n        return this.parent.minWidth;\n    }\n    public set minWidth(value) {\n        this.parent.minWidth = value;\n    }\n    /**\n     * \n     */\n    public get maxWidth() {\n        return this.parent.maxWidth;\n    }\n    public set maxWidth(value) {\n        this.parent.maxWidth = value;\n    }\n\n    /**\n     * \n     */\n    public get maxHeight() {\n        return this.parent.maxHeight;\n    }\n    public set maxHeight(value) {\n        this.parent.maxHeight = value;\n    }\n    /**\n     * \n     * */\n    public get minHeight() {\n        return this.parent.minHeight;\n    }\n    public set minHeight(value) {\n        this.parent.minHeight = value;\n    }\n\n    /**\n     * \n     * */\n    public get left() {\n        return this.parent.left;\n    }\n    public set left(value) {\n        this.parent.left = value;\n    }\n    /**\n     * \n     * */\n    public get top() {\n        return this.parent.top;\n    }\n    public set top(value) {\n        this.parent.top = value;\n    }\n    /**\n     * \n     * */\n    public get right() {\n        return this.parent.right;\n    }\n    public set right(value) {\n        this.parent.right = value;\n    }\n    /**\n     * \n     * */\n    public get bottom() {\n        return this.parent.bottom;\n    }\n    public set bottom(value) {\n        this.parent.bottom = value;\n    }\n\n    /**\n     * \n     * */\n    public get scaleX() {\n        return this.parent.scaleX;\n    }\n    public set scaleX(value) {\n        this.parent.scaleX = value;\n    }\n    /**\n     * \n     * */\n    public get scaleY() {\n        return this.parent.scaleY;\n    }\n    public set scaleY(value) {\n        this.parent.scaleY = value;\n    }\n    /**\n     * \n     * */\n    public get skewX() {\n        return this.parent.skewX;\n    }\n    public set skewX(value) {\n        this.parent.skewX = value;\n    }\n    /**\n     * \n     * */\n    public get skewY() {\n        return this.parent.skewY;\n    }\n    public set skewY(value) {\n        this.parent.skewY = value;\n    }\n\n    /**\n     *  \n    */\n    public get rotate() {\n        return this.parent.rotation;\n    }\n    public set rotate(value) {\n        this.parent.rotation = value;\n    }\n    /**\n     *  \n    */\n    public get rotation() {\n        return this.parent.rotation;\n    }\n    public set rotation(value: number) {\n        this.parent.rotation = value;\n    }\n\n    /**\n     *  \n     */\n    public get pivotX() {\n        return this.parent.pivotX;\n    }\n    public set pivotX(value) {\n        this.parent.pivotX = value;\n    }\n    /**\n     *  \n     */\n    public get pivotY() {\n        return this.parent.pivotY;\n    }\n    public set pivotY(value) {\n        this.parent.pivotY = value;\n    }\n\n    /**\n      * 0xFFFFFF\n      */\n    public get tint() {\n        return this.parent.tint;\n    }\n    public set tint(value) {\n        this.parent.tint = value;\n    }\n\n    /**\n     *  Alpha 0 1\n     * */\n    public get alpha() {\n        return this.parent.alpha;\n    }\n    public set alpha(value) {\n        this.parent.alpha = value;\n    }\n\n    /**\n     * \n     * */\n    public get visible() {\n        return this.parent.visible;\n    }\n    public set visible(value) {\n        this.parent.visible = value;\n    }\n    public get visibility() {\n        return this.parent.visible ? \"visible\" : \"hidden\";\n    }\n    public set visibility(value: \"visible\" | \"hidden\") {\n        this.visible = value === \"hidden\" ? false : true;\n    }\n\n\n    /**\n     * 160xffffff\n     * */\n    private _backgroundColor?: number;\n    public get backgroundColor() {\n        return this._backgroundColor;\n    }\n    public set backgroundColor(value) {\n        if (value === this.backgroundColor) {\n            return;\n        }\n        this._backgroundColor = value;\n        CSSFunction.backgroundColor(this.parent);\n\n    }\n\n    /**\n     * backgroundImage = \"./xxx.png\"\n     * */\n    private _backgroundImage?: vf.Texture | string;\n    public get backgroundImage() {\n        return this._backgroundImage;\n    }\n    public set backgroundImage(value) {\n        this._backgroundImage = value;\n        CSSFunction.backgroundImage(this.parent);\n    }\n    /**\n     *  backgroundImage  X\n     * */\n    private _backgroundPositionX?: number;\n    public get backgroundPositionX() {\n        return this._backgroundPositionX;\n    }\n    public set backgroundPositionX(value) {\n        this._backgroundPositionX = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage  Y\n     * */\n    private _backgroundPositionY?: number;\n    public get backgroundPositionY() {\n        return this._backgroundPositionY;\n    }\n    public set backgroundPositionY(value) {\n        this._backgroundPositionY = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage   [width,height]\n     * */\n    private _backgroundSize?: number[];\n    public get backgroundSize() {\n        return this._backgroundSize;\n    }\n    public set backgroundSize(value) {\n        this._backgroundSize = value;\n        CSSFunction.backgroundPositionSize(this.parent);\n    }\n    /**\n     *  backgroundImage \n     * repeat\n     * no-repeat\n     */\n    private _backgroundRepeat: \"no-repeat\" | \"repeat\" = \"no-repeat\";\n    public get backgroundRepeat() {\n        return this._backgroundRepeat;\n    }\n    public set backgroundRepeat(value) {\n        this._backgroundRepeat = value;\n        CSSFunction.backgroundRepeat(this.parent);\n    }\n\n\n\n    /**\n     * \n     */\n    private _maskImage?: string | vf.Graphics | vf.Texture | DisplayObject;\n    public get maskImage() {\n        return this._maskImage;\n    }\n    public set maskImage(value) {\n        this._maskImage = value;\n        CSSFunction.maskImage(this.parent);\n    }\n    /**\n     *  [x,y]\n     */\n    private _maskPosition?: number[];\n    public get maskPosition() {\n        return this._maskPosition;\n    }\n    public set maskPosition(value) {\n        this._maskPosition = value;\n        CSSFunction.maskPosition(this.parent);\n\n    }\n    /**\n     * \n     */\n    private _maskSize?: number[];\n    public get maskSize() {\n        return this._maskSize;\n    }\n    public set maskSize(value) {\n        this._maskSize = value;\n        CSSFunction.maskSize(this.parent);\n    }\n\n    /**\n     * \n     */\n    public get filter() {\n        return this.parent.filter;\n    }\n\n    public set filter(value: any) {\n        console.error('[VF LOG]  filter!')\n    }\n\n\n    /**\n     * \n     */\n    public get cursor() {\n        return this.parent.container.cursor;\n    }\n    public set cursor(value: string) {\n        this.parent.container.cursor = value;\n    }\n\n\n\n\n    /**\n     * 16\n     * */\n    private _color?: number | number[] = 0xfffff0;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        CSSFunction.color(this.parent, \"color\", value);\n    }\n    /**  */\n    private _letterSpacing?: number;\n    public get letterSpacing() {\n        return this._letterSpacing;\n    }\n    public set letterSpacing(value) {\n        this._letterSpacing = value;\n        CSSFunction.updateFontStyle(this.parent, \"letterSpacing\", value);\n    }\n    /**\n     * \n     * */\n    private _wordWrap = false;\n    public get wordWrap() {\n        return this._wordWrap;\n    }\n    public set wordWrap(value) {\n        this._wordWrap = value;\n        CSSFunction.updateFontStyle(this.parent, \"wordWrap\", value);\n    }\n    /**\n     * \n     * */\n    private _wordWrapWidth?: number;\n    public get wordWrapWidth() {\n        return this._wordWrapWidth;\n    }\n    public set wordWrapWidth(value) {\n        this._wordWrapWidth = value;\n        CSSFunction.updateFontStyle(this.parent, \"wordWrapWidth\", value);\n    }\n    /**\n     * (wordWrap = true) - \n     * */\n    private _textAlign: \"left\" | \"right\" | \"center\" = \"center\";\n    public get textAlign() {\n        return this._textAlign;\n    }\n    public set textAlign(value) {\n        this._textAlign = value;\n        CSSFunction.updateFontStyle(this.parent, \"textAlign\", value);\n        CSSFunction.updateFontStyle(this.parent, \"align\", value);\n\n    }\n    /**\n     * (wordWrap = true) - \n     * */\n    private _lineHeight?: number;\n    public get lineHeight() {\n        return this._lineHeight;\n    }\n    public set lineHeight(value) {\n        this._lineHeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"lineHeight\", value);\n    }\n    /**  fontFamily = \"\\\"Comic Sans MS\\\", cursive, sans-serif\" */\n    private _fontFamily?: string | string[];\n    public get fontFamily() {\n        return this._fontFamily;\n    }\n    public set fontFamily(value) {\n        this._fontFamily = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontFamily\", value);\n    }\n    /**  */\n    private _fontSize = 22;\n    public get fontSize() {\n        return this._fontSize;\n    }\n    public set fontSize(value) {\n        this._fontSize = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontSize\", value);\n    }\n    /**  */\n    private _fontStyle: \"normal\" | \"italic\" | \"oblique\" = \"normal\";\n    public get fontStyle() {\n        return this._fontStyle;\n    }\n    public set fontStyle(value) {\n        this._fontStyle = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontStyle\", value);\n    }\n    /**    */\n    private _fontVariant: \"normal\" | \"small-caps\" = \"normal\";\n    public get fontVariant() {\n        return this._fontVariant;\n    }\n    public set fontVariant(value) {\n        this._fontVariant = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontVariant\", value);\n    }\n    /**  */\n    private _fontWeight: \"normal\" | 'bold' | 'bolder' | 'lighter' | 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 = \"normal\";\n    public get fontWeight() {\n        return this._fontWeight;\n    }\n    public set fontWeight(value) {\n        this._fontWeight = value;\n        CSSFunction.updateFontStyle(this.parent, \"fontWeight\", value);\n    }\n    /** , */\n    private _padding?: number;\n    public get padding() {\n        return this._padding;\n    }\n    public set padding(value) {\n        this._padding = value;\n        CSSFunction.updateFontStyle(this.parent, \"padding\", value);\n    }\n    /**  */\n    private _stroke?: string | number;\n    public get stroke() {\n        return this._stroke;\n    }\n    public set stroke(value) {\n        this._stroke = value;\n        CSSFunction.updateFontStyle(this.parent, \"stroke\", value);\n    }\n    /**  */\n    private _strokeThickness = 0;\n    public get strokeThickness() {\n        return this._strokeThickness;\n    }\n    public set strokeThickness(value) {\n        this._strokeThickness = value;\n        CSSFunction.updateFontStyle(this.parent, \"strokeThickness\", value);\n    }\n    /**  */\n    private _dropShadow = false;\n    public get dropShadow() {\n        return this._dropShadow;\n    }\n    public set dropShadow(value) {\n        this._dropShadow = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadow\", value);\n    }\n    /** alpha */\n    private _dropShadowAlpha = false;\n    public get dropShadowAlpha() {\n        return this._dropShadowAlpha;\n    }\n    public set dropShadowAlpha(value) {\n        this._dropShadowAlpha = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAlpha\", value);\n    }\n    /**  */\n    private _dropShadowAngle = 0;//Math.PI / 6;\n    public get dropShadowAngle() {\n        return this._dropShadowAngle;\n    }\n    public set dropShadowAngle(value) {\n        this._dropShadowAngle = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowAngle\", value);\n    }\n    /**  */\n    private _dropShadowBlur = 0;\n    public get dropShadowBlur() {\n        return this._dropShadowBlur;\n    }\n    public set dropShadowBlur(value) {\n        this._dropShadowBlur = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowBlur\", value);\n    }\n    /**  */\n    private _dropShadowColor = 0x000000;\n    public get dropShadowColor() {\n        return this._dropShadowColor;\n    }\n    public set dropShadowColor(value) {\n        this._dropShadowColor = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowColor\", value);\n    }\n    /**  */\n    private _dropShadowDistance = 5;\n    public get dropShadowDistance() {\n        return this._dropShadowDistance;\n    }\n    public set dropShadowDistance(value) {\n        this._dropShadowDistance = value;\n        CSSFunction.updateFontStyle(this.parent, \"dropShadowDistance\", value);\n    }\n    /**  */\n    private _breakWords = true;\n    public get breakWords() {\n        return this._breakWords;\n    }\n    public set breakWords(value) {\n        this._breakWords = value;\n        CSSFunction.updateFontStyle(this.parent, \"breakWords\", value);\n    }\n\n    private onResize() {\n\n\n        const target = this.parent;\n        if (target.width == 0 || target.height == 0) {\n            return;\n        }\n        if (this.backgroundColor && target.$background) {\n\n            const background = target.$background;\n            //console.log(\"onResize backgroundColor\",background.width , target.width ,background.height ,target.height)\n            background.clear();\n            background.beginFill(this.backgroundColor);\n            background.drawRoundedRect(0, 0, target.width, target.height, 0);\n            background.endFill();\n\n        }\n        if (target.$background && target.$background.mask) {\n            //console.log(\"onResize backgroundColor mask\",this.backgroundColor)\n            const mask = target.$background.mask as vf.Graphics;\n            mask.clear();\n            mask.beginFill(this.backgroundColor);\n            mask.drawRoundedRect(0, 0, target.width, target.height, 0);\n            mask.endFill();\n        }\n    }\n}\n\n\n\n/*\nCSS3.0 \n\n    background: string | null;\n    backgroundAttachment: string | null;\n    backgroundClip: string | null;\n    // backgroundColor: string | null;\n    // backgroundImage: string | null;\n    backgroundOrigin: string | null;\n    backgroundPosition: string | null;\n    // backgroundPositionX: string | null;\n    // backgroundPositionY: string | null;\n    backgroundRepeat: string | null;\n    // backgroundSize: string | null;\n\n\n    alignContent: string;\n    alignItems: string;\n    alignSelf: string;\n    alignmentBaseline: string | null;\n    animation: string;\n    animationDelay: string;\n    animationDirection: string;\n    animationDuration: string;\n    animationFillMode: string;\n    animationIterationCount: string;\n    animationName: string;\n    animationPlayState: string;\n    animationTimingFunction: string;\n    backfaceVisibility: string | null;\n\n    baselineShift: string | null;\n    border: string | null;\n    borderBottom: string | null;\n    borderBottomColor: string | null;\n    borderBottomLeftRadius: string | null;\n    borderBottomRightRadius: string | null;\n    borderBottomStyle: string | null;\n    borderBottomWidth: string | null;\n    borderCollapse: string | null;\n    borderColor: string | null;\n    borderImage: string | null;\n    borderImageOutset: string | null;\n    borderImageRepeat: string | null;\n    borderImageSlice: string | null;\n    borderImageSource: string | null;\n    borderImageWidth: string | null;\n    borderLeft: string | null;\n    borderLeftColor: string | null;\n    borderLeftStyle: string | null;\n    borderLeftWidth: string | null;\n    borderRadius: string | null;\n    borderRight: string | null;\n    borderRightColor: string | null;\n    borderRightStyle: string | null;\n    borderRightWidth: string | null;\n    borderSpacing: string | null;\n    borderStyle: string | null;\n    borderTop: string | null;\n    borderTopColor: string | null;\n    borderTopLeftRadius: string | null;\n    borderTopRightRadius: string | null;\n    borderTopStyle: string | null;\n    borderTopWidth: string | null;\n    borderWidth: string | null;\n    // bottom: string | null;\n    boxShadow: string | null;\n    boxSizing: string;\n    breakAfter: string | null;\n    breakBefore: string | null;\n    breakInside: string | null;\n    captionSide: string | null;\n    caretColor: string;\n    clear: string | null;\n    clip: string;\n    clipPath: string;\n    clipRule: string;\n    // color: string | null;\n    colorInterpolationFilters: string;\n    columnCount: string;\n    columnFill: string;\n    columnGap: string;\n    columnRule: string;\n    columnRuleColor: string;\n    columnRuleStyle: string;\n    columnRuleWidth: string;\n    columnSpan: string;\n    columnWidth: string;\n    columns: string;\n    content: string | null;\n    counterIncrement: string | null;\n    counterReset: string | null;\n    cssFloat: string | null;\n    cssText: string;\n    cursor: string;\n    direction: string;\n    // display: string | null;\n    dominantBaseline: string | null;\n    emptyCells: string | null;\n    enableBackground: string | null;\n    fill: string | null;\n    fillOpacity: string | null;\n    fillRule: string | null;\n    filter: string;\n    flex: string | null;\n    flexBasis: string | null;\n    flexDirection: string | null;\n    flexFlow: string | null;\n    flexGrow: string | null;\n    flexShrink: string | null;\n    flexWrap: string | null;\n    floodColor: string;\n    floodOpacity: string;\n    font: string;\n    // fontFamily: string;\n    fontFeatureSettings: string;\n    fontKerning: string;\n    // fontSize: string;\n    fontSizeAdjust: string;\n    fontStretch: string;\n    // fontStyle: string;\n    fontSynthesis: string;\n    // fontVariant: string;\n    fontVariantCaps: string;\n    fontVariantEastAsian: string;\n    fontVariantLigatures: string;\n    fontVariantNumeric: string;\n    fontVariantPosition: string;\n    // fontWeight: string;\n    gap: string;\n    glyphOrientationHorizontal: string | null;\n    glyphOrientationVertical: string;\n    grid: string | null;\n    gridArea: string | null;\n    gridAutoColumns: string | null;\n    gridAutoFlow: string | null;\n    gridAutoRows: string | null;\n    gridColumn: string | null;\n    gridColumnEnd: string | null;\n    gridColumnGap: string;\n    gridColumnStart: string | null;\n    gridGap: string;\n    gridRow: string | null;\n    gridRowEnd: string | null;\n    gridRowGap: string;\n    gridRowStart: string | null;\n    gridTemplate: string | null;\n    gridTemplateAreas: string | null;\n    gridTemplateColumns: string | null;\n    gridTemplateRows: string | null;\n    // height: string | null;\n    hyphens: string;\n    imageOrientation: string;\n    imageRendering: string;\n    imeMode: string | null;\n    justifyContent: string;\n    justifyItems: string;\n    justifySelf: string;\n    kerning: string | null;\n    layoutGrid: string | null;\n    layoutGridChar: string | null;\n    layoutGridLine: string | null;\n    layoutGridMode: string | null;\n    layoutGridType: string | null;\n    // left: string | null;\n    readonly length: number;\n    // letterSpacing: string;\n    lightingColor: string;\n    lineBreak: string;\n    // lineHeight: string | null;\n    listStyle: string | null;\n    listStyleImage: string | null;\n    listStylePosition: string | null;\n    listStyleType: string | null;\n\n    margin: string | null;\n    marginBottom: string | null;\n    marginLeft: string | null;\n    marginRight: string | null;\n    marginTop: string | null;\n\n    marker: string | null;\n    markerEnd: string | null;\n    markerMid: string | null;\n    markerStart: string | null;\n    mask: string;\n    maskComposite: string;\n    maskImage: string;\n    maskPosition: string;\n    maskRepeat: string;\n    maskSize: string;\n    maskType: string;\n\n    // maxHeight: string | null;\n    // maxWidth: string | null;\n    // minHeight: string | null;\n    // minWidth: string | null;\n\n    objectFit: string;\n    objectPosition: string;\n    opacity: string | null;\n    order: string | null;\n    orphans: string | null;\n    outline: string;\n    outlineColor: string;\n    outlineOffset: string;\n    outlineStyle: string;\n    outlineWidth: string;\n\n    overflow: string;\n    overflowAnchor: string;\n    overflowWrap: string;\n    overflowX: string;\n    overflowY: string;\n\n    padding: string | null;\n    paddingBottom: string | null;\n    paddingLeft: string | null;\n    paddingRight: string | null;\n    paddingTop: string | null;\n\n    pageBreakAfter: string | null;\n    pageBreakBefore: string | null;\n    pageBreakInside: string | null;\n    readonly parentRule: CSSRule;\n    penAction: string | null;\n    perspective: string | null;\n    perspectiveOrigin: string | null;\n    placeContent: string;\n    placeItems: string;\n    placeSelf: string;\n    pointerEvents: string | null;\n    // position: string | null;\n    quotes: string | null;\n    resize: string;\n    // right: string | null;\n    rotate: string | null;\n    rowGap: string;\n    rubyAlign: string | null;\n    rubyOverhang: string | null;\n    rubyPosition: string | null;\n    // scale: string | null;\n    scrollBehavior: string;\n    stopColor: string | null;\n    stopOpacity: string | null;\n\n    stroke: string | null;\n    strokeDasharray: string | null;\n    strokeDashoffset: string | null;\n    strokeLinecap: string | null;\n    strokeLinejoin: string | null;\n    strokeMiterlimit: string | null;\n    strokeOpacity: string | null;\n    strokeWidth: string | null;\n\n    tabSize: string;\n    tableLayout: string | null;\n    // textAlign: string;\n    textAlignLast: string;\n    textAnchor: string | null;\n    textCombineUpright: string;\n    textDecoration: string;\n    textDecorationColor: string;\n    textDecorationLine: string;\n    textDecorationStyle: string;\n    textEmphasis: string;\n    textEmphasisColor: string;\n    textEmphasisPosition: string;\n    textEmphasisStyle: string;\n    textIndent: string;\n    textJustify: string;\n    textKashida: string | null;\n    textKashidaSpace: string | null;\n    textOrientation: string;\n    textOverflow: string;\n    textShadow: string;\n    textTransform: string;\n    textUnderlinePosition: string;\n    // top: string | null;\n    touchAction: string;\n    transform: string;\n    transformBox: string;\n    transformOrigin: string;\n    transformStyle: string | null;\n    transition: string;\n    transitionDelay: string;\n    transitionDuration: string;\n    transitionProperty: string;\n    transitionTimingFunction: string;\n    translate: string | null;\n    unicodeBidi: string;\n    userSelect: string;\n    verticalAlign: string | null;\n    visibility: string | null;\n\n    whiteSpace: string;\n    widows: string | null;\n    // width: string | null;\n    willChange: string;\n    wordBreak: string;\n    wordSpacing: string;\n    // wordWrap: string;\n    writingMode: string;\n    // zIndex: string | null;\n    zoom: string | null;\n    */\n","import { getTexture, getDisplayObject } from \"../utils/Utils\";\nimport { DisplayObject } from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/** ===================== background  ===================== */\n\nexport function backgroundColor(target: DisplayObject){\n\n    if(target.style == undefined){\n        return;\n    }\n    if(target.style.backgroundColor==undefined  && target.$background == undefined){\n        return;\n    }\n    if (target.$background === undefined) {\n        target.$background = new vf.Graphics();\n        target.$background.name = \"background\";\n        target.container.addChildAt(target.$background, 0);\n    }\n}\n\nexport function backgroundPositionSize(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if (target.$background && target.$background.children.length > 0) {\n        const sprite = target.$background.getChildAt(0) as vf.Sprite;\n        const style = target.style;\n        if (sprite instanceof vf.TilingSprite) {\n            sprite.tilePosition.set(style.backgroundPositionX || 0, style.backgroundPositionY || 0);\n        } else {\n            if (style.backgroundSize) {\n                sprite.width = style.backgroundSize[0];\n                sprite.height = style.backgroundSize[1];\n            }\n            sprite.position.set(style.backgroundPositionX || 0, style.backgroundPositionY || 0);\n        }\n    }\n}\n\nexport function backgroundRepeat(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    const style = target.style;\n    if (style.backgroundImage && target.$background) {\n        target.$background.removeChildren();\n\n        let backgroundImage: vf.Texture | undefined;\n        if (style.backgroundImage instanceof vf.Texture) {\n            backgroundImage = style.backgroundImage;\n        } else if (typeof style.backgroundImage === \"string\") {\n            backgroundImage = getTexture(style.backgroundImage);\n        }\n        if (backgroundImage) {\n            let sprite: vf.TilingSprite | vf.NineSlicePlane | vf.Sprite;\n            if (style.backgroundRepeat === undefined) {\n                style.backgroundRepeat = \"no-repeat\";\n            }\n            if (style.backgroundRepeat === \"repeat\") {\n                sprite = new vf.TilingSprite(backgroundImage);\n            } else {\n                sprite = new vf.Sprite(backgroundImage);\n            }\n\n            target.$background.addChild(sprite);\n            const maskGraphics = new vf.Graphics();\n            target.$background.addChild(maskGraphics);\n            target.$background.mask = maskGraphics;\n        }\n    }\n}\n\nexport function backgroundImage(target: DisplayObject){\n    if (target.$background === undefined) {\n        target.$background = new vf.Graphics();\n        target.$background.name = \"background\";\n        target.container.addChildAt(target.$background, 0);\n    }\n    backgroundRepeat(target);\n    backgroundPositionSize(target);\n\n}\n\n/** ===================== mask  ===================== */\n\n\nexport function maskPosition(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if(target.$mask){\n        const style = target.style;\n        if(style.maskPosition === undefined){\n            return;\n        }\n        \n        if(target.$mask instanceof DisplayObject){\n            target.$mask.x = style.maskPosition[0];\n            target.$mask.y =  style.maskPosition[1];\n        }else{\n            target.$mask.position.set(style.maskPosition[0],style.maskPosition[1])\n        }\n    }\n}\n\nexport function maskSize(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    if(target.$mask){\n        const style = target.style;\n        if(style.maskSize === undefined){\n            return;\n        }\n\n        target.$mask.width = style.maskSize[0];\n        target.$mask.height = style.maskSize[1];\n        if(target.$mask instanceof vf.Graphics){\n            //target.$mask.clone\n        }\n        if(!(target.$mask instanceof DisplayObject))\n            target.$mask.updateTransform();\n    }\n}\n\nexport function maskImage(target: DisplayObject){\n    if(target.style == undefined){\n        return;\n    }\n    target.container.mask = null as any;\n    if (target.$mask && target.$mask.parent) {\n        if (target.$mask instanceof DisplayObject) {\n            target.removeChild(target.$mask);\n        } else {\n            target.$mask.parent.removeChild(target.$mask);\n        }\n    }\n\n    for (let i = 0; i < target.uiChildren.length; i++) {\n        if (target.uiChildren[i].name == \"maskImage\") {\n            target.removeChild(target.uiChildren[i]);\n            break;\n        }\n    }\n\n    target.$mask = undefined;\n    const style = target.style;\n    const container = target.container;\n    const maskdisplay = getDisplayObject( style.maskImage,target) as MaskSprite | vf.Graphics | string;\n\n    if(maskdisplay == null || maskdisplay === ''){\n        return;\n    }\n\n    if (maskdisplay instanceof vf.Graphics) {\n        target.$mask = maskdisplay;\n        container.mask = target.$mask;\n        container.addChild(target.$mask);\n    } else if (maskdisplay instanceof DisplayObject) {\n\n        if((maskdisplay as MaskSprite).maskSprite){\n            target.$mask = maskdisplay;//gui\n            target.$mask.name = \"maskImage\";\n            container.mask = maskdisplay.maskSprite() || null;//vf\n            if(maskdisplay.parent == undefined){\n                target.addChild(maskdisplay);\n            }\n                \n        }\n    } else {\n        target.$mask = vf.Sprite.from(getTexture(style.maskImage));\n        container.mask = target.$mask;\n        container.addChild(target.$mask);\n    }\n\n    maskSize(target);\n    maskPosition(target)\n\n}\n\n\n/** ===================== font  ===================== */\nexport function updateFontStyle(target: any,key: string,value: any){\n    if(target.setInputStyle){\n        target.setInputStyle(key, value);\n    }else{\n        target.sprite.style[key] =value;\n    } \n}\nexport function color(target: any,key: string,value: any){\n    if(target.setInputStyle){\n        target.setInputStyle(key, value);\n    }else{\n        target.sprite.style.fill =value;\n    }\n}\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { updateGridLayout } from \"./CSSGridLayout\";\nimport { updateBasicDisplayList } from \"./CSSBasicLayout\";\n\nexport const $TempRectangle = new vf.Rectangle();\n\nfunction updateDisplayAlign(target: DisplayObject, parentWidth: number, parentHeight: number, marginTop = 0, marginLeft = 0) {\n\n\n    if (target.style == undefined) {\n        return false;\n    }\n    if (target.style.justifyContent == undefined && target.style.alignContent == undefined) {\n        return false;\n    }\n    const oldX = target.x;\n    const oldY = target.y;\n    let startX = 0;\n    let startY = 0;\n    const bounds = target.getPreferredBounds($TempRectangle);\n\n    switch (target.style.justifyContent) {\n        case \"center\":\n            startX = parentWidth - bounds.width >> 1;\n            break;\n        case \"flex-start\":\n            startX = marginLeft;\n            break;\n        case \"flex-end\":\n            startX = parentWidth - bounds.width - (marginLeft);\n            break;\n\n    }\n\n    switch (target.style.alignContent) {\n        case \"center\":\n            startY = parentHeight - bounds.height >> 1;\n            break;\n        case \"flex-start\":\n            startY = marginTop;\n            break;\n        case \"flex-end\":\n            startY = parentHeight - bounds.height - (marginTop);\n            break;\n\n    }\n    if (startX !== 0) target.x = startX;\n    if (startY !== 0) target.y = startY;\n\n    if (oldX !== startX || oldY !== startY) {\n        return true;\n    }\n    return false;\n\n}\n\n\n/**\n * \n */\nexport function updateDisplayLayout(target: DisplayObject, unscaledWidth: number, unscaledHeight: number) {\n\n    if (target.style == undefined) {\n        return;\n    }\n    if (target.style.display === \"block\") {\n        const pos = updateBasicDisplayList(target, unscaledWidth, unscaledHeight);\n        //console.log(pos);\n    } else if (target.style.display === \"grid\") {\n        const size = updateGridLayout(target);\n        updateBasicDisplayList(target, size.width, size.height);\n    }\n\n    let isUpdateTransform = false;\n    if (target.parent) {\n        isUpdateTransform = updateDisplayAlign(target, target.parent.width, target.parent.height, target.style.gridRowGap, target.style.gridColumnGap);\n    }\n\n    if (target.isContainer) {\n\n        const bounds = target.getPreferredBounds($TempRectangle);\n        let child: DisplayObject;\n        for (let i = 0; i < target.uiChildren.length; i++) {\n            child = target.uiChildren[i] as DisplayObject;\n            isUpdateTransform = updateDisplayAlign(child, bounds.width, bounds.height, child.style.gridRowGap, child.style.gridColumnGap);\n        }\n    }\n\n    if (isUpdateTransform) {\n        target.updateTransform();\n    }\n\n\n}\n\n","import { DisplayObject } from \"../core/DisplayObject\";\nimport { formatRelative } from \"../utils/Utils\";\nimport { $tempRectangle } from \"./CSSBasicLayout\";\n\nfunction getColumnRowValue(gridTemplate: number[] | string[] | [string, number, number] | undefined, parentValue: number) {\n    const list: number[] = [];\n    let isInfinity = false;\n    if (gridTemplate) {\n        if (gridTemplate[0] === \"repeat\") {\n            if (gridTemplate[1] === Infinity) {\n                isInfinity = true;\n                list.push(formatRelative(0, parentValue));\n            } else {\n                for (let i = 0; i < gridTemplate[1]; i++) {\n                    list.push(formatRelative(gridTemplate[2], parentValue));\n                }\n            }\n        } else {\n            for (let i = 0; i < gridTemplate.length; i++) {\n                list.push(formatRelative(gridTemplate[i], parentValue));\n            }\n        }\n    }\n    return { list, isInfinity };\n}\n\n/**\n *  \n * \n * 100 100%\n * \n *  \n * \n * grid\n * \n *  https://developer.mozilla.org/zh-CN/docs/Glossary/Grid\n * \n *  gridTemplateRows https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-columns\n * \n *  gridTemplateColumns https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-template-rows\n * \n *  gridRowGap   https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-row-gap\n * \n *  gridColumnGap  https://developer.mozilla.org/zh-CN/docs/Web/CSS/grid-column-gap\n * \n *   justifyContentalignContent\n * \n *  https://developer.mozilla.org/en-US/docs/Glossary/Grid_Lines\n * \n * https://developer.mozilla.org/zh-CN/docs/Glossary/Grid_Areas\n */\nexport function updateGridLayout(target: DisplayObject) {\n\n    if (target.parent == undefined) {\n        return $tempRectangle;\n    }\n    if (target.style == undefined) {\n        return $tempRectangle;\n    }\n\n\n    let rowHeightTotal = 0;\n    let columnWidthTotal = 0;\n\n    const style = target.style;\n\n    const gridColumnGap = style.gridColumnGap || 0;\n    const gridRowGap = style.gridRowGap || 0;\n\n    const column = getColumnRowValue(style.gridTemplateColumns, target.parent.width);\n    const row = getColumnRowValue(style.gridTemplateRows, target.parent.height);\n\n\n\n    let child: DisplayObject;\n\n    let cloumnIndex = 0;\n    let rowIndex = 0;\n\n    let cloumnWidth = 0;\n    let rowHeight = 0;\n\n    let widthTotal = 0;\n    for (let i = 0; i < target.uiChildren.length; i++) {\n        child = target.uiChildren[i] as DisplayObject;\n        if (child.style.justifyContent || child.style.alignContent) {\n            continue;\n        }\n        if (column.isInfinity) {\n            cloumnWidth = column.list[0] || 0;\n        } else {\n            cloumnWidth = column.list[cloumnIndex] || 0;\n        }\n\n        if (row.isInfinity) {\n            rowHeight = row.list[0] || 0;\n        } else {\n            rowHeight = row.list[rowIndex] || 0;\n        }\n\n        child.width = child.explicitWidth || cloumnWidth;\n        child.height = child.explicitHeight || rowHeight;\n\n        child.x = widthTotal;\n        child.y = rowHeightTotal;\n\n        widthTotal += cloumnWidth + gridColumnGap;\n        cloumnIndex++;\n        if (widthTotal > columnWidthTotal) {\n            columnWidthTotal = widthTotal;\n        }\n        if (cloumnIndex >= column.list.length) {\n            cloumnIndex = 0;\n            widthTotal = 0;\n            if (rowHeight !== 0) {\n                rowHeightTotal += (rowHeight + gridRowGap);\n            } else {\n                rowHeightTotal += (child.height + gridRowGap);\n            }\n            if (!column.isInfinity)\n                rowIndex++;\n        }\n    }\n    columnWidthTotal = Math.max(target.width, columnWidthTotal - gridColumnGap);\n    rowHeightTotal = Math.max(target.height, rowHeightTotal - gridRowGap);\n\n    target.width = columnWidthTotal\n    target.height = rowHeightTotal\n    $tempRectangle.width = columnWidthTotal;\n    $tempRectangle.height = rowHeightTotal;\n    return $tempRectangle;\n\n}\n\n","import { DisplayObject } from \"../DisplayObject\";\nimport { DragEvent, DragDropController, InteractionEvent, ComponentEvent } from \"../../interaction/Index\";\nimport { TouchMouseEventEnum } from \"../../interaction/TouchMouseEventEnum\";\nimport { DisplayObjectAbstract } from \"../DisplayObjectAbstract\";\nimport { Stage } from \"../Stage\";\nimport { getDisplayObject, debug, getDisplayPathById } from \"../../utils/Utils\";\n\n\n/**\n *  \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestDrop\n */\nexport class UIBaseDrag implements Lifecycle {\n    /**\n     * \n     */\n    public constructor(target: DisplayObject) {\n        this.target = target;\n        this.target.plugs.set(UIBaseDrag.key, this);\n    }\n\n    public static key = \"UIBaseDrag\";\n\n    private target: DisplayObject | undefined;\n    public $targetParent: DisplayObject | Stage | undefined;\n    /** \n     * \n     *  @default\n     */\n    private dragInitialized = false;\n    /** \n     * \n     * @default\n    */\n    private dropInitialized = false;\n    /** \n     *  \n     */\n    private drag: DragEvent | undefined;\n    /**\n     * \n     * 0 \n     * 1 \n     * 2 \n     * 3 \n     * 4 \n     */\n    private _dragState: 0 | 1 | 2 | 3 | 4 = 0;\n    /** \n     *  \n     * \n     */\n    private _dragPosition = new vf.Point();\n    /**\n     * \n     */\n    private _containerStart: vf.Point | undefined;\n\n    /** \n     * \n     * @default\n     */\n    public dragging = false;\n    /** \n     * IDDragDropController \n     */\n    public get dragDropEventId(): number | undefined {\n        if (this.target) {\n            return this.target.attach.dragDropEventId as number;\n        }\n    }\n\n    /**\n     * \n     * @default false\n     */\n    public set draggable(value: boolean) {\n        if (value)\n            this.initDraggable();\n        else\n            this.clearDraggable();\n    }\n\n    /**\n     * \n     * @default false\n     */\n    public dragBoundary = false;\n    /**\n     * \b\n     */\n    public dragBounces = false;\n\n    /**\n     * ,XY,XY\n     */\n    private _dragRestrictAxis?: \"x\" | \"y\";\n    public get dragRestrictAxis() {\n        return this._dragRestrictAxis;\n    }\n    public set dragRestrictAxis(value) {\n        this._dragRestrictAxis = value;\n        if (this.drag) {\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n        }\n    }\n\n    /** \n     * \n     */\n    public get dragGroup(): string {\n        if (this.target) {\n            return this.target.attach.dragGroup as string;\n        }\n        return \"\";\n    }\n    public set dragGroup(value: string) {\n        if (this.target)\n            this.target.attach.dragGroup = value;\n    }\n\n    /**\n     * \n     */\n    private _dragContainer: DisplayObjectAbstract | undefined;\n    public get dragContainer() {\n        return this._dragContainer;\n    }\n    public set dragContainer(value) {\n        this._dragContainer = getDisplayObject(value, this.target);\n    }\n\n    /**\n     * \n     */\n    public set droppable(value: boolean | undefined) {\n        if (value)\n            this.initDroppable();\n        else\n            this.clearDroppable();\n    }\n\n    /**\n     * \n     */\n    private _droppableReparent: DisplayObject | undefined;\n    public get droppableReparent() {\n        return this._droppableReparent;\n    }\n    public set droppableReparent(value) {\n        this._droppableReparent = getDisplayObject(value, this.target);\n    }\n    /**\n     * \n     */\n    public dropGroup: string | undefined;\n\n    private _actionData: {type: string;data: vf.interaction.InteractionData;offset?: vf.Point;path?: string[]} | undefined;\n    \n    /**\n     * \n     */\n    public get actionData(){\n        return JSON.stringify(this._actionData);\n    }\n    public set actionData(data: string){\n        const drag = this.drag;\n        const value = JSON.parse(data) as  {type: string;data: vf.interaction.InteractionData;offset?: vf.Point;path: string[]};\n        const e = new InteractionEvent();\n        const dragState = this._dragState;\n        e.type = value.type;\n        e.data = value.data;\n        e.data.identifier = value.data.identifier * 1000;\n        e.signalling = true;\n        if(drag){\n            if(value.type === ComponentEvent.DRAG_TARGET) {\n                if(dragState !== 2){\n                    e.type = ComponentEvent.DRAG_START;\n                    e.data.global.x -=1;\n                    drag.executeAction(e);\n                    e.type = ComponentEvent.DRAG_MOVE;\n                    e.data.global.x += 1;\n                    drag.executeAction(e);\n                }\n                e.type = ComponentEvent.DRAG_TARGET;\n                this._dragPosition.set(e.data.tiltX,e.data.tiltY);\n                this.executeDrop(e,value.path);\n            }else if(value.type === ComponentEvent.DRAG_END) {\n                if(dragState !== 2){\n                    e.type = ComponentEvent.DRAG_START;\n                    e.data.global.x -= 1;\n                    drag.executeAction(e);\n                    e.type = ComponentEvent.DRAG_MOVE;\n                    drag.executeAction(e);\n                    e.data.global.x += 1;\n                }\n                e.type = ComponentEvent.DRAG_END;\n                this._dragPosition.set(e.data.tiltX,e.data.tiltY);\n                drag.executeAction(e);\n            }else{\n                drag.executeAction(e);\n            }\n            \n        }\n        \n    }\n\n    protected clearDraggable() {\n        if (this.dragInitialized) {\n            this.dragInitialized = false;\n            this.drag && this.drag.stopEvent();\n        }\n    }\n\n    protected initDraggable() {\n        if (this.target == undefined) {\n            return;\n        }\n        if (!this.dragInitialized) {\n\n            this.dragInitialized = true;\n            const containerStart = new vf.Point();\n            const stageOffset = new vf.Point();\n            this._containerStart = containerStart;\n            this._dragPosition.set(0, 0);\n\n            this.drag = new DragEvent(this.target);\n            this.drag.dragRestrictAxis = this._dragRestrictAxis;\n\n\n            // this.drag.onDragPress = (e: InteractionEvent,isPress: boolean) => {\n            //     if(isPress){\n            //         this._actionData = {type:ComponentEvent.DRAG_START,data: e.data};\n            //     }else{\n            //         this._actionData = {type:ComponentEvent.DRAG_START,data: e.data};\n            //     }\n                \n            // }\n\n            this.drag.onDragStart = (e: InteractionEvent) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                this._dragState = 1;\n                const target = this.target;\n                this.$targetParent = target.parent;\n\n                if (this._dragContainer == undefined && !this.dragBoundary) {\n                    this._dragContainer = this.target.stage;\n                }\n\n                const added = DragDropController.add(target, e);\n                if (!this.dragging && added) {\n                    target.emit(ComponentEvent.DRAG_START_BEFORE, target, e);\n                    this.dragging = true;\n                    target.interactive = false;\n                    containerStart.copyFrom(target.container.position);\n                    if (this._dragContainer) {\n                        let c: DisplayObjectAbstract | undefined;\n                        if (this._dragContainer instanceof DisplayObjectAbstract) {\n                            c = this._dragContainer;\n                        }\n                        if (c && target.parent) {\n                            //_this.container._recursivePostUpdateTransform();\n                            stageOffset.set(c.container.worldTransform.tx - target.parent.container.worldTransform.tx, c.container.worldTransform.ty - target.parent.container.worldTransform.ty);\n                            c.addChild(target);\n                            stageOffset.set(stageOffset.x / target.parent.scaleX, stageOffset.y / target.parent.scaleY);\n                        }\n                    } else {\n                        stageOffset.set(0);\n                    }\n                    if (debug) { //debug \n                        const stage = target.stage;\n                        if (stage) {\n                            stage.inputLog({\n                                code: ComponentEvent.DRAG_START,\n                                level: 'info', target: target,\n                                data: [target.parent, containerStart.x - stageOffset.x, containerStart.y - stageOffset.y],\n                                action: e.type,\n                                message: 'parent,start,offset pos',\n                            });\n                        }\n\n                    }\n                    this._actionData = {type:ComponentEvent.DRAG_START,data: e.data};\n                    target.emit(ComponentEvent.DRAG_START, target, e);\n                }\n            };\n\n\n            this.drag.onDragMove = (e: InteractionEvent, offset: vf.Point) => {\n                if (this.target == undefined) {\n                    return;\n                }\n                const target = this.target;\n                if (this.dragging && target.stage) {\n                    const x = containerStart.x + (offset.x / target.stage.scaleX) - stageOffset.x;\n                    const y = containerStart.y + (offset.y / target.stage.scaleY) - stageOffset.y;\n                    const dragPosition = this._dragPosition;\n                    if (this.dragRestrictAxis == \"x\") {\n                        dragPosition.set(x, containerStart.y - stageOffset.y);\n                    } else if (this.dragRestrictAxis == \"y\") {\n                        dragPosition.set(containerStart.x - stageOffset.x, y);\n                    } else {\n                        this._dragPosition.set(x, y);\n                    }\n                    if (this.dragBoundary && target.parent) {\n                        dragPosition.x = Math.max(0, dragPosition.x);\n                        dragPosition.x = Math.min(dragPosition.x, target.parent.width - target.width);\n                        dragPosition.y = Math.max(0, dragPosition.y);\n                        dragPosition.y = Math.min(dragPosition.y, target.parent.height - target.height);\n                    }\n                    if (debug) {//debug \n                        const stage = target.stage;\n                        if (stage) {\n                            stage.inputLog({\n                                code: ComponentEvent.DRAG_MOVE,\n                                level: 'info',\n                                target: target,\n                                data: [target.parent, dragPosition.x, dragPosition.y],\n                                action: e.type,\n                                message: 'parent,move pos'\n                            });\n                        }\n\n                    }\n                    this._dragState = 2;\n                    target.setPosition(this._dragPosition.x, this._dragPosition.y);\n                    this._actionData = {type:ComponentEvent.DRAG_MOVE,data: e.data,offset};\n                    target.emit(ComponentEvent.DRAG_MOVE, target, e);\n                }\n\n            };\n\n            this.drag.onDragEnd = (e: InteractionEvent) => {\n                if (this.dragging) {\n                    this.dragging = false;\n                    //0\n                    setTimeout(() => {\n                        if (this.target == undefined) {\n                            return;\n                        }\n                        //dragBounces\n                        const target = this.target;\n                        const parent = this.$targetParent;\n                        target.interactive = true;\n                        const item = DragDropController.getItem(target);\n                        const dragPosition = this._dragPosition;\n                        target.emit(ComponentEvent.DRAG_END_BEFORE, target, e);\n                        if (item && parent) {\n                            if (target.parent !== parent && target.parent) {\n                                parent.container.toLocal(target.container.position, target.container.parent, dragPosition);\n                                parent.addChild(target);\n                                target.x = dragPosition.x;\n                                target.y = dragPosition.y;\n                            }\n                            if (this.dragBounces && this._containerStart) {\n                                target.x = this._containerStart.x;\n                                target.y = this._containerStart.y;\n                            }\n                        }\n                        if (debug) {//debug \n                            const stage = target.stage;\n                            if (stage) {\n                                stage.inputLog({\n                                    code: ComponentEvent.DRAG_END,\n                                    level: 'info',\n                                    target: target,\n                                    data: [target.parent, target.x, target.y],\n                                    action: e.type,\n                                    message: 'parent,end pos'\n                                });\n                            }\n\n                        }\n                        this._dragState = 3;\n                        e.data.tiltX = dragPosition.x;\n                        e.data.tiltY = dragPosition.y;\n                        this._actionData = {type:ComponentEvent.DRAG_END,data: e.data};\n                        target.emit(ComponentEvent.DRAG_END, target, e);\n\n\n                    }, 0);\n                }\n\n            };\n        }\n    }\n\n    protected clearDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        const target = this.target;\n        if (this.dropInitialized) {\n            this.dropInitialized = false;\n            target.container.off(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            target.container.off(TouchMouseEventEnum.touchend, this.onDrop, this);\n        }\n    }\n\n    protected initDroppable() {\n        if (this.target == undefined) {\n            return;\n        }\n        const target = this.target;\n        if (!this.dropInitialized) {\n            this.dropInitialized = true;\n            const container = target.container;\n            //self = this;\n            container.interactive = true;\n            container.on(TouchMouseEventEnum.mouseup, this.onDrop, this);\n            container.on(TouchMouseEventEnum.touchend, this.onDrop, this);\n\n        }\n    }\n\n    private onDrop(e: InteractionEvent) {\n\n        if (this.target == undefined) {\n            return;\n        }\n        const target = this.target;\n        const item = DragDropController.getEventItem(e, this.dropGroup);\n        if (item && item.dragOption.dragging) {\n            item.dragOption.dragging = false;\n            item.interactive = true;\n            const  dragPosition = this._dragPosition;\n            const parent = item.dragOption.droppableReparent !== undefined ? item.dragOption.droppableReparent : target;\n            if (parent) {\n                parent.container.toLocal(item.container.position, item.container.parent, dragPosition);\n                item.x = dragPosition.x;\n                item.y = dragPosition.y;\n                if (parent != item.parent) {\n                    parent.addChild(item);\n                    parent.emit(ComponentEvent.DROP_TARGET, parent, item, e);\n                }\n                item.dragOption.$targetParent = parent;\n            }\n            if (debug) {//debug \n                const stage = target.stage;\n                if (stage) {\n                    stage.inputLog({\n                        code: ComponentEvent.DRAG_TARGET,\n                        level: 'info',\n                        target: item,\n                        data: [target.parent, item.x, item.y],\n                        action: e.type,\n                        message: 'drag target,item pos'\n                    });\n                }\n\n            }\n            this._dragState = 4;\n            e.data.tiltX = dragPosition.x;\n            e.data.tiltY = dragPosition.y;\n            item.dragOption._actionData = {type:ComponentEvent.DRAG_TARGET,data: e.data,path:getDisplayPathById(parent)};\n            item.emit(ComponentEvent.DRAG_TARGET, item, e);\n            \n        }\n    }\n\n    /**\n     * \n     */\n    private executeDrop(e: InteractionEvent,parsentPath: string[]){\n        if(this.target && this.target.stage && parsentPath) {\n            const parent = this.target.stage.getChildByPath(parsentPath);\n            const item = this.target;\n            item.dragOption.dragging = false;\n            item.interactive = true;\n            if (parent) {\n                item.x = this._dragPosition.x;\n                item.y = this._dragPosition.y;\n                if (parent != item.parent) {\n                    parent.addChild(item);\n                    parent.emit(ComponentEvent.DROP_TARGET, parent, item, e);\n                }\n                this.$targetParent = parent as DisplayObject;\n                item.emit(ComponentEvent.DRAG_TARGET, item, e);\n            }\n        }\n    }\n\n    load() {\n        //\n    }\n\n    release() {\n\n        this.clearDraggable();\n        this.clearDroppable();\n\n        if (this.target) {\n            this.target.plugs.delete(UIBaseDrag.key);\n            this.target = undefined;\n            this.$targetParent = undefined;\n            this.dragContainer = undefined;\n        }\n    }\n\n}","import { DisplayObject } from \"../DisplayObject\";\nimport { ClickEvent } from \"../../interaction/Index\";\n\n/**\n *  \n * \n */\nexport class UIClick implements Lifecycle {\n    /**\n     * \n     */\n    public constructor(target: DisplayObject) {\n        this._target = target;\n        this._target.plugs.set(UIClick.key, this);\n        this._clickEvent = new ClickEvent(target,true);;\n    }\n\n    public static key = \"UIClick\";\n    private _target: DisplayObject | undefined;\n    private _clickEvent:ClickEvent;\n\n    load() {\n\n    }\n\n    release() {\n\n        this._clickEvent.remove();\n        if (this._target) {\n            this._target.plugs.delete(UIClick.key);\n            this._target = undefined;\n        }\n    }\n\n}","export class Filter extends vf.Filter {\n\n    public static isFilter = true;\n    public static defaultFilterVertex = vf.defaultFilterVertex;\n    public static list = new Map<string,boolean>();\n\n    constructor(vertexSrc?: string, fragmentSrc?: string, uniforms?: { [key: string]: any }) {\n        super(vertexSrc, fragmentSrc, uniforms);\n    }\n}","import {Container} from \"./Container\";\nimport * as Ticker from \"../core/Ticker\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent} from \"../interaction/DragEvent\";\nimport {MouseScrollEvent} from \"../interaction/MouseScrollEvent\";\nimport {InteractionEvent} from \"../event/InteractionEvent\";\nimport { now } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { ContainerBase } from \"../core/ContainerBase\";\nimport { DisplayObjectAbstract } from \"../core/DisplayObjectAbstract\";\n\n\n/**\n * \n * \n * @example let scrollingContainer = new vf.gui.ScrollingContainer();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestRect\n */\nexport class ScrollingContainer extends Container {\n    public constructor() {\n        super();\n        \n        this.container.addChild(this._innerContainer);\n        this.container.name = \"ScrollingContainer\";\n        this._innerContainer.name = \"innerContainer\";\n        \n        const _graphics = new vf.Graphics();\n        _graphics.clear();\n        _graphics.beginFill(0xffcc00);   \n        _graphics.drawRoundedRect(0,0,200,200,0);\n        _graphics.endFill();\n        this.style.maskImage =_graphics;   \n\n        this.dragEvent.onDragStart = () => {\n            if (!this.scrolling) {\n                this._containerStart.copyFrom(this._innerContainer.position);\n                this._Position.copyFrom(this._innerContainer.position);\n                this.scrolling = true;\n                this.setScrollPosition();\n                Ticker.shared.addUpdateEvent(this.updateScrollPosition, this);\n            }\n        };\n\n        this.dragEvent.onDragMove = (e: InteractionEvent, offset: vf.Point) => {\n            if (this.scrollX)\n                this._targetPosition.x = this._containerStart.x + offset.x;\n            if (this.scrollY)\n                this._targetPosition.y = this._containerStart.y + offset.y;\n        };\n\n        this.dragEvent.onDragEnd = () => {\n            if (this.scrolling) {\n                this.scrolling = false;\n                Ticker.shared.removeUpdateEvent(this.updateScrollPosition, this);\n            }\n        };\n        \n        const scrollSpeed = new vf.Point();\n        this.mouseScrollEvent.onMouseScroll = (e: WheelEvent,delta: vf.Point) => {\n            scrollSpeed.set(-delta.x * 0.2, -delta.y * 0.2);\n            this.setScrollPosition(scrollSpeed);\n        };\n\n    }\n    /**\n     * \n     * @default true\n     */\n    private _dragScrolling = true;\n    public get dragScrolling() {\n        return this._dragScrolling;\n    }\n    public set dragScrolling(value) {\n        this._dragScrolling = value;\n        //Drag scroll and Mouse scroll\n        if (value) {\n            this.mouseScrollEvent.startEvent();\n            this.dragEvent.startEvent();\n        }else{\n            this.mouseScrollEvent.stopEvent();\n            this.dragEvent.stopEvent();\n        }\n    }\n    /**\n     *  (0-1) \n     * @default 0.5\n     */\n    public softness = 0.5;\n    /** \n     *  0\n     * @default 0\n     */\n    public radius = 0;\n    /**\n     * \n     */\n    public expandMask = 0;\n    /** \n     *  \n     * @default false\n     */\n    public animating = false;\n    /** \n     *  \n     * @default false\n     */\n    public scrollX = false;\n    /**\n     * \n     */\n    public scrollY = false;\n    \n    /**\n     * \n     * @private\n     */\n    private _innerContainer = new ContainerBase();\n    /**\n     * \n     */\n    public innerBounds = new vf.Rectangle();\n    /** \n     * \n     */\n    private dragEvent = new DragEvent(this);\n    /**\n     * \n     */\n    private mouseScrollEvent = new MouseScrollEvent(this,true);\n    /**\n     * \n     */\n    private scrolling = false;\n    /**\n     * \n     */\n    private _boundCached = now() - 1000;\n\n    private _lastWidth = 0;\n    private _lastHeight = 0;\n\n    private _isInitScrolling = false;\n\n    private _containerStart = new vf.Point();\n    private _targetPosition = new vf.Point();\n    private _lastPosition = new vf.Point();\n    private _Position = new vf.Point();\n    private _Speed = new vf.Point();\n    private _stop = false;\n\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        if (this._lastWidth != unscaledWidth || this._lastHeight != unscaledHeight) {\n            super.updateDisplayList(unscaledWidth, unscaledHeight);\n            const _of = this.expandMask;\n            this.style.maskPosition = [_of,_of];\n            \n            this._lastWidth = unscaledWidth;\n            this._lastHeight = unscaledHeight;\n            this.style.maskSize = [unscaledWidth,unscaledHeight];\n            this.setScrollPosition();\n        }\n    }\n\n    protected setScrollPosition(speed?: vf.Point) {\n        if (speed) {\n            this._Speed = speed;\n        }\n\n        if (!this.animating) {\n            this.animating = true;\n            this._lastPosition.copyFrom(this._innerContainer.position);\n            this._targetPosition.copyFrom(this._innerContainer.position);\n            this.updateScrollPosition(0);\n        }\n    }\n\n\n    public addChildAt<T extends DisplayObjectAbstract>(item: T, index: number): T {\n\n        if (item.parent) {\n            item.parent.removeChild(item);\n        }\n\n        item.parent = this as any;    \n        index = Math.min(this._innerContainer.children.length,index);\n        this._innerContainer.addChildAt(item.container, index);\n        this.uiChildren.splice(index, 0, item);\n        this.getInnerBounds(true);\n        \n        return item as any;\n    }\n\n    protected getInnerBounds(force?: boolean) {\n\n        //this is a temporary fix, because we cant rely on innercontainer height if the children is positioned > 0 y.\n        if (force || now() - this._boundCached > 1000) {\n            this._innerContainer.getLocalBounds(this.innerBounds);\n            this.innerBounds.height = this.innerBounds.y + this._innerContainer.height;\n            this.innerBounds.width = this.innerBounds.x + this._innerContainer.width;\n            this._boundCached = now();\n        }\n        return this.innerBounds;\n    }\n\n\n\n    $onInit(){\n        super.$onInit();\n        this.initScrolling();\n    }\n    protected initScrolling() {\n\n        this._isInitScrolling = true;\n\n        this.updateScrollBars();\n    }\n\n    protected updateScrollBars() {\n        this.emit(ComponentEvent.CHANGE,this)\n    }\n\n\n    /**\n     * \n     * @param direction \n     * @param pct 0-1\n     */\n    public forcePctPosition(direction: \"x\" | \"y\", pct: number) {\n        const bounds = this.getInnerBounds();\n        if (this.scrollX && direction == \"x\") {\n            this._innerContainer.position[direction] = -((bounds.width - this._width) * pct);\n        }\n        if (this.scrollY && direction == \"y\") {\n            this._innerContainer[direction] = -((bounds.height - this._height) * pct);\n        }\n        this._Position[direction] = this._targetPosition[direction] = this._innerContainer.position[direction];\n    }\n\n    /**  */\n    public focusPosition(pos: vf.Point) {\n        const bounds = this.getInnerBounds();\n\n        let dif;\n        if (this.scrollX) {\n            const x = Math.max(0, (Math.min(bounds.width, pos.x)));\n            if (x + this._innerContainer.x > this._width) {\n                dif = x - this._width;\n                this._innerContainer.x = -dif;\n            }\n            else if (x + this._innerContainer.x < 0) {\n                dif = x + this._innerContainer.x;\n                this._innerContainer.x -= dif;\n            }\n        }\n\n        if (this.scrollY) {\n            const y = Math.max(0, (Math.min(bounds.height, pos.y)));\n\n            if (y + this._innerContainer.y > this._height) {\n                dif = y - this._height;\n                this._innerContainer.y = -dif;\n            }\n            else if (y + this._innerContainer.y < 0) {\n                dif = y + this._innerContainer.y;\n                this._innerContainer.y -= dif;\n            }\n        }\n\n        this._lastPosition.copyFrom(this._innerContainer.position);\n        this._targetPosition.copyFrom(this._innerContainer.position);\n        this._Position.copyFrom(this._innerContainer.position);\n        this.updateScrollBars();\n    }\n\n\n    protected updateScrollPosition(delta: number) {\n        this._stop = true;\n        if (this.scrollX) this.updateDirection(\"x\", delta);\n        if (this.scrollY) this.updateDirection(\"y\", delta);\n        //if (this._stop) {\n            this.animating = false;\n        //}\n    }\n\n    protected updateDirection(direction: \"x\" | \"y\", delta: number) {\n        delta = delta * 0.001;\n\n        const bounds = this.getInnerBounds();\n\n        let min: number;\n        if (direction == \"y\")\n            min = Math.round(Math.min(0, this._height - bounds.height));\n        else\n            min = Math.round(Math.min(0, this._width - bounds.width));\n\n        if (!this.scrolling && Math.round(this._Speed[direction]) !== 0) {\n\n            this._targetPosition[direction] += this._Speed[direction];\n            this._Speed[direction] = Utils.Lerp(this._Speed[direction], 0, (5 + 2.5 / Math.max(this.softness, 0.01)) * delta);\n\n            if (this._targetPosition[direction] > 0) {\n                this._targetPosition[direction] = 0;\n\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._targetPosition[direction] = min;\n\n            }\n        }\n        \n        if (!this.scrolling && Math.round(this._Speed[direction]) === 0 && (this._innerContainer[direction] > 0 || this._innerContainer[direction] < min)) {\n            const target = this._Position[direction] > 0 ? 0 : min;\n            this._Position[direction] = Utils.Lerp(this._Position[direction], target, (40 - (30 * this.softness)) * delta);\n            this._stop = false;\n        }\n        else if (this.scrolling || Math.round(this._Speed[direction]) !== 0) {\n\n            if (this.scrolling) {\n                this._Speed[direction] = this._Position[direction] - this._lastPosition[direction];\n                this._lastPosition.copyFrom(this._Position);\n            }\n            if (this._targetPosition[direction] > 0) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = 100 * this.softness * (1 - Math.exp(this._targetPosition[direction] / -200));\n            }\n            else if (this._targetPosition[direction] < min) {\n                this._Speed[direction] = 0;\n                this._Position[direction] = min - (100 * this.softness * (1 - Math.exp((min - this._targetPosition[direction]) / -200)));\n            }\n            else {\n                this._Position[direction] = this._targetPosition[direction];\n            }\n            this._stop = false;\n        }\n\n        this._innerContainer.position[direction] = Math.round(this._Position[direction]);\n\n        this.updateScrollBars();\n    }\n\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport { log, getTexture, getSheet } from \"../utils/Utils\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n/**\n * \n * \n * texturepacker\n * \n * @example let spriteAnimated = new vf.gui.SpriteAnimated();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestSpriteAnimated\n */\nexport class SpriteAnimated extends DisplayObject{\n    public constructor(){\n        super();\n        this._animatedSprites = new Map();\n    }\n\n\n    private _animatedSprites: Map<string,vf.AnimatedSprite>;\n    private _lastAnimatedName = \"\";\n    private _curFrameNumber = 0;\n    private _setTimeoutId = -1;\n\n    /**\n     * \n     */\n    private _animationName = \"default\";\n    public get animationName() {\n        return this._animationName;\n    }\n    public set animationName(value) {\n        if(this._animationName == value){\n            return;\n        }\n        this._animationName = value;\n        this.animatedNameSystem();\n    }\n    /**\n     * \n     */\n    private _src: vf.Spritesheet | vf.Texture[] | undefined;\n    public get src(): vf.Spritesheet | vf.Texture[] | undefined {\n        return this._src;\n    }\n    public set src(value: vf.Spritesheet | vf.Texture[] | undefined) {\n        this._src = value;\n        if(value === undefined){\n            this.releaseAnimate();\n        }else{\n            this.srcSystem();\n        }\n        \n    }\n    /**\n     * \n     */\n    private _animationSpeed = 0.1;\n    public get animationSpeed() {\n        return this._animationSpeed;\n    }\n    public set animationSpeed(value) {\n        this._animationSpeed = value;\n        this.attribSystem();\n    }\n    /** \n     * \n     */\n    private _loop = false;\n    public get loop() {\n        return this._loop;\n    }\n    public set loop(value) {\n        this._loop = value;\n        this.attribSystem()\n    }\n\n    private _playCount = 0;\n    /** \n     * \n     */\n    private _loopCount = 0;\n    public get loopCount() {\n        return this._loopCount;\n    }\n    public set loopCount(value) {\n        this._loopCount = value;\n    }\n    /** \n     * \n     */\n    private _playing = false;\n    public get playing() {\n        return this._playing;\n    }\n\n    /**\n     *  0-1,  TexturePackersheet anchor\n     */\n    private _anchorX = 0;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.attribSystem();\n    }\n    /**\n     *  0-1,  TexturePackersheet anchor\n     */\n    private _anchorY = 0;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.attribSystem();\n    }\n   \n    /** N */\n    public gotoAndPlay(frameNumber: number){\n        this._curFrameNumber = frameNumber;    \n        this._playing = true;\n        this.playSystem();\n    }\n\n    /** N */\n    public gotoAndStop(frameNumber: number){\n\n        this._curFrameNumber = frameNumber;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /**  */\n    public stop(){\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = false;\n        this.playSystem();\n    }\n\n    /**  */\n    public play(){\n        this._playCount = 0;\n        this._curFrameNumber = 0;\n        this._playing = true;\n        this.playSystem();\n    }\n\n    public get autoPlay() {\n        return this._playing;\n    }\n    public set autoPlay(value) {\n        this._playing = value;\n    }\n    \n    public set isPlay(value: boolean){\n        if(value){\n            this.play();\n        }else{\n            this.stop();\n        }\n    }\n\n    /** \n     *  \n     */\n    public addAnimated(animationName: string,textures: vf.Texture[]){\n        const sp = this._animatedSprites.get(animationName);\n        if(sp){\n            if(sp.parent)\n                sp.parent.removeChild(sp);\n            sp.removeAllListeners();\n            sp.destroy();\n        }\n        this._animatedSprites.set(animationName,new vf.AnimatedSprite(textures));\n    }\n\n    public release(){\n        if(this._setTimeoutId){\n            clearTimeout(this._setTimeoutId);\n        }\n        super.release();\n        this.releaseAnimate();\n        this.src = undefined;\n    }\n\n    protected releaseAnimate(){\n        this._animatedSprites.forEach(element => {\n            if(element.parent){\n                element.parent.removeChild(element)\n            }\n            element.removeAllListeners();\n            element.destroy();\n        });\n        this._animatedSprites.clear();\n    }\n\n    protected srcSystem(){\n\n        this.releaseAnimate();\n        const src = getSheet(this.src);\n        if(src){\n            if(Array.isArray(src)){\n                const textures: vf.Texture[] = [];\n                src.forEach(value=>{\n                    textures.push(getTexture(value));\n                });\n                this.addAnimated(\"default\",textures);\n            }else{\n                for(const key in src.animations){\n                    this.addAnimated(key,src.animations[key]);\n                }\n            }\n            this.animatedNameSystem();\n        }\n    }\n\n    protected animatedNameSystem(){\n\n        if(this._animatedSprites.size == 0){\n            return;\n        }\n        if(this.animationName === this._lastAnimatedName){\n            return;\n        }\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp == undefined){\n            log(`Warning SpriteAnimated -> _animatedSprites[${this.animationName}] == undefined`);\n            return;\n        }\n        const lastAnimated = this._animatedSprites.get(this._lastAnimatedName);\n        animatedSp.onLoop = ()=>{\n            this.emit(ComponentEvent.LOOP,this);\n            this._playCount++;\n            if(this._loopCount!==0 && this._playCount>=this._loopCount){\n                this.stop();\n            }\n        }\n        animatedSp.onComplete = ()=>{\n            this.emit(ComponentEvent.COMPLETE,this);\n        }\n        if(animatedSp.parent == undefined){\n            clearTimeout(this._setTimeoutId);\n            this._setTimeoutId = setTimeout(() => {\n                //setTimeout\n                this.container.addChild(animatedSp);\n            }, 0);\n            \n        }\n        \n        if(lastAnimated && lastAnimated.parent){\n            lastAnimated.stop();\n            lastAnimated.parent.removeChild(lastAnimated);\n        }\n        this._lastAnimatedName = this.animationName;\n\n        this._curFrameNumber = 0;\n        this.emit(ComponentEvent.CHANGE,this,this.animationName);\n\n\n        this.attribSystem();\n        this.playSystem();\n    }\n\n    protected playSystem(){\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp){\n            if(this.playing){\n                animatedSp.gotoAndPlay(this._curFrameNumber);\n            }else{\n                animatedSp.gotoAndStop(this._curFrameNumber);\n            }\n        }\n    }\n\n    protected attribSystem(){\n        const animatedSp = this._animatedSprites.get(this.animationName);\n        if(animatedSp){\n            animatedSp.loop = this.loop;\n            animatedSp.animationSpeed = this.animationSpeed;\n            animatedSp.anchor.set(this.anchorX,this.anchorY);\n        }\n    }\n\n}","import HtmlInput from \"./private/HtmlInput\";\nimport { KeyEvent } from \"../event/KeyEvent\";\nimport { componentToHex } from \"../utils/Utils\";\nimport { InputBase } from \"./private/InputBase\";\nimport { Image } from \"./Image\";\nimport { ComponentEvent } from \"../interaction/Index\";\n\n\n/**\n * \n * \n * @example let textInput = new vf.gui.TextInput(true|false);//\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTextInput\n */\nexport class TextInput extends InputBase {\n\n    constructor(multiline = false) {\n        super();\n\n        this._inputStyle = Object.assign(\n            {\n                position: 'absolute',\n                background: 'none',\n                border: 'none',\n                outline: 'none',\n                transformOrigin: '0 0',\n                padding: '5px 8px',\n                color: '#26272e',\n                lineHeight: '1',\n                fontSize: \"25px\"\n            },\n            {\n                multiline: multiline\n            }\n        ) as any;\n\n        this.htmlInputShared = new HtmlInput(this._inputStyle.multiline);\n        this.htmlInputShared.setStyle(this._inputStyle);\n        this.htmlInputShared.on(KeyEvent.input, this._onInputInput, this);\n        this.htmlInputShared.on('focus', this._onFocused, this);\n        this.htmlInputShared.on('blur', this._onBlurred, this);\n\n        this.img.fillMode = \"scale\";\n        this.img.scale9Grid = [3, 3, 3, 3];\n        this.addChild(this.img);\n\n        this._textHitbox = new vf.Graphics();\n        this._textHitbox.name = \"_textHitbox\";\n        this._textHitbox.alpha = 0;\n        this._textHitbox.interactive = true;\n        this._textHitbox.cursor = 'text';\n        this._textHitbox.on('pointerdown', this._ontextFocus, this);\n        this.container.addChild(this._textHitbox);\n\n        this._textMask = new vf.Graphics();\n        this._textMask.name = \"_textMask\";\n        this.container.addChild(this._textMask);\n\n        this._text = new vf.Text('', {});\n        this._text.name = \"_text\";\n        this._text.visible = false;\n        this.container.addChild(this._text);\n\n        this._text.mask = this._textMask;\n\n        this._domVisible = false;\n\n        this.container.interactiveChildren = true;\n\n        this.on(ComponentEvent.STATE_CHANGE,this.onStateChange,this);\n        this.container.isEmitRender = false;\n        this.container.on(\"renderChange\",this.updateSystem,this);\n        \n    }\n\n    protected _oldState = \"\";\n\n    protected htmlInputShared: HtmlInput;\n\n    protected _lastRenderer: vf.Renderer | undefined;\n    protected _resolution = 1;\n    protected _canvasBounds: { top: number; left: number; width: number; height: number } | undefined;\n    protected _previous: { canvasBounds: any; worldTransform: any; worldAlpha: any; worldVisible: any } | any = {};\n\n    protected _inputStyle: InputStyle;\n    /**\n     * \n     */\n    protected placeholderColor = 0xa9a9a9;\n    protected _domVisible = true;\n\n    protected _textHitbox: vf.Graphics;\n    protected _textMask: vf.Graphics;\n    protected _text: vf.Text;\n\n\n    protected _fontMetrics: vf.IFontMetrics | undefined;\n    protected state = 'DEFAULT';\n\n    /**\n     * \n     */\n    public get text() {\n        return this._text.text;\n    }\n    public set text(value) {\n        this._text.text = value;\n        this.container.isEmitRender = true;\n    }\n    /**\n     * \n     */\n    private _placeholder = '';\n    public get placeholder() {\n        return this._placeholder;\n    }\n    public set placeholder(value) {\n        this._placeholder = value;\n        this.container.isEmitRender = true;\n    }\n    /**\n     * \n     */\n    private _maxLength = 99999;\n    public get maxLength() {\n        return this._maxLength;\n    }\n    public set maxLength(value) {\n        this._maxLength = value;\n        this.container.isEmitRender = true;\n    }\n    /** \n     * \n     */\n    private _restrict: RegExp | undefined;\n    public get restrict(): RegExp | undefined {\n        return this._restrict;\n    }\n    public set restrict(value: RegExp | undefined) {\n        this._restrict = value;\n        this.container.isEmitRender = true;\n    }\n\n    /** \n     * \n    */\n    public readonly img = new Image();\n\n\n    // GETTERS & SETTERS\n    public updateSystem(renderer?: vf.Renderer) {\n\n        if(renderer === undefined){\n            return;\n        }\n        const { htmlInputShared } = this;\n\n        htmlInputShared.maxlength = this.maxLength;\n        htmlInputShared.placeholder = this.placeholder;\n        htmlInputShared.disabled = !this.enabled;\n        htmlInputShared.restrict = this.restrict;\n\n        this.setInputStyle(\"fontFamily\", this.style.fontFamily);\n        this.setInputStyle(\"fontSize\", this.style.fontSize);\n        this.setInputStyle(\"color\", this.style.color);\n\n        this.setInputStyle(\"width\", this._width + \"px\");\n        this.setInputStyle(\"height\", this._height + \"px\");\n       \n        this.render(renderer);\n\n        this.onStateChange(this, this.currentState);\n        this.container.isEmitRender = false;\n    }\n\n    /** \n     *  \n     */\n    public focus() {\n        this.htmlInputShared.focus();\n\n    }\n    /** \n     *  \n     */\n    public blur() {\n        this.htmlInputShared.blur();\n    }\n\n    /**\n     * css style\n     * @param key \n     * @param value \n     */\n    public setInputStyle(key: any, value: any) {\n        if (key === \"fontSize\") {\n            value = value + \"px\";\n        }\n        if (key === \"color\") {\n            value = \"#\" + componentToHex(value);\n        }\n        this._inputStyle[key] = value;\n        this.htmlInputShared.setStyleValue(key, value);\n    }\n\n    protected onStateChange(ui: TextInput, state: string) {\n        if (this._oldState == state) {\n            return;\n        }\n        if (!this.enabled) {\n            this.currentState = \"disabled\";\n        }\n        this._oldState = state;\n        const img = this.img;\n        img.src = (this as any)[state];\n    }\n\n    // SETUP\n    private _onInputInput() {\n        this._updateSubstitution();\n    }\n\n    private _onFocused() {\n        this._setState('FOCUSED');\n    }\n\n    private _onBlurred() {\n        this._setState('DEFAULT');\n    }\n\n\n    private _setState(state: string) {\n        this.state = state;\n        this._updateSubstitution();\n    }\n\n    private _updateSubstitution() {\n        if (this.state === 'FOCUSED') {\n            this._domVisible = true;\n            this._text.visible = false;\n        } else {\n            this._domVisible = false;\n            this._text.visible = true;\n        }\n        this._updateDOMInput();\n        this._updatetext();\n    }\n\n\n    // RENDER & UPDATE\n    // for VF v5\n    public render(renderer: vf.Renderer) {\n        this._renderInternal(renderer);\n    }\n\n    private _renderInternal(renderer: vf.Renderer) {\n        this._resolution = renderer.resolution;\n        this._lastRenderer = renderer;\n        this._canvasBounds = this._getCanvasBounds();\n        if (this._needsUpdate()) {\n            this._updateSubstitution();\n        }\n\n    }\n\n    private _updateDOMInput() {\n        if (!this._canvasBounds)\n            return;\n        const cb = this._canvasBounds;\n        const transform = this._vfMatrixToCSS(this._getDOMRelativeWorldTransform());\n        this.htmlInputShared.updatePostion(cb.top, cb.left, transform, this.container.worldAlpha);\n        this.htmlInputShared.visible = this.container.worldVisible && this._domVisible;\n\n        this._previous.canvasBounds = this._canvasBounds;\n        this._previous.worldTransform = this.container.worldTransform.clone();\n        this._previous.worldAlpha = this.container.worldAlpha;\n        this._previous.worldVisible = this.container.worldVisible;\n    }\n\n    // STATE COMPAIRSON (FOR PERFORMANCE BENEFITS)\n    private _needsUpdate() {\n        return (\n            !this._comparevfMatrices(this.container.worldTransform, this._previous.worldTransform)\n            || !this._compareClientRects(this._canvasBounds, this._previous.canvasBounds)\n            || this.container.worldAlpha != this._previous.worldAlpha\n            || this.container.worldVisible != this._previous.worldVisible\n        )\n    }\n\n    private _updatetext() {\n\n        const padding = this._derivetextPadding();\n        const inputBounds = this.htmlInputShared.getDOMInputBounds();\n\n        this._text.style = this._derivetextStyle();\n        this._text.style.padding = Math.max(...padding);\n        this._text.y = this._inputStyle.multiline ? padding[0] : (inputBounds.height - this._text.height) / 2;\n        this._text.x = padding[3];\n        if (this._inputStyle.multiline) {\n            this._text.style.wordWrap = true;\n            this._text.style.wordWrapWidth = inputBounds.width;\n            this._text.style.breakWords = true;\n        }\n\n        this._text.text = this._derivetextText();\n\n        this._textHitbox.clear();\n        this._textHitbox.beginFill(0);\n        this._textHitbox.drawRect(0, 0, inputBounds.width, inputBounds.height);\n        this._textHitbox.endFill();\n        this._textHitbox.interactive = this.enabled;\n\n        this._textMask.clear();\n        this._textMask.beginFill(0);\n        this._textMask.drawRect(padding[3], 0, inputBounds.width - padding[3] - padding[1], inputBounds.height);\n        this._textMask.endFill();\n\n        this.img.width = inputBounds.width;\n        this.img.height = inputBounds.height;\n    }\n\n\n    private _ontextFocus() {\n        this.htmlInputShared.visible = true;\n        //sometimes the input is not being focused by the mouseclick\n        setTimeout(this._ensureFocus.bind(this), 10);\n    }\n\n    private _ensureFocus() {\n        if (!this._hasFocus())\n            this.focus();\n    }\n\n    private _derivetextStyle() {\n        const style: any = new vf.TextStyle()\n\n        for (const key in this._inputStyle) {\n            switch (key) {\n                case 'color':\n                    style.fill = this._inputStyle.color;\n                    break\n                case 'fontFamily':\n                case 'fontSize':\n                case 'fontWeight':\n                case 'fontVariant':\n                case 'fontStyle':\n                    style[key] = this._inputStyle[key];\n                    break\n                case 'letterSpacing':\n                    style.letterSpacing = parseFloat(this._inputStyle.letterSpacing as any);\n                    break\n            }\n        }\n\n        if (this._inputStyle.multiline) {\n            style.lineHeight = parseFloat(style.fontSize);\n            style.wordWrap = true;\n            style.wordWrapWidth = this.htmlInputShared.getDOMInputBounds().width;\n        }\n\n        if (this.htmlInputShared.value.length === 0)\n            style.fill = this.placeholderColor;\n\n        return style;\n    }\n\n    private _derivetextPadding() {\n        const indent = this._inputStyle.textIndent ? parseFloat(this._inputStyle.textIndent) : 0\n\n        if (this._inputStyle.padding && this._inputStyle.padding.length > 0) {\n            const components = this._inputStyle.padding.trim().split(' ');\n\n            if (components.length == 1) {\n                const padding = parseFloat(components[0]);\n                return [padding, padding, padding, padding + indent];\n            } else if (components.length == 2) {\n                const paddingV = parseFloat(components[0]);\n                const paddingH = parseFloat(components[1]);\n                return [paddingV, paddingH, paddingV, paddingH + indent];\n            } else if (components.length == 4) {\n                const padding = components.map(component => {\n                    return parseFloat(component);\n                })\n                padding[3] += indent;\n                return padding;\n            }\n        }\n\n        return [0, 0, 0, indent];\n    }\n\n    private _derivetextText() {\n        return this.htmlInputShared.value.length === 0 ? this.placeholder : this.htmlInputShared.value;\n    }\n\n    // private _updateFontMetrics() {\n    //     const style = this._derivetextStyle();\n    //     const font = style.toFontString();\n    //     this._fontMetrics = vf.TextMetrics.measureFont(font);\n    // }\n\n    // HELPER FUNCTIONS\n\n    private _hasFocus() {\n        return document.activeElement === this.htmlInputShared.domInput;\n    }\n\n    private _getCanvasBounds() {\n        if (this._lastRenderer) {\n            const rect = this._lastRenderer.view.getBoundingClientRect();\n            const bounds = { top: rect.top, left: rect.left, width: rect.width, height: rect.height };\n            bounds.left += window.scrollX;\n            bounds.top += window.scrollY;\n            return bounds;\n        }\n        return undefined;\n    }\n\n    private _getDOMRelativeWorldTransform() {\n        if (this._lastRenderer) {\n            const canvasBounds = this._lastRenderer.view.getBoundingClientRect();\n            const matrix = this.container.worldTransform.clone();\n\n            matrix.scale(this._resolution, this._resolution);\n            matrix.scale(canvasBounds.width / this._lastRenderer.width,\n                canvasBounds.height / this._lastRenderer.height)\n            return matrix;\n        }\n\n    }\n\n    private _vfMatrixToCSS(m: any) {\n        return 'matrix(' + [m.a, m.b, m.c, m.d, m.tx, m.ty].join(',') + ')';\n    }\n\n    private _comparevfMatrices(m1: any, m2: any) {\n        if (!m1 || !m2) return false\n        return (\n            m1.a == m2.a\n            && m1.b == m2.b\n            && m1.c == m2.c\n            && m1.d == m2.d\n            && m1.tx == m2.tx\n            && m1.ty == m2.ty\n        )\n    }\n\n    private _compareClientRects(r1: any, r2: any) {\n        if (!r1 || !r2) return false\n        return (\n            r1.left == r2.left\n            && r1.top == r2.top\n            && r1.width == r2.width\n            && r1.height == r2.height\n        )\n    }\n\n    public release() {\n\n        super.release();\n\n        this.container.removeChild(this._text);\n        this.container.removeChild(this._textHitbox);\n\n        this.img.release();\n\n        this._text.destroy();\n        this._textHitbox && this._textHitbox.destroy();\n\n        this.htmlInputShared.release();\n\n        this.container.off(\"renderChange\",this.updateSystem,this);\n        this.offAll(ComponentEvent.STATE_CHANGE);\n\n    }\n\n\n}\n\n","import { KeyEvent } from \"../../event/KeyEvent\";\n\n/**\n * VFJSHTML\n */\nexport default class HtmlInput extends vf.utils.EventEmitter {\n    public constructor(multiline: boolean) {\n        super();\n        console.log(\"HtmlInput\");\n        this._domInput = this.addDom(multiline);\n        this.visible = false;\n        document.body.appendChild(this._domInput);\n    }\n\n    private _domInput: HTMLInputElement | HTMLTextAreaElement;\n    private _selection = [0, 0];\n    private _restrictRegex: RegExp | undefined;\n    private _restrictValue = '';\n\n    public get domInput() {\n        return this._domInput;\n    }\n    public set visible(value: boolean) {\n        this._domInput.style.display = value ? 'block' : 'none'\n    }\n    public get visible() {\n        if (this._domInput.style.display === 'block')\n            return true;\n        return false;\n    }\n\n    public get value(): string {\n        return this._domInput.value;\n    }\n    public set value(value: string) {\n        this._domInput.value = value;\n    }\n\n    public set placeholder(value: string) {\n        this._domInput.placeholder = value;\n    }\n\n    public set disabled(value: boolean) {\n        this._domInput.disabled = value;\n    }\n\n    public get maxlength() {\n        return this._domInput.maxLength;\n    }\n\n    public set maxlength(value: number) {\n        this._domInput.maxLength = value;\n    }\n\n    /*  */\n    public get restrict() {\n        return this._restrictRegex;\n    }\n    public set restrict(regex) {\n        if (regex === undefined) {\n            return;\n        }\n        if (regex instanceof RegExp) {\n            let str = regex.toString().slice(1, -1);\n\n            if (str.charAt(0) !== '^')\n                str = '^' + str;\n\n            if (str.charAt(str.length - 1) !== '$')\n                str = str + '$';\n\n            regex = new RegExp(str);\n        } else {\n            regex = new RegExp('^[' + regex + ']*$');\n        }\n        this._restrictRegex = regex;\n    }\n\n    public setStyle(style: InputStyle) {\n        for (const key in style) {\n            this._domInput.style[key as any] = style[key];\n        }\n        //this._domInput.setAttribute(\"style\", stylestr);\n    }\n\n    public setStyleValue(key: any, value: any) {\n        this._domInput.style[key] = value;\n    }\n\n    public select() {\n        this._domInput.select();\n    }\n\n    /** body */\n    public getDOMInputBounds() {\n\n        const orgTransform = this._domInput.style.transform;\n        const orgDisplay = this._domInput.style.display;\n        this._domInput.style.transform = '';\n        this._domInput.style.display = 'block';\n        const bounds = this._domInput.getBoundingClientRect();\n        this._domInput.style.transform = orgTransform;\n        this._domInput.style.display = orgDisplay;\n\n        return bounds;\n    }\n\n    public updatePostion(top: string | number, left: string | number, transform: string, opacity?: string | number) {\n        this._domInput.style.top = top + 'px'\n        this._domInput.style.left = left + 'px'\n        this._domInput.style.transform = transform;\n        if (opacity)\n            this._domInput.style.opacity = opacity.toString();\n    }\n\n    private addDom(multiline: boolean) {\n\n        if (multiline) {\n            this._domInput = document.createElement('textarea')\n            this._domInput.style.resize = 'none';\n        } else {\n            this._domInput = document.createElement('input')\n            this._domInput.type = 'text';\n        }\n        this.addEvent();\n        document.body.appendChild(this._domInput);\n        return this._domInput;\n    }\n\n    private removeDom() {\n        if (this._domInput) {\n            document.body.removeChild(this._domInput);\n        }\n    }\n\n    public release() {\n        this.removeDom();\n        this.removeEvent();\n        this.removeAllListeners();\n    }\n\n\n\n\n    private _onInputKeyDownBind: any;\n    private _onInputInputBind: any;\n    private _onInputKeyUpBind: any;\n    private _onFocusedBind: any;\n    private _onBlurredBind: any;\n\n    private addEvent() {\n        if (this._onInputKeyDownBind) {\n            return;\n        }\n        this._onInputKeyDownBind = this._onInputKeyDown.bind(this);\n        this._onInputInputBind = this._onInputInput.bind(this);\n        this._onInputKeyUpBind = this._onInputKeyUp.bind(this);\n        this._onFocusedBind = this._onFocused.bind(this);\n        this._onBlurredBind = this._onBlurred.bind(this);\n        this._domInput.addEventListener('keydown', this._onInputKeyDownBind, { passive: false });\n        this._domInput.addEventListener('input', this._onInputInputBind, { passive: false });\n        this._domInput.addEventListener('keyup', this._onInputKeyUpBind, { passive: false });\n        this._domInput.addEventListener('focus', this._onFocusedBind, { passive: false });\n        this._domInput.addEventListener('blur', this._onBlurredBind, { passive: false });\n    }\n    private removeEvent() {\n        if (this._onInputKeyDownBind) {\n            this._domInput.removeEventListener('keydown', this._onInputKeyDownBind);\n            this._domInput.removeEventListener('input', this._onInputInputBind);\n            this._domInput.removeEventListener('keyup', this._onInputKeyUpBind);\n            this._domInput.removeEventListener('focus', this._onFocusedBind);\n            this._domInput.removeEventListener('blur', this._onBlurredBind);\n            this._onInputKeyDownBind = undefined;\n            this._onInputInputBind = undefined;\n            this._onInputKeyUpBind = undefined;\n            this._onFocusedBind = undefined;\n            this._onBlurredBind = undefined;\n        }\n    }\n    private _applyRestriction() {\n        if (this._restrictRegex) {\n            if (this._restrictRegex.test(this.value)) {\n                this._restrictValue = this.value;\n            } else {\n                this.value = this._restrictValue;\n                this._domInput.setSelectionRange(\n                    this._selection[0],\n                    this._selection[1]\n                )\n            }\n        }\n    }\n\n    private _onInputKeyDown(e: KeyboardEvent) {\n        this._selection = [\n            this._domInput.selectionStart || 0,\n            this._domInput.selectionEnd || 0\n        ]\n        this.emit(KeyEvent.keydown, this, e.keyCode);\n        //e.preventDefault();\n    }\n\n    private _onInputInput(e: KeyboardEvent) {\n        if ((e as any).data != null) {\n            if (this._restrictRegex)\n                this._applyRestriction();\n        }\n        this.emit(KeyEvent.input, this.value)\n        e.preventDefault();\n    }\n\n    private _onInputKeyUp(e: KeyboardEvent) {\n        this.emit(KeyEvent.keyup, this.value)\n        e.preventDefault();\n    }\n\n    private _onFocused(e: KeyboardEvent) {\n        this.emit('focus')\n        e.preventDefault();\n    }\n\n    private _onBlurred(e: KeyboardEvent) {\n        this.emit('blur')\n        e.preventDefault();\n    }\n\n    public focus() {\n\n        document.body.removeChild(this._domInput);\n        document.body.appendChild(this._domInput);\n        this._domInput.focus();\n\n    }\n    public blur() {\n        this._domInput.blur();\n    }\n\n}\n","import {DisplayObject} from \"../core/DisplayObject\";\nimport {Image as VfuiImage} from \"./Image\";\nimport * as Utils from \"../utils/Utils\";\nimport {DragEvent,InteractionEvent, ComponentEvent} from \"../interaction/Index\";\nimport { Tween } from \"../tween/Tween\";\nimport { Easing } from \"../tween/Easing\";\n\n/**\n * /\n * \n * @example let slider = new vf.gui.Slider();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestSlider\n */\nexport class Slider extends DisplayObject{\n\n    public constructor(){\n        super();\n\n        this._thumbDrag.onDragPress = this.onPress;\n        this._thumbDrag.onDragStart = this.onDragStart;\n        this._thumbDrag.onDragMove = this.onDragMove;\n        this._thumbDrag.onDragEnd = this.onDragEnd;\n\n        this._trackDrag.onDragPress = this.onPress;\n        this._trackDrag.onDragStart = this.onDragStart;\n        this._trackDrag.onDragMove = this.onDragMove;\n        this._trackDrag.onDragEnd = this.onDragEnd;\n\n        this.thumbImg.container.name = \"thumbImg\";\n        this.thumbImg.anchorX = 0.5;\n        this.thumbImg.anchorY = 0.5;\n        this.thumbImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.trackImg.container.name = \"trackImg\";\n        this.trackImg.fillMode = \"scale\";\n        this.trackImg.scale9Grid = [2,2,2,2];\n        this.trackImg.style.width = \"100%\";\n        this.trackImg.style.height = \"100%\";\n        this.trackImg.on(ComponentEvent.COMPLETE,this.onImgload, this);\n\n        this.tracklightImg.container.name = \"tracklightImg\";\n        this.tracklightImg.fillMode = \"scale\";\n        this.tracklightImg.scale9Grid = [2,2,2,2];\n\n        this.addChild(this.trackImg);\n        this.addChild(this.tracklightImg);\n        this.addChild(this.thumbImg);\n    }\n    /** \n     *  \n     */\n    protected _amt = 0;\n    /**\n     * 0\n     * @default 0\n     */\n    protected _decimals = 0;\n\n    protected _startValue = 0;\n    protected _maxPosition = 0;\n    protected _localMousePosition = new vf.Point();\n    protected _lastChange = 0;\n    protected _lastChanging = 0;\n    \n    private _thumbDrag = new DragEvent(this);\n    private _trackDrag = new DragEvent(this);\n\n    /**  */\n    readonly trackImg = new VfuiImage();\n    readonly thumbImg = new VfuiImage();\n    readonly tracklightImg = new VfuiImage();\n\n    private _value = 0;\n    /**\n     * \n     */\n    public get value() {\n        return Utils.Round(Utils.Lerp(this.minValue, this.maxValue, this._amt), this._decimals);\n    }\n    public set value(value: number) {\n        this._value = value;\n        this.valueSystem();\n    }\n\n    protected valueSystem(){\n        this._amt = (Math.max(this.minValue, Math.min(this.maxValue, this._value)) - this.minValue) / (this.maxValue - this.minValue);\n        this.updatePosition();\n        this.triggerValueChange();\n        this.triggerValueChanging();\n    }\n\n    /**\n     * \n     */\n    private _minValue = 0;\n    public get minValue() {\n        return this._minValue;\n    }\n    public set minValue(value) {\n        this._minValue = value;\n    }\n    /**\n     * \n     */\n    private _maxValue = 100;\n    public get maxValue() {\n        return this._maxValue;\n    }\n    public set maxValue(value) {\n        this._maxValue = value;\n    }\n    /**\n     * ,\n     */\n    private _vertical = false;\n    public get vertical() {\n        return this._vertical;\n    }\n    public set vertical(value) {\n        this._vertical = value;\n        this.updateLayout();\n    }\n    /** \n     * \n     */\n    private _track?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get track(){\n        return this._track;\n    }\n    public set track(value) {\n        if(value !== this._track){\n            this._track = value;\n            this.trackImg.src = value; \n        }\n    }\n    /** \n     * \n     */\n    private _thumb?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get thumb() {\n        return this._thumb;\n    }\n    public set thumb(value) {\n        if(value !== this._thumb){\n            this._thumb = value;\n            this.thumbImg.src = value; \n        }\n    }\n    /** \n     * \n     */\n    private _tracklight?: string | number | vf.Texture | HTMLImageElement | HTMLCanvasElement | HTMLVideoElement;\n    public get tracklight() {\n        return this._tracklight;\n    }\n    public set tracklight(value) {\n        if(value !== this._tracklight){\n            this._tracklight = value;\n            this.tracklightImg.src = value; \n        }\n    }\n\n    private isExcValueSystem = false;\n    public setActualSize(w: number, h: number): void {\n        super.setActualSize(w,h);\n        if(this.trackImg.width!==w){\n            this.trackImg.width = w;\n        }\n        if(this.trackImg.height!==w){\n            this.trackImg.height = h;\n        }\n        if(!this.isExcValueSystem){\n            this.valueSystem();\n            this.isExcValueSystem = true;\n        }\n\n    }\n\n    public release(){\n        super.release();\n        this.trackImg.release();\n        this.thumbImg.release();\n        this.tracklightImg.release();\n    }\n    \n    private onImgload(){\n        this.updateLayout();\n    }\n\n    protected updateLayout(){\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n        if (this.vertical) {\n            //thumbImg.style.top =this._amt; \n            thumbImg.x = this._width >> 1;\n            tracklightImg.width =this._width;\n            //tracklightImg.style.height = this._amt * this.height;\n        }else {\n            thumbImg.y =this._height >> 1;\n            //thumbImg.style.left = this._amt; \n            tracklightImg.height =this._height;\n            //tracklightImg.style.width =  this._amt * this.width;\n        }\n    }\n\n\n    protected updatePosition(soft?: boolean){\n\n        let val = 0;\n        const thumbImg = this.thumbImg;\n        const tracklightImg = this.tracklightImg;\n\n        if (this.vertical) {\n            val = this._height * this._amt;\n            if (soft) {\n                Tween.to({y:thumbImg.y,height:tracklightImg.height},{ y: val,height: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: any) => {\n                        thumbImg.y = obj.y;\n                        tracklightImg.height = obj.height;\n                    }) .start();\n            }\n            else {\n                thumbImg.y = val;\n                tracklightImg.height = val;\n            }\n        }\n        else {\n            val = this._width* this._amt;\n            if (soft) {\n                Tween.to({x:thumbImg.x,width:tracklightImg.width},{ x: val,width: val },300).easing(Easing.Linear.None)\n                    .on(Tween.Event.update, (obj: any\n                    ) => {\n                        thumbImg.x = obj.x;\n                        tracklightImg.width = obj.width;\n                    }) .start();\n            }\n            else {\n                thumbImg.x = val;\n                tracklightImg.width = val;\n            }\n        }\n    }\n\n    protected onPress (event: InteractionEvent,isPressed: boolean,dragEvent?: DragEvent) {     \n        event.stopPropagation();\n        if(this._trackDrag==dragEvent && this._trackDrag.id == event.data.identifier){\n            if (isPressed){\n                this.updatePositionToMouse(event.data.global, true);\n            }    \n        }\n    }\n\n    protected onDragStart (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._startValue = this._amt;\n            this._maxPosition = this.vertical ? this._height : this._width;\n        }\n    }\n\n    protected onDragMove (event: InteractionEvent,offset: vf.Point) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this._amt = !this._maxPosition ? 0 : Math.max(0, Math.min(1, this._startValue + ((this.vertical ? offset.y : offset.x) / this._maxPosition)));\n            this.triggerValueChanging();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.updatePositionToMouse(event.data.global, false);\n        }\n\n    }\n\n    protected onDragEnd (event: InteractionEvent) {\n        if(this._thumbDrag.id == event.data.identifier){\n            this.triggerValueChange();\n            this.updatePosition();\n        }else if(this._trackDrag && this._trackDrag.id == event.data.identifier){\n            this.triggerValueChange();\n        }\n    }\n    protected updatePositionToMouse (mousePosition: vf.Point, soft: boolean) {\n        this.trackImg.container.toLocal(mousePosition, undefined, this._localMousePosition, true);\n\n        const newPos = this.vertical ? this._localMousePosition.y  : this._localMousePosition.x;\n        const maxPos = this.vertical ? this._height: this._width ;\n        this._amt = !maxPos ? 0 : Math.max(0, Math.min(1, newPos / maxPos));\n        this.updatePosition(soft);\n        this.triggerValueChanging();\n    }\n\n    protected triggerValueChange() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGE,this, value,this._lastChange);\n        if (this._lastChange != value) {\n            this._lastChange = value;\n        }\n    }\n\n    protected triggerValueChanging() {\n        const value = this.value;\n        this.emit(ComponentEvent.CHANGEING,this, value,this._lastChanging);\n        if (this._lastChanging != value) {\n            this._lastChanging = value;\n        }\n    }\n}\n","import {Label} from \"./Label\";\nimport { ComponentEvent, InputController } from \"../interaction/Index\";\nimport {  Button } from \"./Button\";\n\n\n/**\n * \\\n * \n * checkGroup \n * \n * @example let checkBox = new vf.gui.CheckBox();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestCheckBox\n */\nexport class CheckBox extends Button{\n\n    public constructor() {\n        super();\n    }\n\n    /**\n     * \n     */\n    private _value = \"\";\n    /** \n     *  \n     * */\n    private _checked = false;\n\n    /** \n     * \n     */\n    public get selectedValue() {\n        if(this.checkGroup){\n            return InputController.getCheckGroupSelectedValue(this.checkGroup);\n        }\n        return undefined;\n    }\n\n    /** \n     * \n     */\n    public get checkGroup(): string | undefined {\n        return  this._groupName;\n    }\n    public set checkGroup(value: string | undefined) {\n        if(value === undefined){     \n            InputController.unRegistrerCheckGroup(this)\n        }\n        if(this._groupName == value){\n            return;\n        }\n        this._groupName = value;//registrerCheckGroup\n        InputController.registrerCheckGroup(this);\n    }\n\n    /** \n     *  \n     */\n    public get value() {\n        return this._value;\n    }\n    public set value(value) {\n        if(value === this._value){\n            return;\n        }\n        this._value = value;\n    }\n\n    /** \n     *  \n     * @default false\n     */\n    public get checked() {\n        return this._checked;\n    }\n    public set checked(value) {\n        if (value !==  this._checked) {\n            if (this.checkGroup)\n                InputController.updateCheckGroupSelected(this);\n            \n            this._oldState = \"\";\n            if(value){\n                this._selectedStr = \"AndSelected\";\n            }else{\n                \n                this._selectedStr = \"\";\n            }\n            this._checked = value;\n            this.emit(ComponentEvent.CHANGE,this);\n            this.onStateChange(this,this.currentState);\n        }\n    }\n\n\n    protected onClick(){\n        super.onClick();\n        if (this.checkGroup && this.checked)\n            return;\n        this.checked = !this.checked;\n    }\n\n    protected onLabelChange(label: Label){\n        label.style.left = this.width;\n        label.style.top =  this.height - label.height >> 1;\n    }\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/**\n * \n * \n *  lineWidth  color \n * \n * @example let rect = new vf.gui.Rect();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestRect\n */\nexport class Rect extends DisplayObject implements MaskSprite{\n    public constructor(){\n        super();\n        this.graphics = new vf.Graphics();\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: vf.Graphics;\n\n    /**  */\n    public maskSprite(){\n        return this.graphics;\n    }\n\n    /**\n     * \n     */\n    private _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 0;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.invalidateDisplayList();\n    }\n    /** \n     *  \n     */\n    private _color?: number;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawRoundedRect(){\n        const graphics = this.graphics;\n        graphics.clear();\n        if(this._radius>=(this.width/2)){\n            graphics.lineStyle(this._lineWidth,this._lineColor,1,1,true);\n        }else{\n            graphics.lineStyle(this._lineWidth,this._lineColor);\n        }\n        \n        if(this._color !== undefined)\n            graphics.beginFill(this._color);   \n        \n        \n        graphics.drawRoundedRect(this._anchorX?-this._anchorX*this.width:0,this._anchorY?-this._anchorY*this.height:0,this.width, this.height,this._radius);\n        graphics.endFill();\n    }\n    \n    public release(){\n        super.release();\n        if(this.graphics.parent){\n            this.graphics.parent.removeChild(this.graphics).destroy();\n        }\n        \n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        this.drawRoundedRect();\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n    }\n\n\n}","import {DisplayObject} from \"../core/DisplayObject\";\nimport {MaskSprite} from \"../core/MaskSprite\";\n\n/**\n * \n * \n *  lineWidth  color \n * \n * @example let circle = new vf.gui.Circle();\n * \n\n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestCircle\n */\nexport class Circle extends DisplayObject implements MaskSprite{\n    public constructor(){\n        super();\n        this.graphics = new vf.Graphics();\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: vf.Graphics;\n\n    /**  */\n    public maskSprite(){\n        return this.graphics;\n    }\n\n    /**\n     * \n     */\n    private _radius = 0;\n    public get radius() {\n        return this._radius;\n    }\n    public set radius(value) {\n        this._radius = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 0;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        this._lineWidth = value;\n        this.invalidateDisplayList();\n    }\n    /** \n     *  \n     */\n    private _color?: number;\n    public get color() {\n        return this._color;\n    }\n    public set color(value) {\n        this._color = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorX?: number;\n    public get anchorX() {\n        return this._anchorX;\n    }\n    public set anchorX(value) {\n        this._anchorX = value;\n        this.invalidateDisplayList();\n    }\n    /**\n     *  0-1\n     */\n    private _anchorY?: number;\n    public get anchorY() {\n        return this._anchorY;\n    }\n    public set anchorY(value) {\n        this._anchorY = value;\n        this.invalidateDisplayList();\n    }\n\n    public drawCircle(){\n        const graphics = this.graphics;\n        graphics.clear();\n        graphics.lineStyle(this._lineWidth,this._lineColor);\n        \n        if(this._color !== undefined)\n            graphics.beginFill(this._color);   \n        \n        \n        graphics.drawCircle(this._anchorX || 0,this._anchorY || 0,this._radius);\n        graphics.endFill();\n    }\n    \n    public release(){\n        super.release();\n        if(this.graphics.parent){\n            this.graphics.parent.removeChild(this.graphics).destroy();\n        }\n        \n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number) {\n        this.drawCircle();\n        super.updateDisplayList(unscaledWidth,unscaledHeight);\n    }\n\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\n\n\n/**\n * \n * \n * @example let graphics = new vf.gui.Graphics();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nexport class Graphics extends DisplayObject {\n\n    public constructor(geometry?: vf.GraphicsGeometry | undefined) {\n        super();\n        this.graphics = new vf.Graphics(geometry);\n        this.container.addChild(this.graphics);\n    }\n\n    public readonly graphics: vf.Graphics;\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { InteractionEvent, TouchMouseEvent, ClickEvent, ComponentEvent } from \"../interaction/Index\";\nimport { pointDistance, pointSub, pointSignAngle } from \"../utils/Utils\";\nimport { FollowLineEnum } from \"../enum/Index\";\n\nconst tempLocalBounds = new vf.Rectangle();\n\n/**  */\nconst POS_DISTANCE = 7;\n/**  */\nconst MAX_ARC = 0.09; // 5\n\n/**  */\nconst DIGIT = 90;\n/**  ascii */\nconst NUMBER_TO_STR = \"$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\";\n\n/**  */\nconst COMPRESS_RATE = 2;\n\n/**  */\nconst MAX_WIDTH = 1500;\n\n/**  */\nconst POSITIVE: number = MAX_WIDTH / 2;\n\n/**  */\nconst MAX_LINES = 100;\n\nconst TeacherDrawColor = 0xcd0032;\nconst StudentDrawColor = 0x3200cd;\n\n/** xy3MAX_WIDTH */\nfunction getStrFromPos(x: number, y: number) {\n    x = Math.min(Math.max(0, x), MAX_WIDTH);\n    y = Math.min(Math.max(0, y), MAX_WIDTH);\n\n    // \n    const compX = Math.floor(x / COMPRESS_RATE);\n    const compY = Math.floor(y / COMPRESS_RATE);\n\n    const n1 = compX % DIGIT;\n    const n2 = compY % DIGIT;\n    const n3 = Math.floor(compX / DIGIT) * 10 + Math.floor(compY / DIGIT);\n\n    return NUMBER_TO_STR[n1] + NUMBER_TO_STR[n2] + NUMBER_TO_STR[n3];\n}\n\n/**  */\nfunction getVecListFromStr(str: string, from: number, to: number): number[] {\n    const list = [];\n    for (let index = from; index < to; index += 3) {\n        const n1 = str.charCodeAt(index) - 36;\n        const n2 = str.charCodeAt(index + 1) - 36;\n        const n3 = str.charCodeAt(index + 2) - 36;\n\n        const n12 = Math.floor(n3 / 10);\n        const n22 = n3 % 10;\n\n        const compX = n1 + n12 * DIGIT;\n        const compY = n2 + n22 * DIGIT;\n\n        const realX = compX * COMPRESS_RATE;\n        const realY = compY * COMPRESS_RATE;\n\n        list.push(realX);\n        list.push(realY);\n    }\n    return list;\n}\n\n\n/**\n * \n * \n * @example let graphics = new vf.gui.FollowLine();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestTimeLine\n */\nexport class FollowLine extends DisplayObject {\n\n    public constructor(bindDisplay?: DisplayObject) {\n        super();\n        this._lastPos = new vf.Point();\n        this._mouseOffset = new vf.Point();\n        this._lines = new Map();\n        this.container.interactiveChildren = false;\n        if (bindDisplay) {\n            this.clickEvent = new ClickEvent(bindDisplay, true);\n        } else {\n            this.clickEvent = new ClickEvent(this, true);\n        }\n        this.clickEvent.isOpenLocalPoint = true;\n    }\n    protected clickEvent: ClickEvent;\n    /**  */\n    private _lines: Map<string, vf.Graphics>;\n    /**  */\n    private _eraseLine?: vf.Graphics;\n    /** ID */\n    private _touchId = -1;\n    /**  */\n    private _posCache: vf.Point[] = [];\n    /** key */\n    private _lineKeys: string[] = [];\n    /**  */\n    private _mouseOffset: vf.Point;\n    /**  */\n    private startOffset = new vf.Point();\n    /**  */\n    private _lastPos: vf.Point;\n    /**\n     * \n     */\n    private _curLineIndex = 0;\n    /**\n     * \n     */\n    private _messageCache: string[] = [];\n    /**\n     * \n     */\n    private _lineColor = 0x000000;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        this._lineColor = value;\n    }\n\n    /**\n     * \n     */\n    private _isPause = false;\n    public get isPause() {\n        return this._isPause;\n    }\n    public set isPause(value) {\n        this._isPause = value;\n    }\n\n    /**  */\n    private _isErasing = false;\n    public get isErasing() {\n        return this._isErasing;\n    }\n    public set isErasing(value) {\n        if (this._isErasing === value) {\n            return;\n        }\n        this._isErasing = value;\n        if (value) {\n            this.clickEvent.getTarget().container.cursor = \"grab\";\n        } else {\n            this.clickEvent.getTarget().container.cursor = \"auto\";\n        }\n    }\n    /**  */\n    private _role: FollowLineEnum.Role = FollowLineEnum.Role.teacher;\n    public get role() {\n        return this._role;\n    }\n    public set role(value) {\n        this._role = value;\n        if (value == FollowLineEnum.Role.teacher) {\n            this._lineColor = TeacherDrawColor;\n        } else {\n            this._lineColor = StudentDrawColor;\n        }\n    }\n\n    /**\n     * @private\n     * invalidateProperties()\n     */\n    protected commitProperties(): void {\n        this.onMessage();\n        this.getCurLineByPos();\n    }\n    /**\n     * ,\n     */\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n        super.updateDisplayList(unscaledWidth, unscaledHeight);\n        this.container.hitArea = new vf.Rectangle(0, 0, this.width, this.height);\n    }\n\n    $onInit() {\n        //this.on(\"xxxx\")\n        this.clickEvent.getTarget().on(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().on(TouchMouseEvent.onMove, this.onMove, this);\n    }\n\n\n    $onRelease() {\n        this.clickEvent.getTarget().off(TouchMouseEvent.onPress, this.onPress, this);\n        this.clickEvent.getTarget().off(TouchMouseEvent.onMove, this.onMove, this);\n        this.clickEvent.remove();\n        this.clear();\n    }\n\n    private onMessage() {\n        const { _messageCache } = this;\n        if (_messageCache.length > 0) {\n            let message: string;\n            let data: string;\n            let role: string;\n            let operate: FollowLineEnum.Operate;\n            let lineId: string;\n            while (_messageCache.length > 0) {\n                message = _messageCache.pop() as string;\n                operate = message.charAt(0) as FollowLineEnum.Operate;\n                const messageIndex = message.indexOf('|');\n                role = message.charAt(1);\n                lineId = message.substr(2, messageIndex - 2);\n                switch (operate) {\n                    case FollowLineEnum.Operate.add:\n                        data = message.substr(messageIndex + 1);\n                        this.drawLine(lineId, data, 0, data.length, role);\n                        break;\n                    case FollowLineEnum.Operate.remove:\n                        this.removeLine(role + lineId);\n                        break;\n                    case FollowLineEnum.Operate.clear:\n                        this.clear();\n                        break;\n                }\n            }\n        }\n    }\n\n\n    private onPress(e: InteractionEvent, thisObj: DisplayObject, isPress: boolean) {\n        if (this._isPause) {\n            return;\n        }\n        e.stopPropagation();\n        if (isPress) {\n            if (this.parent === undefined) return;\n\n            if (this._isErasing) return;\n\n            if (this._touchId !== -1) return;\n\n            this._touchId = e.data.identifier;\n            const curLocal = this.container.toLocal(e.local, thisObj.container);\n            this.startOffset.set(Math.floor(e.local.x - curLocal.x), Math.floor(e.local.y - curLocal.y));\n            this._lastPos.copyFrom(curLocal);\n            this._posCache = [this._lastPos.clone()];\n            this._curLineIndex++;\n\n        } else {\n\n            // \n            if (this._isErasing && this._eraseLine) {\n                const name = this._eraseLine.name;\n                this.removeLine(name);\n                this.emitMsg(FollowLineEnum.Operate.remove, name.charAt(0) as FollowLineEnum.Role, name.substr(1));\n                this._eraseLine = undefined;\n                return;\n            }\n\n            if (this._touchId === -1 || this._touchId != e.data.identifier) return;\n\n            this._touchId = -1;\n\n            if (this._posCache.length == 1) { //\n                console.log('gui ->  >' + POS_DISTANCE);\n                this._curLineIndex--;\n                this._posCache.pop();\n                return;\n            }\n            this.emitMsg(FollowLineEnum.Operate.add, this.role, this._curLineIndex.toString(), this.getDataStrByPosCache());\n        }\n    }\n\n\n\n    private onMove(e: InteractionEvent) {\n        e.stopPropagation();\n        this._mouseOffset.set(Math.floor(e.local.x) - this.startOffset.x, Math.floor(e.local.y) - this.startOffset.y);\n\n        if (this._isErasing) {\n            if (this._role == FollowLineEnum.Role.teacher) {\n                this.invalidateProperties();\n            }\n            return;\n        }\n\n\n        if (this._touchId === -1 || !this._lastPos || this._touchId != e.data.identifier) return;\n\n        const { _lastPos, _posCache } = this;\n\n        const len = pointDistance(_lastPos, this._mouseOffset);\n\n        if (len < POS_DISTANCE) {\n            return;\n        }\n\n        const brush = this.getGraphics(this._curLineIndex.toString(), this.role);\n        brush.moveTo(_lastPos.x, _lastPos.y);\n        brush.lineTo(this._mouseOffset.x, this._mouseOffset.y);\n        _lastPos.copyFrom(this._mouseOffset);\n        _posCache.push(_lastPos.clone());\n\n    }\n\n    /**\n     * \n     * @param operate   1 2 3\n     * @param role  Role\n     * @param lineIndex  ID\n     */\n    private emitMsg(operate: FollowLineEnum.Operate, role: FollowLineEnum.Role, lineId: string, data = '') {\n        const dataStr = operate + role + lineId + '|' + data;\n        this.emit(ComponentEvent.COMPLETE, this, dataStr);\n    }\n\n    /**\n     * \n     * @param name (name = role + lineId)\n     * @param role \n     */\n    private getGraphics(name: string, role: string): vf.Graphics {\n        const key = role + name;\n        if (this._lines.has(key)) {\n            return this._lines.get(key) as vf.Graphics;\n        }\n        if (this._lines.size > MAX_LINES) {\n            this.removeLine(this._lineKeys.shift() as string);\n        }\n        const graphics = new vf.Graphics();\n        graphics.interactive = false;\n        graphics.interactiveChildren = false;\n        graphics.name = key;\n        this.container.addChild(graphics);\n        this._lineKeys.push(key);\n        this._lines.set(key, graphics);\n        graphics.lineStyle(3, this._lineColor);\n        return graphics;\n    }\n\n    private getCurLineByPos() {\n\n\n        const { _lines, _mouseOffset } = this;\n\n        if (this._eraseLine) {\n            this._eraseLine.tint = 0xFFFFFF;\n            this._eraseLine = undefined;\n        }\n\n        if (!this.isErasing) {\n            return;\n        }\n\n        let lastDistance = 10000;\n\n        _lines.forEach(value => {\n            value.getLocalBounds(tempLocalBounds);\n            if (tempLocalBounds.contains(_mouseOffset.x, _mouseOffset.y)) {\n                const distance = pointDistance(_mouseOffset, { x: tempLocalBounds.x + tempLocalBounds.width * 0.5, y: tempLocalBounds.y + tempLocalBounds.height * 0.5 });\n                if (distance < lastDistance) {\n                    lastDistance = distance;\n                    this._eraseLine = value;\n                }\n\n            }\n        });\n\n        if (this._eraseLine) {\n            (this._eraseLine as vf.Graphics).tint = 0x000000;\n        }\n\n    }\n\n    private getDataStrByPosCache() {\n\n\n        const { _posCache } = this;\n        if (_posCache.length == 0) {\n            return;\n        }\n        // \n        const finalX = [_posCache[0].x];\n        const finalY = [_posCache[0].y];\n\n        let lastLastPos = _posCache[0];\n        let lastPos = _posCache[1];\n\n        let sumAngle = 0;\n\n        for (let index = 2; index < _posCache.length; index++) {\n            const pos = _posCache[index];\n            const pos1 = pointSub(lastPos, lastLastPos);\n            const pos2 = pointSub(pos, lastPos);\n            const angle = pointSignAngle(pos1, pos2);\n\n            if (angle > MAX_ARC || angle < -MAX_ARC || sumAngle > MAX_ARC || sumAngle < -MAX_ARC) {\n                finalX.push(lastPos.x);\n                finalY.push(lastPos.y);\n                sumAngle = 0;\n            } else {\n                sumAngle += angle;\n            }\n\n            lastLastPos = lastPos;\n            lastPos = pos;\n        }\n\n        finalX.push(_posCache[_posCache.length - 1].x);\n        finalY.push(_posCache[_posCache.length - 1].y);\n\n        const finalStrList = [];\n        for (let index = 0; index < finalX.length; index++) {\n            const x = finalX[index] + POSITIVE;\n            const y = finalY[index] + POSITIVE;\n            const str = getStrFromPos(x, y);\n\n            finalStrList.push(str);\n        }\n\n        const finalStr = finalStrList.join('');\n        return finalStr;\n    }\n\n    private drawLine(drawId: string, data: string, from: number, to: number, role: string) {\n        const graphics = this.getGraphics(drawId, role);\n        const posList = getVecListFromStr(data, from, to);\n        this.draw(graphics, posList);\n    }\n\n    private draw(graphics: vf.Graphics, posList: number[]) {\n        let lastX = posList[0] - POSITIVE;\n        let lastY = posList[1] - POSITIVE;\n        graphics.moveTo(lastX, lastY);\n\n        // \n        const realList = [];\n        for (let index = 2; index < posList.length; index += 2) {\n            const x = posList[index] - POSITIVE;\n            const y = posList[index + 1] - POSITIVE;\n\n            const halfX = lastX + (x - lastX) * 0.5;\n            const halfY = lastY + (y - lastY) * 0.5;\n\n            realList.push(halfX, halfY, x, y);\n\n            lastX = x;\n            lastY = y;\n        }\n\n        graphics.lineTo(realList[0], realList[1]);\n        for (let index = 2; index < realList.length - 2; index += 4) {\n            const cx = realList[index];\n            const cy = realList[index + 1];\n            const x = realList[index + 2];\n            const y = realList[index + 3];\n            graphics.quadraticCurveTo(cx, cy, x, y);\n        }\n\n        graphics.lineTo(realList[realList.length - 2], realList[realList.length - 1]);\n    }\n\n    private removeLine(key: string) {\n        const delKeyIndex = this._lineKeys.indexOf(key);\n        if (delKeyIndex !== -1) {\n            this._lineKeys.splice(delKeyIndex, 1);\n        }\n        const line = this._lines.get(key);\n        if (line) {\n            this._lines.delete(key);\n            if (line.parent) {\n                line.parent.removeChild(line);\n                line.destroy();\n            }\n        }\n\n    }\n\n    public clear() {\n        this._lines.forEach((value: vf.Graphics, key: string) => {\n            if (value.parent) {\n                value.parent.removeChild(value).destroy();\n            }\n        });\n        this._lines.clear();\n        this._curLineIndex = 0;\n        this._posCache = [];\n        this._lineKeys = [];\n    }\n\n    public setData(data: string | string[]) {\n        if (typeof data === 'string') {\n            this._messageCache.push(data);\n        } else {\n            this._messageCache = this._messageCache.concat(data);\n        }\n\n        this.invalidateProperties();\n    }\n\n    public set source(data: string | string[]){\n        this.setData(data);\n    }\n\n    public reset(): any {\n        this.emitMsg(FollowLineEnum.Operate.clear, this.role, \"\");\n        this.clear();\n    }\n\n\n}","import { DisplayObject } from \"../core/DisplayObject\";\nimport { ComponentEvent } from \"../interaction/Index\";\nimport { pointPlus, pointDistance, getDisplayObject } from \"../utils/Utils\";\nimport { Tween } from \"../tween/Tween\";\n\ntype LinePostion = 'leftTop' | 'centerTop' | 'rightTop' |\n'leftCenter' | 'center' | 'rightCenter' |\n'leftBottom' | 'centerBottom' | 'rightBottom' | number[];\n\n\nexport const play = Symbol(\"play\");\n/**\n * \n * \n * \n * @example let connectLine = new vf.gui.ConnectLine();\n * \n * \n * @link https://vipkid-edu.github.io/vf-gui/play/#example/TestConnectLine\n */\nexport class ConnectLine extends DisplayObject {\n\n    public constructor() {\n        super();\n        this.line = new vf.Graphics();\n        this.container.addChild(this.line);\n\n    }\n\n    private readonly line: vf.Graphics;\n    private _lastStartPos: {x: number; y: number} = {x: NaN, y: NaN};\n    private _lastEndPos: {x: number; y: number} = {x: NaN, y: NaN};\n\n    private _play: 1|2 = 1;\n    /**\n     *  \n     * \n     *   play = 1 source->target.\n     *   play = 2 target->source.\n     */\n    public get play() {\n        return this._play;\n    }\n    public set play(value) {\n        this.$values[play] = true;\n        this._play = value;\n        this.invalidateDisplayList();\n    }\n\n    private _autoPlay = true;\n    /**\n     *   autoPlay = true\n     * \n     *  autoPlay = truesource,target,sourcePostion,targetPostionsource->target.\n     * \n     *  autoPlay = falsesource,target,sourcePostion,targetPostion play.\n     */\n    public get autoPlay() {\n        return this._autoPlay;\n    }\n    public set autoPlay(value) {\n        this._autoPlay = value;\n    }\n\n    private _source?: DisplayObject;\n    /**\n     * \n     */\n    public get source() {\n        return this._source;\n    }\n    public set source(value) {\n        if (this._source === getDisplayObject(value,this)) {\n            return;\n        }      \n        this._source = getDisplayObject(value,this);\n        this.invalidateDisplayList();\n    }\n\n    private _sourcePostion: LinePostion = [0, 0];\n    /**\n     * \n     */\n    public get sourcePostion() {\n        return this._sourcePostion;\n    }\n    public set sourcePostion(value) {\n        if (this._sourcePostion === value) {\n            return;\n        }\n        this._sourcePostion = value;\n        this.invalidateDisplayList();\n    }\n\n    private _target?: DisplayObject;\n    /**\n     * \n     */\n    public get target() {\n        return this._target;\n    }\n    public set target(value) {\n        if (this._target === getDisplayObject(value,this)) {\n            return;\n        }\n        this._target = getDisplayObject(value,this);\n        this.invalidateDisplayList();\n    }\n\n    private _targetPostion: LinePostion = [0, 0];\n    /**\n     * \n     */\n    public get targetPostion() {\n        return this._targetPostion;\n    }\n    public set targetPostion(value) {\n        if (this._targetPostion === value) {\n            return;\n        }\n        this._targetPostion = value;\n        this.invalidateDisplayList();\n    }\n\n    /**\n     * \n     */\n    private _lineColor = 0;\n    public get lineColor() {\n        return this._lineColor;\n    }\n    public set lineColor(value) {\n        if (this._lineColor === value) {\n            return;\n        }\n        this._lineColor = value;\n        this.invalidateProperties();\n    }\n    /**\n     * \n     */\n    private _lineWidth = 1;\n    public get lineWidth() {\n        return this._lineWidth;\n    }\n    public set lineWidth(value) {\n        if (this._lineWidth === value) {\n            return;\n        }\n        this._lineWidth = value;\n        this.invalidateProperties();\n        this.invalidateDisplayList();\n    }\n\n    private _isAnimation = false;\n    /**\n     * \n     */\n    public get isAnimation() {\n        return this._isAnimation;\n    }\n    public set isAnimation(value) {\n        if (this._isAnimation === value) {\n            return;\n        }\n        this._isAnimation = value;\n    }\n\n\n    protected commitProperties(): void {\n        this.line.lineStyle(this.lineWidth, this.lineColor, this.alpha);\n    }\n\n    private getLocalPos(_linePostion: LinePostion, display?: DisplayObject) {\n        let pos: { x: number; y: number } = {x: 0, y: 0};\n\n        if (display) {\n            if(display.container.position.x === 0 && display.container.position.y === 0){\n                display.validateNow();\n            }\n            const startPos = this.container.parent.toLocal(display.container.position, display.container.parent);\n            switch (_linePostion) {\n                case 'leftTop':\n                    pos = pointPlus(startPos,{x: 0, y: 0});\n                    break;\n                case 'leftCenter':\n                    pos = pointPlus(startPos,{x: 0, y: display.height >> 1});\n                    break;\n                case 'leftBottom':\n                    pos = pointPlus(startPos,{x: 0, y: display.height});\n                    break;\n                case 'centerTop':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: 0});\n                    break;\n                case 'center':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: display.height >> 1});\n                    break;\n                case 'centerBottom':\n                    pos = pointPlus(startPos,{x: display.width >> 1, y: display.height});\n                    break;\n                case 'rightTop':\n                    pos = pointPlus(startPos,{x: display.width, y: 0});\n                    break;\n                case \"rightCenter\":\n                    pos = pointPlus(startPos,{x: display.width, y: display.height >> 1});\n                    break;\n                case 'rightBottom':\n                    pos = pointPlus(startPos,{x: display.width, y: display.height});\n                    break;\n                default:\n                    pos.x = startPos.x + _linePostion[0];\n                    pos.y = startPos.y + _linePostion[1];\n            }\n        } else {\n            if (Array.isArray(_linePostion)) {\n                pos.x = _linePostion[0];\n                pos.y = _linePostion[1];\n            }\n        }\n\n        return pos;\n    }\n\n    protected updateDisplayList(unscaledWidth: number, unscaledHeight: number): void {\n\n        const { _source, _target, _sourcePostion, _targetPostion, _lastStartPos, _lastEndPos, line} = this;\n        const startPos = this.getLocalPos(_sourcePostion, _source);\n        const endPos = this.getLocalPos(_targetPostion, _target);\n        if (_lastStartPos.x !== startPos.x ||\n             _lastStartPos.y !== startPos.y ||\n             _lastEndPos.x !== endPos.x ||\n             _lastEndPos.y !== endPos.y) {\n\n            this._lastStartPos =  startPos; \n            this._lastEndPos =  endPos; \n            if(this._autoPlay){\n                this.animation();\n            }     \n        }\n        if(this.$values[play] === true && !this._autoPlay) {\n            this.$values[play] = false;\n            this.animation();\n        }   \n        //super.updateDisplayList(unscaledWidth, unscaledHeight);     \n    }\n\n    private animation(){\n        const yoyo = this._play;\n        const line = this.line;\n        const startPos = yoyo === 1 ? this._lastStartPos : this._lastEndPos;\n        const endPos = yoyo === 1 ? this._lastEndPos : this._lastStartPos;\n\n        line.removeChildren();\n\n        if(!this.isAnimation){\n            line.moveTo(startPos.x,startPos.y);\n            line.lineTo(endPos.x, endPos.y);\n            this.emit(ComponentEvent.COMPLETE,this);\n            return;\n        }\n\n        const distance = pointDistance(startPos,endPos);\n        const lastPos = {x:startPos.x,y:startPos.y};\n        const from =  {dt:0};\n        const to =  {dt:distance};\n        const tw = new Tween(from)\n            .to(to,500)\n            .on(Tween.Event.update, (obj: any) => {\n                const dt =  Math.ceil(obj.dt);\n                const x = (dt*(endPos.x-startPos.x))/distance + startPos.x;\n                const y = (dt*(endPos.y-startPos.y))/distance + startPos.y;\n                line.moveTo(lastPos.x, lastPos.y);\n                line.lineTo(x, y);\n                lastPos.x = x;\n                lastPos.y = y;\n            })\n            .once(Tween.Event.complete, (obj: any) => {\n                tw.removeAllListeners();\n                tw.release();\n                this.emit(ComponentEvent.COMPLETE,this);\n            })\n            .start();\n    }\n\n    public set isClear(value: boolean){\n        this.clear();\n    }\n\n    public clear(){\n        const line = this.line;\n        line.clear();\n        this.commitProperties();\n    }\n\n    public release() {\n        super.release();\n        this._source = undefined;\n        this._target = undefined;\n        const line = this.line;\n        line.clear();\n        if (line.parent) {\n            line.parent.removeChild(line).destroy();\n        }\n        this.offAll(ComponentEvent.COMPLETE);\n    }\n}","import * as ComponentEvent from \"./ComponentEvent\";\nimport {InteractionEvent} from \"./InteractionEvent\";\n//import {KeyEvent} from \"./KeyEvent\";\nimport {TouchMouseEvent} from \"./TouchMouseEvent\";\nimport {TweenEvent} from \"./TweenEvent\";\nimport { SchedulerEvent } from \"./SchedulerEvent\";\n\nexport {\n    ComponentEvent,\n    InteractionEvent,\n    //KeyEvent,\n    TouchMouseEvent,\n    TweenEvent,\n    SchedulerEvent\n};","import * as FollowLineEnum from \"./FollowLineEnum\";\n\nexport {FollowLineEnum};","import { TickerShared } from \"../UI\";\nimport { EventType } from \"../event/EventType\";\nimport { EventLevel } from \"../event/EventLevel\";\n\n/**\n * Schedule anything\n *\n * @author 8088\n */\n\nexport class Scheduler extends vf.utils.EventEmitter {\n\n    public get id(): number {\n        return this._id;\n    }\n\n    public static clock: () => number = Date.now;\n\n    public static ticker: any = TickerShared;\n\n    public static setInterval(time: number, listener: () => void): Scheduler {\n        const scheduler: Scheduler = new Scheduler(Infinity, time);\n        scheduler.addListener(EventType.TICK, listener);\n        return scheduler;\n    }\n\n    public static setTimeout(time: number, listener: () => void): Scheduler {\n        const scheduler: Scheduler = new Scheduler(time, Infinity);\n        scheduler.addListener(EventType.END, listener, scheduler);\n        return scheduler;\n    }\n\n    public interval: number = 0;\n\n    public timeout: number = Infinity;\n\n    protected start: number = 0;\n\n    protected lastTick: number = -1;\n\n    protected endHandler: () => void;\n\n    protected elapsedTimeAtPause: number = 0;\n\n    protected lastVisited: number = -1;\n\n    protected tickHandler: () => void;\n\n    private _running: boolean = false;\n\n    private _lastExecuted: number = 0;\n\n    private _id: number = Math.random();\n\n    private TIMEOUT: number = 1000;\n\n    constructor(_timeout: number = Infinity, _interval: number = 0) {\n        super();\n        this.endHandler = this.noop;\n        this.tickHandler = this.noop;\n        this.timeout = _timeout;\n        this.interval = _interval;\n        this.restart();\n    }\n\n    public restart(): void {\n        this.elapsedTimeAtPause = 0;\n        this.start = Scheduler.clock();\n        this._lastExecuted = this.start;\n        this._running = true;\n        Scheduler.ticker.addUpdateEvent(this.run, this);\n    }\n\n    public stop(): void {\n        this.elapsedTimeAtPause = 0;\n        this._running = false;\n        Scheduler.ticker.removeUpdateEvent(this.run, this);\n    }\n\n    public pause(): void {\n        if (this._running) {\n            this.stop();\n            this.elapsedTimeAtPause = Scheduler.clock() - this.start;\n        }\n    }\n\n    public resume(): void {\n        let _t: number;\n        if (!this._running) {\n            _t = this.elapsedTimeAtPause;\n            this.restart();\n            this.start = this.start - _t;\n        }\n    }\n\n    public seek(time: number): void {\n        this.elapsedTimeAtPause = time;\n    }\n\n    public isTickable(num: number): boolean {\n        return num - this.lastTick >= this.interval;\n    }\n\n    protected noop(evt: any = null): void {\n        return;\n    }\n\n\n    // Internals\n    //\n\n    private run(): boolean {\n        let elapsed: number;\n        const t: number = Scheduler.clock();\n        const timeElapsed: any = t - this._lastExecuted;\n        this._lastExecuted = t;\n\n        if (timeElapsed >= this.TIMEOUT) {\n            return false; // init Scheduler\n        }\n\n        if (this.lastVisited <= t) {\n            this.lastVisited = t;\n            elapsed = t - this.start;\n            if (this.isTickable(t)) {\n                this.lastTick = t;\n                const info = {\n                    code: EventType.TICK,\n                    level: EventLevel.STATUS,\n                    target: this,\n                    elapsed,\n                };\n                this.emit(EventType.TICK, info);\n            }\n            if (elapsed >= this.timeout) {\n                this.stop();\n                const info = {\n                    code: EventType.END,\n                    level: EventLevel.STATUS,\n                    target: this,\n                    elapsed,\n                };\n                this.emit(EventType.END, info);\n            }\n            // ..\n        }\n\n        return false;\n    }\n}\n"],"sourceRoot":""}